function Rx(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var $r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $x(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var hv={exports:{}},Lh={},fv={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eu=Symbol.for("react.element"),Bx=Symbol.for("react.portal"),zx=Symbol.for("react.fragment"),Ux=Symbol.for("react.strict_mode"),qx=Symbol.for("react.profiler"),Wx=Symbol.for("react.provider"),Hx=Symbol.for("react.context"),Vx=Symbol.for("react.forward_ref"),Gx=Symbol.for("react.suspense"),Kx=Symbol.for("react.memo"),Jx=Symbol.for("react.lazy"),q0=Symbol.iterator;function Yx(t){return t===null||typeof t!="object"?null:(t=q0&&t[q0]||t["@@iterator"],typeof t=="function"?t:null)}var pv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gv=Object.assign,mv={};function fl(t,e,n){this.props=t,this.context=e,this.refs=mv,this.updater=n||pv}fl.prototype.isReactComponent={};fl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vv(){}vv.prototype=fl.prototype;function om(t,e,n){this.props=t,this.context=e,this.refs=mv,this.updater=n||pv}var lm=om.prototype=new vv;lm.constructor=om;gv(lm,fl.prototype);lm.isPureReactComponent=!0;var W0=Array.isArray,yv=Object.prototype.hasOwnProperty,cm={current:null},wv={key:!0,ref:!0,__self:!0,__source:!0};function xv(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)yv.call(e,r)&&!wv.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:eu,type:t,key:s,ref:a,props:i,_owner:cm.current}}function Qx(t,e){return{$$typeof:eu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function um(t){return typeof t=="object"&&t!==null&&t.$$typeof===eu}function Xx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var H0=/\/+/g;function Vf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Xx(""+t.key):e.toString(36)}function Ld(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case eu:case Bx:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Vf(a,0):r,W0(i)?(n="",t!=null&&(n=t.replace(H0,"$&/")+"/"),Ld(i,e,n,"",function(u){return u})):i!=null&&(um(i)&&(i=Qx(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(H0,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",W0(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+Vf(s,o);a+=Ld(s,e,n,l,i)}else if(l=Yx(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+Vf(s,o++),a+=Ld(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ed(t,e,n){if(t==null)return t;var r=[],i=0;return Ld(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Zx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yn={current:null},Pd={transition:null},eb={ReactCurrentDispatcher:Yn,ReactCurrentBatchConfig:Pd,ReactCurrentOwner:cm};function bv(){throw Error("act(...) is not supported in production builds of React.")}ct.Children={map:ed,forEach:function(t,e,n){ed(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ed(t,function(){e++}),e},toArray:function(t){return ed(t,function(e){return e})||[]},only:function(t){if(!um(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ct.Component=fl;ct.Fragment=zx;ct.Profiler=qx;ct.PureComponent=om;ct.StrictMode=Ux;ct.Suspense=Gx;ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eb;ct.act=bv;ct.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gv({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=cm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)yv.call(e,l)&&!wv.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:eu,type:t.type,key:i,ref:s,props:r,_owner:a}};ct.createContext=function(t){return t={$$typeof:Hx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Wx,_context:t},t.Consumer=t};ct.createElement=xv;ct.createFactory=function(t){var e=xv.bind(null,t);return e.type=t,e};ct.createRef=function(){return{current:null}};ct.forwardRef=function(t){return{$$typeof:Vx,render:t}};ct.isValidElement=um;ct.lazy=function(t){return{$$typeof:Jx,_payload:{_status:-1,_result:t},_init:Zx}};ct.memo=function(t,e){return{$$typeof:Kx,type:t,compare:e===void 0?null:e}};ct.startTransition=function(t){var e=Pd.transition;Pd.transition={};try{t()}finally{Pd.transition=e}};ct.unstable_act=bv;ct.useCallback=function(t,e){return Yn.current.useCallback(t,e)};ct.useContext=function(t){return Yn.current.useContext(t)};ct.useDebugValue=function(){};ct.useDeferredValue=function(t){return Yn.current.useDeferredValue(t)};ct.useEffect=function(t,e){return Yn.current.useEffect(t,e)};ct.useId=function(){return Yn.current.useId()};ct.useImperativeHandle=function(t,e,n){return Yn.current.useImperativeHandle(t,e,n)};ct.useInsertionEffect=function(t,e){return Yn.current.useInsertionEffect(t,e)};ct.useLayoutEffect=function(t,e){return Yn.current.useLayoutEffect(t,e)};ct.useMemo=function(t,e){return Yn.current.useMemo(t,e)};ct.useReducer=function(t,e,n){return Yn.current.useReducer(t,e,n)};ct.useRef=function(t){return Yn.current.useRef(t)};ct.useState=function(t){return Yn.current.useState(t)};ct.useSyncExternalStore=function(t,e,n){return Yn.current.useSyncExternalStore(t,e,n)};ct.useTransition=function(){return Yn.current.useTransition()};ct.version="18.3.1";fv.exports=ct;var Z=fv.exports;const Sv=Fx(Z),tb=Rx({__proto__:null,default:Sv},[Z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nb=Z,rb=Symbol.for("react.element"),ib=Symbol.for("react.fragment"),sb=Object.prototype.hasOwnProperty,ab=nb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ob={key:!0,ref:!0,__self:!0,__source:!0};function Nv(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)sb.call(e,r)&&!ob.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:rb,type:t,key:s,ref:a,props:i,_owner:ab.current}}Lh.Fragment=ib;Lh.jsx=Nv;Lh.jsxs=Nv;hv.exports=Lh;var d=hv.exports,kv={exports:{}},Nr={},_v={exports:{}},jv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,ie){var ae=V.length;V.push(ie);e:for(;0<ae;){var Ne=ae-1>>>1,P=V[Ne];if(0<i(P,ie))V[Ne]=ie,V[ae]=P,ae=Ne;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var ie=V[0],ae=V.pop();if(ae!==ie){V[0]=ae;e:for(var Ne=0,P=V.length,z=P>>>1;Ne<z;){var q=2*(Ne+1)-1,Y=V[q],te=q+1,ce=V[te];if(0>i(Y,ae))te<P&&0>i(ce,Y)?(V[Ne]=ce,V[te]=ae,Ne=te):(V[Ne]=Y,V[q]=ae,Ne=q);else if(te<P&&0>i(ce,ae))V[Ne]=ce,V[te]=ae,Ne=te;else break e}}return ie}function i(V,ie){var ae=V.sortIndex-ie.sortIndex;return ae!==0?ae:V.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],f=1,p=null,m=3,g=!1,b=!1,k=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(V){for(var ie=n(u);ie!==null;){if(ie.callback===null)r(u);else if(ie.startTime<=V)r(u),ie.sortIndex=ie.expirationTime,e(l,ie);else break;ie=n(u)}}function A(V){if(k=!1,N(V),!b)if(n(l)!==null)b=!0,ue(E);else{var ie=n(u);ie!==null&&pe(A,ie.startTime-V)}}function E(V,ie){b=!1,k&&(k=!1,x(R),R=-1),g=!0;var ae=m;try{for(N(ie),p=n(l);p!==null&&(!(p.expirationTime>ie)||V&&!O());){var Ne=p.callback;if(typeof Ne=="function"){p.callback=null,m=p.priorityLevel;var P=Ne(p.expirationTime<=ie);ie=t.unstable_now(),typeof P=="function"?p.callback=P:p===n(l)&&r(l),N(ie)}else r(l);p=n(l)}if(p!==null)var z=!0;else{var q=n(u);q!==null&&pe(A,q.startTime-ie),z=!1}return z}finally{p=null,m=ae,g=!1}}var B=!1,F=null,R=-1,J=5,ne=-1;function O(){return!(t.unstable_now()-ne<J)}function M(){if(F!==null){var V=t.unstable_now();ne=V;var ie=!0;try{ie=F(!0,V)}finally{ie?G():(B=!1,F=null)}}else B=!1}var G;if(typeof w=="function")G=function(){w(M)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,de=W.port2;W.port1.onmessage=M,G=function(){de.postMessage(null)}}else G=function(){_(M,0)};function ue(V){F=V,B||(B=!0,G())}function pe(V,ie){R=_(function(){V(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,ue(E))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(m){case 1:case 2:case 3:var ie=3;break;default:ie=m}var ae=m;m=ie;try{return V()}finally{m=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,ie){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ae=m;m=V;try{return ie()}finally{m=ae}},t.unstable_scheduleCallback=function(V,ie,ae){var Ne=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Ne+ae:Ne):ae=Ne,V){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ae+P,V={id:f++,callback:ie,priorityLevel:V,startTime:ae,expirationTime:P,sortIndex:-1},ae>Ne?(V.sortIndex=ae,e(u,V),n(l)===null&&V===n(u)&&(k?(x(R),R=-1):k=!0,pe(A,ae-Ne))):(V.sortIndex=P,e(l,V),b||g||(b=!0,ue(E))),V},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(V){var ie=m;return function(){var ae=m;m=ie;try{return V.apply(this,arguments)}finally{m=ae}}}})(jv);_v.exports=jv;var lb=_v.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cb=Z,Sr=lb;function _e(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lv=new Set,Ic={};function Ba(t,e){il(t,e),il(t+"Capture",e)}function il(t,e){for(Ic[t]=e,t=0;t<e.length;t++)Lv.add(e[t])}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fp=Object.prototype.hasOwnProperty,ub=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V0={},G0={};function db(t){return Fp.call(G0,t)?!0:Fp.call(V0,t)?!1:ub.test(t)?G0[t]=!0:(V0[t]=!0,!1)}function hb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fb(t,e,n,r){if(e===null||typeof e>"u"||hb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qn(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var An={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){An[t]=new Qn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];An[e]=new Qn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){An[t]=new Qn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){An[t]=new Qn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){An[t]=new Qn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){An[t]=new Qn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){An[t]=new Qn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){An[t]=new Qn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){An[t]=new Qn(t,5,!1,t.toLowerCase(),null,!1,!1)});var dm=/[\-:]([a-z])/g;function hm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dm,hm);An[e]=new Qn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dm,hm);An[e]=new Qn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dm,hm);An[e]=new Qn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){An[t]=new Qn(t,1,!1,t.toLowerCase(),null,!1,!1)});An.xlinkHref=new Qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){An[t]=new Qn(t,1,!1,t.toLowerCase(),null,!0,!0)});function fm(t,e,n,r){var i=An.hasOwnProperty(e)?An[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fb(e,n,i,r)&&(n=null),r||i===null?db(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var cs=cb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,td=Symbol.for("react.element"),Do=Symbol.for("react.portal"),Mo=Symbol.for("react.fragment"),pm=Symbol.for("react.strict_mode"),$p=Symbol.for("react.profiler"),Pv=Symbol.for("react.provider"),Cv=Symbol.for("react.context"),gm=Symbol.for("react.forward_ref"),Bp=Symbol.for("react.suspense"),zp=Symbol.for("react.suspense_list"),mm=Symbol.for("react.memo"),Cs=Symbol.for("react.lazy"),Av=Symbol.for("react.offscreen"),K0=Symbol.iterator;function Yl(t){return t===null||typeof t!="object"?null:(t=K0&&t[K0]||t["@@iterator"],typeof t=="function"?t:null)}var qt=Object.assign,Gf;function dc(t){if(Gf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gf=e&&e[1]||""}return`
`+Gf+t}var Kf=!1;function Jf(t,e){if(!t||Kf)return"";Kf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Kf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?dc(t):""}function pb(t){switch(t.tag){case 5:return dc(t.type);case 16:return dc("Lazy");case 13:return dc("Suspense");case 19:return dc("SuspenseList");case 0:case 2:case 15:return t=Jf(t.type,!1),t;case 11:return t=Jf(t.type.render,!1),t;case 1:return t=Jf(t.type,!0),t;default:return""}}function Up(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mo:return"Fragment";case Do:return"Portal";case $p:return"Profiler";case pm:return"StrictMode";case Bp:return"Suspense";case zp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Cv:return(t.displayName||"Context")+".Consumer";case Pv:return(t._context.displayName||"Context")+".Provider";case gm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mm:return e=t.displayName||null,e!==null?e:Up(t.type)||"Memo";case Cs:e=t._payload,t=t._init;try{return Up(t(e))}catch{}}return null}function gb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Up(e);case 8:return e===pm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ks(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ev(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mb(t){var e=Ev(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nd(t){t._valueTracker||(t._valueTracker=mb(t))}function Iv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ev(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qp(t,e){var n=e.checked;return qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function J0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ks(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Tv(t,e){e=e.checked,e!=null&&fm(t,"checked",e,!1)}function Wp(t,e){Tv(t,e);var n=Ks(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Hp(t,e.type,Ks(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Y0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Hp(t,e,n){(e!=="number"||Wd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hc=Array.isArray;function Ko(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ks(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_e(91));return qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Q0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(_e(92));if(hc(n)){if(1<n.length)throw Error(_e(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ks(n)}}function Ov(t,e){var n=Ks(e.value),r=Ks(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function X0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Dv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Dv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rd,Mv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rd=rd||document.createElement("div"),rd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vb=["Webkit","ms","Moz","O"];Object.keys(vc).forEach(function(t){vb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vc[e]=vc[t]})});function Rv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vc.hasOwnProperty(t)&&vc[t]?(""+e).trim():e+"px"}function Fv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Rv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var yb=qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kp(t,e){if(e){if(yb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_e(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_e(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_e(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_e(62))}}function Jp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yp=null;function vm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qp=null,Jo=null,Yo=null;function Z0(t){if(t=ru(t)){if(typeof Qp!="function")throw Error(_e(280));var e=t.stateNode;e&&(e=Ih(e),Qp(t.stateNode,t.type,e))}}function $v(t){Jo?Yo?Yo.push(t):Yo=[t]:Jo=t}function Bv(){if(Jo){var t=Jo,e=Yo;if(Yo=Jo=null,Z0(t),e)for(t=0;t<e.length;t++)Z0(e[t])}}function zv(t,e){return t(e)}function Uv(){}var Yf=!1;function qv(t,e,n){if(Yf)return t(e,n);Yf=!0;try{return zv(t,e,n)}finally{Yf=!1,(Jo!==null||Yo!==null)&&(Uv(),Bv())}}function Oc(t,e){var n=t.stateNode;if(n===null)return null;var r=Ih(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(_e(231,e,typeof n));return n}var Xp=!1;if(ns)try{var Ql={};Object.defineProperty(Ql,"passive",{get:function(){Xp=!0}}),window.addEventListener("test",Ql,Ql),window.removeEventListener("test",Ql,Ql)}catch{Xp=!1}function wb(t,e,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var yc=!1,Hd=null,Vd=!1,Zp=null,xb={onError:function(t){yc=!0,Hd=t}};function bb(t,e,n,r,i,s,a,o,l){yc=!1,Hd=null,wb.apply(xb,arguments)}function Sb(t,e,n,r,i,s,a,o,l){if(bb.apply(this,arguments),yc){if(yc){var u=Hd;yc=!1,Hd=null}else throw Error(_e(198));Vd||(Vd=!0,Zp=u)}}function za(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Wv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function e1(t){if(za(t)!==t)throw Error(_e(188))}function Nb(t){var e=t.alternate;if(!e){if(e=za(t),e===null)throw Error(_e(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return e1(i),t;if(s===r)return e1(i),e;s=s.sibling}throw Error(_e(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(_e(189))}}if(n.alternate!==r)throw Error(_e(190))}if(n.tag!==3)throw Error(_e(188));return n.stateNode.current===n?t:e}function Hv(t){return t=Nb(t),t!==null?Vv(t):null}function Vv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Vv(t);if(e!==null)return e;t=t.sibling}return null}var Gv=Sr.unstable_scheduleCallback,t1=Sr.unstable_cancelCallback,kb=Sr.unstable_shouldYield,_b=Sr.unstable_requestPaint,Zt=Sr.unstable_now,jb=Sr.unstable_getCurrentPriorityLevel,ym=Sr.unstable_ImmediatePriority,Kv=Sr.unstable_UserBlockingPriority,Gd=Sr.unstable_NormalPriority,Lb=Sr.unstable_LowPriority,Jv=Sr.unstable_IdlePriority,Ph=null,Ei=null;function Pb(t){if(Ei&&typeof Ei.onCommitFiberRoot=="function")try{Ei.onCommitFiberRoot(Ph,t,void 0,(t.current.flags&128)===128)}catch{}}var oi=Math.clz32?Math.clz32:Eb,Cb=Math.log,Ab=Math.LN2;function Eb(t){return t>>>=0,t===0?32:31-(Cb(t)/Ab|0)|0}var id=64,sd=4194304;function fc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=fc(o):(s&=a,s!==0&&(r=fc(s)))}else a=n&~i,a!==0?r=fc(a):s!==0&&(r=fc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-oi(e),i=1<<n,r|=t[n],e&=~i;return r}function Ib(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-oi(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=Ib(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function eg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yv(){var t=id;return id<<=1,!(id&4194240)&&(id=64),t}function Qf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-oi(e),t[e]=n}function Ob(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-oi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function wm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-oi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var kt=0;function Qv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Xv,xm,Zv,ey,ty,tg=!1,ad=[],$s=null,Bs=null,zs=null,Dc=new Map,Mc=new Map,Es=[],Db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function n1(t,e){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":Dc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mc.delete(e.pointerId)}}function Xl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ru(e),e!==null&&xm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Mb(t,e,n,r,i){switch(e){case"focusin":return $s=Xl($s,t,e,n,r,i),!0;case"dragenter":return Bs=Xl(Bs,t,e,n,r,i),!0;case"mouseover":return zs=Xl(zs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Dc.set(s,Xl(Dc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Mc.set(s,Xl(Mc.get(s)||null,t,e,n,r,i)),!0}return!1}function ny(t){var e=Ca(t.target);if(e!==null){var n=za(e);if(n!==null){if(e=n.tag,e===13){if(e=Wv(n),e!==null){t.blockedOn=e,ty(t.priority,function(){Zv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ng(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Yp=r,n.target.dispatchEvent(r),Yp=null}else return e=ru(n),e!==null&&xm(e),t.blockedOn=n,!1;e.shift()}return!0}function r1(t,e,n){Cd(t)&&n.delete(e)}function Rb(){tg=!1,$s!==null&&Cd($s)&&($s=null),Bs!==null&&Cd(Bs)&&(Bs=null),zs!==null&&Cd(zs)&&(zs=null),Dc.forEach(r1),Mc.forEach(r1)}function Zl(t,e){t.blockedOn===e&&(t.blockedOn=null,tg||(tg=!0,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,Rb)))}function Rc(t){function e(i){return Zl(i,t)}if(0<ad.length){Zl(ad[0],t);for(var n=1;n<ad.length;n++){var r=ad[n];r.blockedOn===t&&(r.blockedOn=null)}}for($s!==null&&Zl($s,t),Bs!==null&&Zl(Bs,t),zs!==null&&Zl(zs,t),Dc.forEach(e),Mc.forEach(e),n=0;n<Es.length;n++)r=Es[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Es.length&&(n=Es[0],n.blockedOn===null);)ny(n),n.blockedOn===null&&Es.shift()}var Qo=cs.ReactCurrentBatchConfig,Jd=!0;function Fb(t,e,n,r){var i=kt,s=Qo.transition;Qo.transition=null;try{kt=1,bm(t,e,n,r)}finally{kt=i,Qo.transition=s}}function $b(t,e,n,r){var i=kt,s=Qo.transition;Qo.transition=null;try{kt=4,bm(t,e,n,r)}finally{kt=i,Qo.transition=s}}function bm(t,e,n,r){if(Jd){var i=ng(t,e,n,r);if(i===null)op(t,e,r,Yd,n),n1(t,r);else if(Mb(i,t,e,n,r))r.stopPropagation();else if(n1(t,r),e&4&&-1<Db.indexOf(t)){for(;i!==null;){var s=ru(i);if(s!==null&&Xv(s),s=ng(t,e,n,r),s===null&&op(t,e,r,Yd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else op(t,e,r,null,n)}}var Yd=null;function ng(t,e,n,r){if(Yd=null,t=vm(r),t=Ca(t),t!==null)if(e=za(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Wv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yd=t,null}function ry(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jb()){case ym:return 1;case Kv:return 4;case Gd:case Lb:return 16;case Jv:return 536870912;default:return 16}default:return 16}}var Ds=null,Sm=null,Ad=null;function iy(){if(Ad)return Ad;var t,e=Sm,n=e.length,r,i="value"in Ds?Ds.value:Ds.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Ad=i.slice(t,1<r?1-r:void 0)}function Ed(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function od(){return!0}function i1(){return!1}function kr(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?od:i1,this.isPropagationStopped=i1,this}return qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=od)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=od)},persist:function(){},isPersistent:od}),e}var pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nm=kr(pl),nu=qt({},pl,{view:0,detail:0}),Bb=kr(nu),Xf,Zf,ec,Ch=qt({},nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:km,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ec&&(ec&&t.type==="mousemove"?(Xf=t.screenX-ec.screenX,Zf=t.screenY-ec.screenY):Zf=Xf=0,ec=t),Xf)},movementY:function(t){return"movementY"in t?t.movementY:Zf}}),s1=kr(Ch),zb=qt({},Ch,{dataTransfer:0}),Ub=kr(zb),qb=qt({},nu,{relatedTarget:0}),ep=kr(qb),Wb=qt({},pl,{animationName:0,elapsedTime:0,pseudoElement:0}),Hb=kr(Wb),Vb=qt({},pl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gb=kr(Vb),Kb=qt({},pl,{data:0}),a1=kr(Kb),Jb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qb[t])?!!e[t]:!1}function km(){return Xb}var Zb=qt({},nu,{key:function(t){if(t.key){var e=Jb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ed(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:km,charCode:function(t){return t.type==="keypress"?Ed(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ed(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),e3=kr(Zb),t3=qt({},Ch,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),o1=kr(t3),n3=qt({},nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:km}),r3=kr(n3),i3=qt({},pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),s3=kr(i3),a3=qt({},Ch,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),o3=kr(a3),l3=[9,13,27,32],_m=ns&&"CompositionEvent"in window,wc=null;ns&&"documentMode"in document&&(wc=document.documentMode);var c3=ns&&"TextEvent"in window&&!wc,sy=ns&&(!_m||wc&&8<wc&&11>=wc),l1=" ",c1=!1;function ay(t,e){switch(t){case"keyup":return l3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ro=!1;function u3(t,e){switch(t){case"compositionend":return oy(e);case"keypress":return e.which!==32?null:(c1=!0,l1);case"textInput":return t=e.data,t===l1&&c1?null:t;default:return null}}function d3(t,e){if(Ro)return t==="compositionend"||!_m&&ay(t,e)?(t=iy(),Ad=Sm=Ds=null,Ro=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sy&&e.locale!=="ko"?null:e.data;default:return null}}var h3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!h3[t.type]:e==="textarea"}function ly(t,e,n,r){$v(r),e=Qd(e,"onChange"),0<e.length&&(n=new Nm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xc=null,Fc=null;function f3(t){wy(t,0)}function Ah(t){var e=Bo(t);if(Iv(e))return t}function p3(t,e){if(t==="change")return e}var cy=!1;if(ns){var tp;if(ns){var np="oninput"in document;if(!np){var d1=document.createElement("div");d1.setAttribute("oninput","return;"),np=typeof d1.oninput=="function"}tp=np}else tp=!1;cy=tp&&(!document.documentMode||9<document.documentMode)}function h1(){xc&&(xc.detachEvent("onpropertychange",uy),Fc=xc=null)}function uy(t){if(t.propertyName==="value"&&Ah(Fc)){var e=[];ly(e,Fc,t,vm(t)),qv(f3,e)}}function g3(t,e,n){t==="focusin"?(h1(),xc=e,Fc=n,xc.attachEvent("onpropertychange",uy)):t==="focusout"&&h1()}function m3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ah(Fc)}function v3(t,e){if(t==="click")return Ah(e)}function y3(t,e){if(t==="input"||t==="change")return Ah(e)}function w3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ci=typeof Object.is=="function"?Object.is:w3;function $c(t,e){if(ci(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Fp.call(e,i)||!ci(t[i],e[i]))return!1}return!0}function f1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function p1(t,e){var n=f1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=f1(n)}}function dy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hy(){for(var t=window,e=Wd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wd(t.document)}return e}function jm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function x3(t){var e=hy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dy(n.ownerDocument.documentElement,n)){if(r!==null&&jm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=p1(n,s);var a=p1(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var b3=ns&&"documentMode"in document&&11>=document.documentMode,Fo=null,rg=null,bc=null,ig=!1;function g1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ig||Fo==null||Fo!==Wd(r)||(r=Fo,"selectionStart"in r&&jm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bc&&$c(bc,r)||(bc=r,r=Qd(rg,"onSelect"),0<r.length&&(e=new Nm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fo)))}function ld(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $o={animationend:ld("Animation","AnimationEnd"),animationiteration:ld("Animation","AnimationIteration"),animationstart:ld("Animation","AnimationStart"),transitionend:ld("Transition","TransitionEnd")},rp={},fy={};ns&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function Eh(t){if(rp[t])return rp[t];if(!$o[t])return t;var e=$o[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in fy)return rp[t]=e[n];return t}var py=Eh("animationend"),gy=Eh("animationiteration"),my=Eh("animationstart"),vy=Eh("transitionend"),yy=new Map,m1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zs(t,e){yy.set(t,e),Ba(e,[t])}for(var ip=0;ip<m1.length;ip++){var sp=m1[ip],S3=sp.toLowerCase(),N3=sp[0].toUpperCase()+sp.slice(1);Zs(S3,"on"+N3)}Zs(py,"onAnimationEnd");Zs(gy,"onAnimationIteration");Zs(my,"onAnimationStart");Zs("dblclick","onDoubleClick");Zs("focusin","onFocus");Zs("focusout","onBlur");Zs(vy,"onTransitionEnd");il("onMouseEnter",["mouseout","mouseover"]);il("onMouseLeave",["mouseout","mouseover"]);il("onPointerEnter",["pointerout","pointerover"]);il("onPointerLeave",["pointerout","pointerover"]);Ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ba("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k3=new Set("cancel close invalid load scroll toggle".split(" ").concat(pc));function v1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Sb(r,e,void 0,t),t.currentTarget=null}function wy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;v1(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;v1(i,o,u),s=l}}}if(Vd)throw t=Zp,Vd=!1,Zp=null,t}function Dt(t,e){var n=e[cg];n===void 0&&(n=e[cg]=new Set);var r=t+"__bubble";n.has(r)||(xy(e,t,2,!1),n.add(r))}function ap(t,e,n){var r=0;e&&(r|=4),xy(n,t,r,e)}var cd="_reactListening"+Math.random().toString(36).slice(2);function Bc(t){if(!t[cd]){t[cd]=!0,Lv.forEach(function(n){n!=="selectionchange"&&(k3.has(n)||ap(n,!1,t),ap(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cd]||(e[cd]=!0,ap("selectionchange",!1,e))}}function xy(t,e,n,r){switch(ry(e)){case 1:var i=Fb;break;case 4:i=$b;break;default:i=bm}n=i.bind(null,e,n,t),i=void 0,!Xp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function op(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Ca(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}qv(function(){var u=s,f=vm(n),p=[];e:{var m=yy.get(t);if(m!==void 0){var g=Nm,b=t;switch(t){case"keypress":if(Ed(n)===0)break e;case"keydown":case"keyup":g=e3;break;case"focusin":b="focus",g=ep;break;case"focusout":b="blur",g=ep;break;case"beforeblur":case"afterblur":g=ep;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=s1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Ub;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=r3;break;case py:case gy:case my:g=Hb;break;case vy:g=s3;break;case"scroll":g=Bb;break;case"wheel":g=o3;break;case"copy":case"cut":case"paste":g=Gb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=o1}var k=(e&4)!==0,_=!k&&t==="scroll",x=k?m!==null?m+"Capture":null:m;k=[];for(var w=u,N;w!==null;){N=w;var A=N.stateNode;if(N.tag===5&&A!==null&&(N=A,x!==null&&(A=Oc(w,x),A!=null&&k.push(zc(w,A,N)))),_)break;w=w.return}0<k.length&&(m=new g(m,b,null,n,f),p.push({event:m,listeners:k}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==Yp&&(b=n.relatedTarget||n.fromElement)&&(Ca(b)||b[rs]))break e;if((g||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,g?(b=n.relatedTarget||n.toElement,g=u,b=b?Ca(b):null,b!==null&&(_=za(b),b!==_||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=u),g!==b)){if(k=s1,A="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(k=o1,A="onPointerLeave",x="onPointerEnter",w="pointer"),_=g==null?m:Bo(g),N=b==null?m:Bo(b),m=new k(A,w+"leave",g,n,f),m.target=_,m.relatedTarget=N,A=null,Ca(f)===u&&(k=new k(x,w+"enter",b,n,f),k.target=N,k.relatedTarget=_,A=k),_=A,g&&b)t:{for(k=g,x=b,w=0,N=k;N;N=bo(N))w++;for(N=0,A=x;A;A=bo(A))N++;for(;0<w-N;)k=bo(k),w--;for(;0<N-w;)x=bo(x),N--;for(;w--;){if(k===x||x!==null&&k===x.alternate)break t;k=bo(k),x=bo(x)}k=null}else k=null;g!==null&&y1(p,m,g,k,!1),b!==null&&_!==null&&y1(p,_,b,k,!0)}}e:{if(m=u?Bo(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var E=p3;else if(u1(m))if(cy)E=y3;else{E=m3;var B=g3}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(E=v3);if(E&&(E=E(t,u))){ly(p,E,n,f);break e}B&&B(t,m,u),t==="focusout"&&(B=m._wrapperState)&&B.controlled&&m.type==="number"&&Hp(m,"number",m.value)}switch(B=u?Bo(u):window,t){case"focusin":(u1(B)||B.contentEditable==="true")&&(Fo=B,rg=u,bc=null);break;case"focusout":bc=rg=Fo=null;break;case"mousedown":ig=!0;break;case"contextmenu":case"mouseup":case"dragend":ig=!1,g1(p,n,f);break;case"selectionchange":if(b3)break;case"keydown":case"keyup":g1(p,n,f)}var F;if(_m)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ro?ay(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(sy&&n.locale!=="ko"&&(Ro||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ro&&(F=iy()):(Ds=f,Sm="value"in Ds?Ds.value:Ds.textContent,Ro=!0)),B=Qd(u,R),0<B.length&&(R=new a1(R,t,null,n,f),p.push({event:R,listeners:B}),F?R.data=F:(F=oy(n),F!==null&&(R.data=F)))),(F=c3?u3(t,n):d3(t,n))&&(u=Qd(u,"onBeforeInput"),0<u.length&&(f=new a1("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:u}),f.data=F))}wy(p,e)})}function zc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Oc(t,n),s!=null&&r.unshift(zc(t,s,i)),s=Oc(t,e),s!=null&&r.push(zc(t,s,i))),t=t.return}return r}function bo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function y1(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=Oc(n,s),l!=null&&a.unshift(zc(n,l,o))):i||(l=Oc(n,s),l!=null&&a.push(zc(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var _3=/\r\n?/g,j3=/\u0000|\uFFFD/g;function w1(t){return(typeof t=="string"?t:""+t).replace(_3,`
`).replace(j3,"")}function ud(t,e,n){if(e=w1(e),w1(t)!==e&&n)throw Error(_e(425))}function Xd(){}var sg=null,ag=null;function og(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lg=typeof setTimeout=="function"?setTimeout:void 0,L3=typeof clearTimeout=="function"?clearTimeout:void 0,x1=typeof Promise=="function"?Promise:void 0,P3=typeof queueMicrotask=="function"?queueMicrotask:typeof x1<"u"?function(t){return x1.resolve(null).then(t).catch(C3)}:lg;function C3(t){setTimeout(function(){throw t})}function lp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Rc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Rc(e)}function Us(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function b1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gl=Math.random().toString(36).slice(2),Li="__reactFiber$"+gl,Uc="__reactProps$"+gl,rs="__reactContainer$"+gl,cg="__reactEvents$"+gl,A3="__reactListeners$"+gl,E3="__reactHandles$"+gl;function Ca(t){var e=t[Li];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rs]||n[Li]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=b1(t);t!==null;){if(n=t[Li])return n;t=b1(t)}return e}t=n,n=t.parentNode}return null}function ru(t){return t=t[Li]||t[rs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(_e(33))}function Ih(t){return t[Uc]||null}var ug=[],zo=-1;function ea(t){return{current:t}}function Rt(t){0>zo||(t.current=ug[zo],ug[zo]=null,zo--)}function Ot(t,e){zo++,ug[zo]=t.current,t.current=e}var Js={},qn=ea(Js),lr=ea(!1),Da=Js;function sl(t,e){var n=t.type.contextTypes;if(!n)return Js;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function cr(t){return t=t.childContextTypes,t!=null}function Zd(){Rt(lr),Rt(qn)}function S1(t,e,n){if(qn.current!==Js)throw Error(_e(168));Ot(qn,e),Ot(lr,n)}function by(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(_e(108,gb(t)||"Unknown",i));return qt({},n,r)}function eh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Js,Da=qn.current,Ot(qn,t),Ot(lr,lr.current),!0}function N1(t,e,n){var r=t.stateNode;if(!r)throw Error(_e(169));n?(t=by(t,e,Da),r.__reactInternalMemoizedMergedChildContext=t,Rt(lr),Rt(qn),Ot(qn,t)):Rt(lr),Ot(lr,n)}var Qi=null,Th=!1,cp=!1;function Sy(t){Qi===null?Qi=[t]:Qi.push(t)}function I3(t){Th=!0,Sy(t)}function ta(){if(!cp&&Qi!==null){cp=!0;var t=0,e=kt;try{var n=Qi;for(kt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qi=null,Th=!1}catch(i){throw Qi!==null&&(Qi=Qi.slice(t+1)),Gv(ym,ta),i}finally{kt=e,cp=!1}}return null}var Uo=[],qo=0,th=null,nh=0,Or=[],Dr=0,Ma=null,Xi=1,Zi="";function Sa(t,e){Uo[qo++]=nh,Uo[qo++]=th,th=t,nh=e}function Ny(t,e,n){Or[Dr++]=Xi,Or[Dr++]=Zi,Or[Dr++]=Ma,Ma=t;var r=Xi;t=Zi;var i=32-oi(r)-1;r&=~(1<<i),n+=1;var s=32-oi(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-oi(e)+i|n<<i|r,Zi=s+t}else Xi=1<<s|n<<i|r,Zi=t}function Lm(t){t.return!==null&&(Sa(t,1),Ny(t,1,0))}function Pm(t){for(;t===th;)th=Uo[--qo],Uo[qo]=null,nh=Uo[--qo],Uo[qo]=null;for(;t===Ma;)Ma=Or[--Dr],Or[Dr]=null,Zi=Or[--Dr],Or[Dr]=null,Xi=Or[--Dr],Or[Dr]=null}var br=null,wr=null,$t=!1,ai=null;function ky(t,e){var n=Mr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function k1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,br=t,wr=Us(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,br=t,wr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ma!==null?{id:Xi,overflow:Zi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,br=t,wr=null,!0):!1;default:return!1}}function dg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hg(t){if($t){var e=wr;if(e){var n=e;if(!k1(t,e)){if(dg(t))throw Error(_e(418));e=Us(n.nextSibling);var r=br;e&&k1(t,e)?ky(r,n):(t.flags=t.flags&-4097|2,$t=!1,br=t)}}else{if(dg(t))throw Error(_e(418));t.flags=t.flags&-4097|2,$t=!1,br=t}}}function _1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;br=t}function dd(t){if(t!==br)return!1;if(!$t)return _1(t),$t=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!og(t.type,t.memoizedProps)),e&&(e=wr)){if(dg(t))throw _y(),Error(_e(418));for(;e;)ky(t,e),e=Us(e.nextSibling)}if(_1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_e(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wr=Us(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wr=null}}else wr=br?Us(t.stateNode.nextSibling):null;return!0}function _y(){for(var t=wr;t;)t=Us(t.nextSibling)}function al(){wr=br=null,$t=!1}function Cm(t){ai===null?ai=[t]:ai.push(t)}var T3=cs.ReactCurrentBatchConfig;function tc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_e(309));var r=n.stateNode}if(!r)throw Error(_e(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(_e(284));if(!n._owner)throw Error(_e(290,t))}return t}function hd(t,e){throw t=Object.prototype.toString.call(e),Error(_e(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function j1(t){var e=t._init;return e(t._payload)}function jy(t){function e(x,w){if(t){var N=x.deletions;N===null?(x.deletions=[w],x.flags|=16):N.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Vs(x,w),x.index=0,x.sibling=null,x}function s(x,w,N){return x.index=N,t?(N=x.alternate,N!==null?(N=N.index,N<w?(x.flags|=2,w):N):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,w,N,A){return w===null||w.tag!==6?(w=mp(N,x.mode,A),w.return=x,w):(w=i(w,N),w.return=x,w)}function l(x,w,N,A){var E=N.type;return E===Mo?f(x,w,N.props.children,A,N.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Cs&&j1(E)===w.type)?(A=i(w,N.props),A.ref=tc(x,w,N),A.return=x,A):(A=Fd(N.type,N.key,N.props,null,x.mode,A),A.ref=tc(x,w,N),A.return=x,A)}function u(x,w,N,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==N.containerInfo||w.stateNode.implementation!==N.implementation?(w=vp(N,x.mode,A),w.return=x,w):(w=i(w,N.children||[]),w.return=x,w)}function f(x,w,N,A,E){return w===null||w.tag!==7?(w=Ta(N,x.mode,A,E),w.return=x,w):(w=i(w,N),w.return=x,w)}function p(x,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return w=mp(""+w,x.mode,N),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case td:return N=Fd(w.type,w.key,w.props,null,x.mode,N),N.ref=tc(x,null,w),N.return=x,N;case Do:return w=vp(w,x.mode,N),w.return=x,w;case Cs:var A=w._init;return p(x,A(w._payload),N)}if(hc(w)||Yl(w))return w=Ta(w,x.mode,N,null),w.return=x,w;hd(x,w)}return null}function m(x,w,N,A){var E=w!==null?w.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return E!==null?null:o(x,w,""+N,A);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case td:return N.key===E?l(x,w,N,A):null;case Do:return N.key===E?u(x,w,N,A):null;case Cs:return E=N._init,m(x,w,E(N._payload),A)}if(hc(N)||Yl(N))return E!==null?null:f(x,w,N,A,null);hd(x,N)}return null}function g(x,w,N,A,E){if(typeof A=="string"&&A!==""||typeof A=="number")return x=x.get(N)||null,o(w,x,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case td:return x=x.get(A.key===null?N:A.key)||null,l(w,x,A,E);case Do:return x=x.get(A.key===null?N:A.key)||null,u(w,x,A,E);case Cs:var B=A._init;return g(x,w,N,B(A._payload),E)}if(hc(A)||Yl(A))return x=x.get(N)||null,f(w,x,A,E,null);hd(w,A)}return null}function b(x,w,N,A){for(var E=null,B=null,F=w,R=w=0,J=null;F!==null&&R<N.length;R++){F.index>R?(J=F,F=null):J=F.sibling;var ne=m(x,F,N[R],A);if(ne===null){F===null&&(F=J);break}t&&F&&ne.alternate===null&&e(x,F),w=s(ne,w,R),B===null?E=ne:B.sibling=ne,B=ne,F=J}if(R===N.length)return n(x,F),$t&&Sa(x,R),E;if(F===null){for(;R<N.length;R++)F=p(x,N[R],A),F!==null&&(w=s(F,w,R),B===null?E=F:B.sibling=F,B=F);return $t&&Sa(x,R),E}for(F=r(x,F);R<N.length;R++)J=g(F,x,R,N[R],A),J!==null&&(t&&J.alternate!==null&&F.delete(J.key===null?R:J.key),w=s(J,w,R),B===null?E=J:B.sibling=J,B=J);return t&&F.forEach(function(O){return e(x,O)}),$t&&Sa(x,R),E}function k(x,w,N,A){var E=Yl(N);if(typeof E!="function")throw Error(_e(150));if(N=E.call(N),N==null)throw Error(_e(151));for(var B=E=null,F=w,R=w=0,J=null,ne=N.next();F!==null&&!ne.done;R++,ne=N.next()){F.index>R?(J=F,F=null):J=F.sibling;var O=m(x,F,ne.value,A);if(O===null){F===null&&(F=J);break}t&&F&&O.alternate===null&&e(x,F),w=s(O,w,R),B===null?E=O:B.sibling=O,B=O,F=J}if(ne.done)return n(x,F),$t&&Sa(x,R),E;if(F===null){for(;!ne.done;R++,ne=N.next())ne=p(x,ne.value,A),ne!==null&&(w=s(ne,w,R),B===null?E=ne:B.sibling=ne,B=ne);return $t&&Sa(x,R),E}for(F=r(x,F);!ne.done;R++,ne=N.next())ne=g(F,x,R,ne.value,A),ne!==null&&(t&&ne.alternate!==null&&F.delete(ne.key===null?R:ne.key),w=s(ne,w,R),B===null?E=ne:B.sibling=ne,B=ne);return t&&F.forEach(function(M){return e(x,M)}),$t&&Sa(x,R),E}function _(x,w,N,A){if(typeof N=="object"&&N!==null&&N.type===Mo&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case td:e:{for(var E=N.key,B=w;B!==null;){if(B.key===E){if(E=N.type,E===Mo){if(B.tag===7){n(x,B.sibling),w=i(B,N.props.children),w.return=x,x=w;break e}}else if(B.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Cs&&j1(E)===B.type){n(x,B.sibling),w=i(B,N.props),w.ref=tc(x,B,N),w.return=x,x=w;break e}n(x,B);break}else e(x,B);B=B.sibling}N.type===Mo?(w=Ta(N.props.children,x.mode,A,N.key),w.return=x,x=w):(A=Fd(N.type,N.key,N.props,null,x.mode,A),A.ref=tc(x,w,N),A.return=x,x=A)}return a(x);case Do:e:{for(B=N.key;w!==null;){if(w.key===B)if(w.tag===4&&w.stateNode.containerInfo===N.containerInfo&&w.stateNode.implementation===N.implementation){n(x,w.sibling),w=i(w,N.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=vp(N,x.mode,A),w.return=x,x=w}return a(x);case Cs:return B=N._init,_(x,w,B(N._payload),A)}if(hc(N))return b(x,w,N,A);if(Yl(N))return k(x,w,N,A);hd(x,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,N),w.return=x,x=w):(n(x,w),w=mp(N,x.mode,A),w.return=x,x=w),a(x)):n(x,w)}return _}var ol=jy(!0),Ly=jy(!1),rh=ea(null),ih=null,Wo=null,Am=null;function Em(){Am=Wo=ih=null}function Im(t){var e=rh.current;Rt(rh),t._currentValue=e}function fg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xo(t,e){ih=t,Am=Wo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(or=!0),t.firstContext=null)}function Br(t){var e=t._currentValue;if(Am!==t)if(t={context:t,memoizedValue:e,next:null},Wo===null){if(ih===null)throw Error(_e(308));Wo=t,ih.dependencies={lanes:0,firstContext:t}}else Wo=Wo.next=t;return e}var Aa=null;function Tm(t){Aa===null?Aa=[t]:Aa.push(t)}function Py(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Tm(e)):(n.next=i.next,i.next=n),e.interleaved=n,is(t,r)}function is(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var As=!1;function Om(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function es(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,mt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,is(t,n)}return i=r.interleaved,i===null?(e.next=e,Tm(r)):(e.next=i.next,i.next=e),r.interleaved=e,is(t,n)}function Id(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wm(t,n)}}function L1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sh(t,e,n,r){var i=t.updateQueue;As=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var f=t.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;a=0,f=u=l=null,o=s;do{var m=o.lane,g=o.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=t,k=o;switch(m=e,g=n,k.tag){case 1:if(b=k.payload,typeof b=="function"){p=b.call(g,p,m);break e}p=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=k.payload,m=typeof b=="function"?b.call(g,p,m):b,m==null)break e;p=qt({},p,m);break e;case 2:As=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[o]:m.push(o))}else g={eventTime:g,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=g,l=p):f=f.next=g,a|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(l=p),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Fa|=a,t.lanes=a,t.memoizedState=p}}function P1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(_e(191,i));i.call(r)}}}var iu={},Ii=ea(iu),qc=ea(iu),Wc=ea(iu);function Ea(t){if(t===iu)throw Error(_e(174));return t}function Dm(t,e){switch(Ot(Wc,e),Ot(qc,t),Ot(Ii,iu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gp(e,t)}Rt(Ii),Ot(Ii,e)}function ll(){Rt(Ii),Rt(qc),Rt(Wc)}function Ay(t){Ea(Wc.current);var e=Ea(Ii.current),n=Gp(e,t.type);e!==n&&(Ot(qc,t),Ot(Ii,n))}function Mm(t){qc.current===t&&(Rt(Ii),Rt(qc))}var zt=ea(0);function ah(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var up=[];function Rm(){for(var t=0;t<up.length;t++)up[t]._workInProgressVersionPrimary=null;up.length=0}var Td=cs.ReactCurrentDispatcher,dp=cs.ReactCurrentBatchConfig,Ra=0,Ut=null,gn=null,bn=null,oh=!1,Sc=!1,Hc=0,O3=0;function Dn(){throw Error(_e(321))}function Fm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ci(t[n],e[n]))return!1;return!0}function $m(t,e,n,r,i,s){if(Ra=s,Ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Td.current=t===null||t.memoizedState===null?F3:$3,t=n(r,i),Sc){s=0;do{if(Sc=!1,Hc=0,25<=s)throw Error(_e(301));s+=1,bn=gn=null,e.updateQueue=null,Td.current=B3,t=n(r,i)}while(Sc)}if(Td.current=lh,e=gn!==null&&gn.next!==null,Ra=0,bn=gn=Ut=null,oh=!1,e)throw Error(_e(300));return t}function Bm(){var t=Hc!==0;return Hc=0,t}function _i(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?Ut.memoizedState=bn=t:bn=bn.next=t,bn}function zr(){if(gn===null){var t=Ut.alternate;t=t!==null?t.memoizedState:null}else t=gn.next;var e=bn===null?Ut.memoizedState:bn.next;if(e!==null)bn=e,gn=t;else{if(t===null)throw Error(_e(310));gn=t,t={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},bn===null?Ut.memoizedState=bn=t:bn=bn.next=t}return bn}function Vc(t,e){return typeof e=="function"?e(t):e}function hp(t){var e=zr(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var r=gn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var f=u.lane;if((Ra&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=p,a=r):l=l.next=p,Ut.lanes|=f,Fa|=f}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,ci(r,e.memoizedState)||(or=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ut.lanes|=s,Fa|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fp(t){var e=zr(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ci(s,e.memoizedState)||(or=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Ey(){}function Iy(t,e){var n=Ut,r=zr(),i=e(),s=!ci(r.memoizedState,i);if(s&&(r.memoizedState=i,or=!0),r=r.queue,zm(Dy.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||bn!==null&&bn.memoizedState.tag&1){if(n.flags|=2048,Gc(9,Oy.bind(null,n,r,i,e),void 0,null),Nn===null)throw Error(_e(349));Ra&30||Ty(n,e,i)}return i}function Ty(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ut.updateQueue,e===null?(e={lastEffect:null,stores:null},Ut.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Oy(t,e,n,r){e.value=n,e.getSnapshot=r,My(e)&&Ry(t)}function Dy(t,e,n){return n(function(){My(e)&&Ry(t)})}function My(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ci(t,n)}catch{return!0}}function Ry(t){var e=is(t,1);e!==null&&li(e,t,1,-1)}function C1(t){var e=_i();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vc,lastRenderedState:t},e.queue=t,t=t.dispatch=R3.bind(null,Ut,t),[e.memoizedState,t]}function Gc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ut.updateQueue,e===null?(e={lastEffect:null,stores:null},Ut.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Fy(){return zr().memoizedState}function Od(t,e,n,r){var i=_i();Ut.flags|=t,i.memoizedState=Gc(1|e,n,void 0,r===void 0?null:r)}function Oh(t,e,n,r){var i=zr();r=r===void 0?null:r;var s=void 0;if(gn!==null){var a=gn.memoizedState;if(s=a.destroy,r!==null&&Fm(r,a.deps)){i.memoizedState=Gc(e,n,s,r);return}}Ut.flags|=t,i.memoizedState=Gc(1|e,n,s,r)}function A1(t,e){return Od(8390656,8,t,e)}function zm(t,e){return Oh(2048,8,t,e)}function $y(t,e){return Oh(4,2,t,e)}function By(t,e){return Oh(4,4,t,e)}function zy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Uy(t,e,n){return n=n!=null?n.concat([t]):null,Oh(4,4,zy.bind(null,e,t),n)}function Um(){}function qy(t,e){var n=zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Wy(t,e){var n=zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Hy(t,e,n){return Ra&21?(ci(n,e)||(n=Yv(),Ut.lanes|=n,Fa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,or=!0),t.memoizedState=n)}function D3(t,e){var n=kt;kt=n!==0&&4>n?n:4,t(!0);var r=dp.transition;dp.transition={};try{t(!1),e()}finally{kt=n,dp.transition=r}}function Vy(){return zr().memoizedState}function M3(t,e,n){var r=Hs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gy(t))Ky(e,n);else if(n=Py(t,e,n,r),n!==null){var i=Kn();li(n,t,r,i),Jy(n,e,r)}}function R3(t,e,n){var r=Hs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gy(t))Ky(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,ci(o,a)){var l=e.interleaved;l===null?(i.next=i,Tm(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Py(t,e,i,r),n!==null&&(i=Kn(),li(n,t,r,i),Jy(n,e,r))}}function Gy(t){var e=t.alternate;return t===Ut||e!==null&&e===Ut}function Ky(t,e){Sc=oh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Jy(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wm(t,n)}}var lh={readContext:Br,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useInsertionEffect:Dn,useLayoutEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useMutableSource:Dn,useSyncExternalStore:Dn,useId:Dn,unstable_isNewReconciler:!1},F3={readContext:Br,useCallback:function(t,e){return _i().memoizedState=[t,e===void 0?null:e],t},useContext:Br,useEffect:A1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Od(4194308,4,zy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Od(4194308,4,t,e)},useInsertionEffect:function(t,e){return Od(4,2,t,e)},useMemo:function(t,e){var n=_i();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_i();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=M3.bind(null,Ut,t),[r.memoizedState,t]},useRef:function(t){var e=_i();return t={current:t},e.memoizedState=t},useState:C1,useDebugValue:Um,useDeferredValue:function(t){return _i().memoizedState=t},useTransition:function(){var t=C1(!1),e=t[0];return t=D3.bind(null,t[1]),_i().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ut,i=_i();if($t){if(n===void 0)throw Error(_e(407));n=n()}else{if(n=e(),Nn===null)throw Error(_e(349));Ra&30||Ty(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,A1(Dy.bind(null,r,s,t),[t]),r.flags|=2048,Gc(9,Oy.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=_i(),e=Nn.identifierPrefix;if($t){var n=Zi,r=Xi;n=(r&~(1<<32-oi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Hc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=O3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$3={readContext:Br,useCallback:qy,useContext:Br,useEffect:zm,useImperativeHandle:Uy,useInsertionEffect:$y,useLayoutEffect:By,useMemo:Wy,useReducer:hp,useRef:Fy,useState:function(){return hp(Vc)},useDebugValue:Um,useDeferredValue:function(t){var e=zr();return Hy(e,gn.memoizedState,t)},useTransition:function(){var t=hp(Vc)[0],e=zr().memoizedState;return[t,e]},useMutableSource:Ey,useSyncExternalStore:Iy,useId:Vy,unstable_isNewReconciler:!1},B3={readContext:Br,useCallback:qy,useContext:Br,useEffect:zm,useImperativeHandle:Uy,useInsertionEffect:$y,useLayoutEffect:By,useMemo:Wy,useReducer:fp,useRef:Fy,useState:function(){return fp(Vc)},useDebugValue:Um,useDeferredValue:function(t){var e=zr();return gn===null?e.memoizedState=t:Hy(e,gn.memoizedState,t)},useTransition:function(){var t=fp(Vc)[0],e=zr().memoizedState;return[t,e]},useMutableSource:Ey,useSyncExternalStore:Iy,useId:Vy,unstable_isNewReconciler:!1};function ni(t,e){if(t&&t.defaultProps){e=qt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function pg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dh={isMounted:function(t){return(t=t._reactInternals)?za(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kn(),i=Hs(t),s=es(r,i);s.payload=e,n!=null&&(s.callback=n),e=qs(t,s,i),e!==null&&(li(e,t,i,r),Id(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kn(),i=Hs(t),s=es(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=qs(t,s,i),e!==null&&(li(e,t,i,r),Id(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kn(),r=Hs(t),i=es(n,r);i.tag=2,e!=null&&(i.callback=e),e=qs(t,i,r),e!==null&&(li(e,t,r,n),Id(e,t,r))}};function E1(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!$c(n,r)||!$c(i,s):!0}function Yy(t,e,n){var r=!1,i=Js,s=e.contextType;return typeof s=="object"&&s!==null?s=Br(s):(i=cr(e)?Da:qn.current,r=e.contextTypes,s=(r=r!=null)?sl(t,i):Js),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function I1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Dh.enqueueReplaceState(e,e.state,null)}function gg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Om(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Br(s):(s=cr(e)?Da:qn.current,i.context=sl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(pg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Dh.enqueueReplaceState(i,i.state,null),sh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function cl(t,e){try{var n="",r=e;do n+=pb(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function pp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function mg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var z3=typeof WeakMap=="function"?WeakMap:Map;function Qy(t,e,n){n=es(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){uh||(uh=!0,jg=r),mg(t,e)},n}function Xy(t,e,n){n=es(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){mg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){mg(t,e),typeof r!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function T1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new z3;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=t4.bind(null,t,e,n),e.then(t,t))}function O1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function D1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=es(-1,1),e.tag=2,qs(n,e,1))),n.lanes|=1),t)}var U3=cs.ReactCurrentOwner,or=!1;function Gn(t,e,n,r){e.child=t===null?Ly(e,null,n,r):ol(e,t.child,n,r)}function M1(t,e,n,r,i){n=n.render;var s=e.ref;return Xo(e,i),r=$m(t,e,n,r,s,i),n=Bm(),t!==null&&!or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ss(t,e,i)):($t&&n&&Lm(e),e.flags|=1,Gn(t,e,r,i),e.child)}function R1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ym(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Zy(t,e,s,r,i)):(t=Fd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:$c,n(a,r)&&t.ref===e.ref)return ss(t,e,i)}return e.flags|=1,t=Vs(s,r),t.ref=e.ref,t.return=e,e.child=t}function Zy(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if($c(s,r)&&t.ref===e.ref)if(or=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(or=!0);else return e.lanes=t.lanes,ss(t,e,i)}return vg(t,e,n,r,i)}function e5(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(Vo,yr),yr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ot(Vo,yr),yr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ot(Vo,yr),yr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ot(Vo,yr),yr|=r;return Gn(t,e,i,n),e.child}function t5(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vg(t,e,n,r,i){var s=cr(n)?Da:qn.current;return s=sl(e,s),Xo(e,i),n=$m(t,e,n,r,s,i),r=Bm(),t!==null&&!or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ss(t,e,i)):($t&&r&&Lm(e),e.flags|=1,Gn(t,e,n,i),e.child)}function F1(t,e,n,r,i){if(cr(n)){var s=!0;eh(e)}else s=!1;if(Xo(e,i),e.stateNode===null)Dd(t,e),Yy(e,n,r),gg(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Br(u):(u=cr(n)?Da:qn.current,u=sl(e,u));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&I1(e,a,r,u),As=!1;var m=e.memoizedState;a.state=m,sh(e,r,a,i),l=e.memoizedState,o!==r||m!==l||lr.current||As?(typeof f=="function"&&(pg(e,n,f,r),l=e.memoizedState),(o=As||E1(e,n,o,r,m,l,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Cy(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:ni(e.type,o),a.props=u,p=e.pendingProps,m=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Br(l):(l=cr(n)?Da:qn.current,l=sl(e,l));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==p||m!==l)&&I1(e,a,r,l),As=!1,m=e.memoizedState,a.state=m,sh(e,r,a,i);var b=e.memoizedState;o!==p||m!==b||lr.current||As?(typeof g=="function"&&(pg(e,n,g,r),b=e.memoizedState),(u=As||E1(e,n,u,r,m,b,l)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),a.props=r,a.state=b,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return yg(t,e,n,r,s,i)}function yg(t,e,n,r,i,s){t5(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&N1(e,n,!1),ss(t,e,s);r=e.stateNode,U3.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ol(e,t.child,null,s),e.child=ol(e,null,o,s)):Gn(t,e,o,s),e.memoizedState=r.state,i&&N1(e,n,!0),e.child}function n5(t){var e=t.stateNode;e.pendingContext?S1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&S1(t,e.context,!1),Dm(t,e.containerInfo)}function $1(t,e,n,r,i){return al(),Cm(i),e.flags|=256,Gn(t,e,n,r),e.child}var wg={dehydrated:null,treeContext:null,retryLane:0};function xg(t){return{baseLanes:t,cachePool:null,transitions:null}}function r5(t,e,n){var r=e.pendingProps,i=zt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ot(zt,i&1),t===null)return hg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Fh(a,r,0,null),t=Ta(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=xg(n),e.memoizedState=wg,t):qm(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return q3(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Vs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Vs(o,s):(s=Ta(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?xg(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=wg,r}return s=t.child,t=s.sibling,r=Vs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qm(t,e){return e=Fh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fd(t,e,n,r){return r!==null&&Cm(r),ol(e,t.child,null,n),t=qm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function q3(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=pp(Error(_e(422))),fd(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Fh({mode:"visible",children:r.children},i,0,null),s=Ta(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ol(e,t.child,null,a),e.child.memoizedState=xg(a),e.memoizedState=wg,s);if(!(e.mode&1))return fd(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(_e(419)),r=pp(s,r,void 0),fd(t,e,a,r)}if(o=(a&t.childLanes)!==0,or||o){if(r=Nn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,is(t,i),li(r,t,i,-1))}return Jm(),r=pp(Error(_e(421))),fd(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=n4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,wr=Us(i.nextSibling),br=e,$t=!0,ai=null,t!==null&&(Or[Dr++]=Xi,Or[Dr++]=Zi,Or[Dr++]=Ma,Xi=t.id,Zi=t.overflow,Ma=e),e=qm(e,r.children),e.flags|=4096,e)}function B1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),fg(t.return,e,n)}function gp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function i5(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Gn(t,e,r.children,n),r=zt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B1(t,n,e);else if(t.tag===19)B1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ot(zt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ah(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),gp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ah(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}gp(e,!0,n,null,s);break;case"together":gp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ss(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(_e(153));if(e.child!==null){for(t=e.child,n=Vs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function W3(t,e,n){switch(e.tag){case 3:n5(e),al();break;case 5:Ay(e);break;case 1:cr(e.type)&&eh(e);break;case 4:Dm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ot(rh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ot(zt,zt.current&1),e.flags|=128,null):n&e.child.childLanes?r5(t,e,n):(Ot(zt,zt.current&1),t=ss(t,e,n),t!==null?t.sibling:null);Ot(zt,zt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return i5(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ot(zt,zt.current),r)break;return null;case 22:case 23:return e.lanes=0,e5(t,e,n)}return ss(t,e,n)}var s5,bg,a5,o5;s5=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bg=function(){};a5=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ea(Ii.current);var s=null;switch(n){case"input":i=qp(t,i),r=qp(t,r),s=[];break;case"select":i=qt({},i,{value:void 0}),r=qt({},r,{value:void 0}),s=[];break;case"textarea":i=Vp(t,i),r=Vp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xd)}Kp(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ic.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ic.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Dt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};o5=function(t,e,n,r){n!==r&&(e.flags|=4)};function nc(t,e){if(!$t)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function H3(t,e,n){var r=e.pendingProps;switch(Pm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(e),null;case 1:return cr(e.type)&&Zd(),Mn(e),null;case 3:return r=e.stateNode,ll(),Rt(lr),Rt(qn),Rm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(dd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ai!==null&&(Cg(ai),ai=null))),bg(t,e),Mn(e),null;case 5:Mm(e);var i=Ea(Wc.current);if(n=e.type,t!==null&&e.stateNode!=null)a5(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(_e(166));return Mn(e),null}if(t=Ea(Ii.current),dd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Li]=e,r[Uc]=s,t=(e.mode&1)!==0,n){case"dialog":Dt("cancel",r),Dt("close",r);break;case"iframe":case"object":case"embed":Dt("load",r);break;case"video":case"audio":for(i=0;i<pc.length;i++)Dt(pc[i],r);break;case"source":Dt("error",r);break;case"img":case"image":case"link":Dt("error",r),Dt("load",r);break;case"details":Dt("toggle",r);break;case"input":J0(r,s),Dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Dt("invalid",r);break;case"textarea":Q0(r,s),Dt("invalid",r)}Kp(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&ud(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&ud(r.textContent,o,t),i=["children",""+o]):Ic.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Dt("scroll",r)}switch(n){case"input":nd(r),Y0(r,s,!0);break;case"textarea":nd(r),X0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Xd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Dv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Li]=e,t[Uc]=r,s5(t,e,!1,!1),e.stateNode=t;e:{switch(a=Jp(n,r),n){case"dialog":Dt("cancel",t),Dt("close",t),i=r;break;case"iframe":case"object":case"embed":Dt("load",t),i=r;break;case"video":case"audio":for(i=0;i<pc.length;i++)Dt(pc[i],t);i=r;break;case"source":Dt("error",t),i=r;break;case"img":case"image":case"link":Dt("error",t),Dt("load",t),i=r;break;case"details":Dt("toggle",t),i=r;break;case"input":J0(t,r),i=qp(t,r),Dt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=qt({},r,{value:void 0}),Dt("invalid",t);break;case"textarea":Q0(t,r),i=Vp(t,r),Dt("invalid",t);break;default:i=r}Kp(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Fv(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Mv(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Tc(t,l):typeof l=="number"&&Tc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ic.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Dt("scroll",t):l!=null&&fm(t,s,l,a))}switch(n){case"input":nd(t),Y0(t,r,!1);break;case"textarea":nd(t),X0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ks(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ko(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ko(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mn(e),null;case 6:if(t&&e.stateNode!=null)o5(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(_e(166));if(n=Ea(Wc.current),Ea(Ii.current),dd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Li]=e,(s=r.nodeValue!==n)&&(t=br,t!==null))switch(t.tag){case 3:ud(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ud(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Li]=e,e.stateNode=r}return Mn(e),null;case 13:if(Rt(zt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($t&&wr!==null&&e.mode&1&&!(e.flags&128))_y(),al(),e.flags|=98560,s=!1;else if(s=dd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(_e(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(_e(317));s[Li]=e}else al(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mn(e),s=!1}else ai!==null&&(Cg(ai),ai=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||zt.current&1?vn===0&&(vn=3):Jm())),e.updateQueue!==null&&(e.flags|=4),Mn(e),null);case 4:return ll(),bg(t,e),t===null&&Bc(e.stateNode.containerInfo),Mn(e),null;case 10:return Im(e.type._context),Mn(e),null;case 17:return cr(e.type)&&Zd(),Mn(e),null;case 19:if(Rt(zt),s=e.memoizedState,s===null)return Mn(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)nc(s,!1);else{if(vn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ah(t),a!==null){for(e.flags|=128,nc(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ot(zt,zt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Zt()>ul&&(e.flags|=128,r=!0,nc(s,!1),e.lanes=4194304)}else{if(!r)if(t=ah(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),nc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!$t)return Mn(e),null}else 2*Zt()-s.renderingStartTime>ul&&n!==1073741824&&(e.flags|=128,r=!0,nc(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Zt(),e.sibling=null,n=zt.current,Ot(zt,r?n&1|2:n&1),e):(Mn(e),null);case 22:case 23:return Km(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yr&1073741824&&(Mn(e),e.subtreeFlags&6&&(e.flags|=8192)):Mn(e),null;case 24:return null;case 25:return null}throw Error(_e(156,e.tag))}function V3(t,e){switch(Pm(e),e.tag){case 1:return cr(e.type)&&Zd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ll(),Rt(lr),Rt(qn),Rm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Mm(e),null;case 13:if(Rt(zt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(_e(340));al()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Rt(zt),null;case 4:return ll(),null;case 10:return Im(e.type._context),null;case 22:case 23:return Km(),null;case 24:return null;default:return null}}var pd=!1,zn=!1,G3=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function Ho(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Jt(t,e,r)}else n.current=null}function Sg(t,e,n){try{n()}catch(r){Jt(t,e,r)}}var z1=!1;function K3(t,e){if(sg=Jd,t=hy(),jm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,f=0,p=t,m=null;t:for(;;){for(var g;p!==n||i!==0&&p.nodeType!==3||(o=a+i),p!==s||r!==0&&p.nodeType!==3||(l=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(g=p.firstChild)!==null;)m=p,p=g;for(;;){if(p===t)break t;if(m===n&&++u===i&&(o=a),m===s&&++f===r&&(l=a),(g=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=g}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ag={focusedElem:t,selectionRange:n},Jd=!1,Fe=e;Fe!==null;)if(e=Fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Fe=t;else for(;Fe!==null;){e=Fe;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var k=b.memoizedProps,_=b.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?k:ni(e.type,k),_);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(A){Jt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Fe=t;break}Fe=e.return}return b=z1,z1=!1,b}function Nc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Sg(e,n,s)}i=i.next}while(i!==r)}}function Mh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ng(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function l5(t){var e=t.alternate;e!==null&&(t.alternate=null,l5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Li],delete e[Uc],delete e[cg],delete e[A3],delete e[E3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function c5(t){return t.tag===5||t.tag===3||t.tag===4}function U1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||c5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xd));else if(r!==4&&(t=t.child,t!==null))for(kg(t,e,n),t=t.sibling;t!==null;)kg(t,e,n),t=t.sibling}function _g(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_g(t,e,n),t=t.sibling;t!==null;)_g(t,e,n),t=t.sibling}var Ln=null,ii=!1;function ks(t,e,n){for(n=n.child;n!==null;)u5(t,e,n),n=n.sibling}function u5(t,e,n){if(Ei&&typeof Ei.onCommitFiberUnmount=="function")try{Ei.onCommitFiberUnmount(Ph,n)}catch{}switch(n.tag){case 5:zn||Ho(n,e);case 6:var r=Ln,i=ii;Ln=null,ks(t,e,n),Ln=r,ii=i,Ln!==null&&(ii?(t=Ln,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ln.removeChild(n.stateNode));break;case 18:Ln!==null&&(ii?(t=Ln,n=n.stateNode,t.nodeType===8?lp(t.parentNode,n):t.nodeType===1&&lp(t,n),Rc(t)):lp(Ln,n.stateNode));break;case 4:r=Ln,i=ii,Ln=n.stateNode.containerInfo,ii=!0,ks(t,e,n),Ln=r,ii=i;break;case 0:case 11:case 14:case 15:if(!zn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Sg(n,e,a),i=i.next}while(i!==r)}ks(t,e,n);break;case 1:if(!zn&&(Ho(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Jt(n,e,o)}ks(t,e,n);break;case 21:ks(t,e,n);break;case 22:n.mode&1?(zn=(r=zn)||n.memoizedState!==null,ks(t,e,n),zn=r):ks(t,e,n);break;default:ks(t,e,n)}}function q1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new G3),e.forEach(function(r){var i=r4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Zr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ln=o.stateNode,ii=!1;break e;case 3:Ln=o.stateNode.containerInfo,ii=!0;break e;case 4:Ln=o.stateNode.containerInfo,ii=!0;break e}o=o.return}if(Ln===null)throw Error(_e(160));u5(s,a,i),Ln=null,ii=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Jt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)d5(e,t),e=e.sibling}function d5(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zr(e,t),Si(t),r&4){try{Nc(3,t,t.return),Mh(3,t)}catch(k){Jt(t,t.return,k)}try{Nc(5,t,t.return)}catch(k){Jt(t,t.return,k)}}break;case 1:Zr(e,t),Si(t),r&512&&n!==null&&Ho(n,n.return);break;case 5:if(Zr(e,t),Si(t),r&512&&n!==null&&Ho(n,n.return),t.flags&32){var i=t.stateNode;try{Tc(i,"")}catch(k){Jt(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Tv(i,s),Jp(o,a);var u=Jp(o,s);for(a=0;a<l.length;a+=2){var f=l[a],p=l[a+1];f==="style"?Fv(i,p):f==="dangerouslySetInnerHTML"?Mv(i,p):f==="children"?Tc(i,p):fm(i,f,p,u)}switch(o){case"input":Wp(i,s);break;case"textarea":Ov(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ko(i,!!s.multiple,g,!1):m!==!!s.multiple&&(s.defaultValue!=null?Ko(i,!!s.multiple,s.defaultValue,!0):Ko(i,!!s.multiple,s.multiple?[]:"",!1))}i[Uc]=s}catch(k){Jt(t,t.return,k)}}break;case 6:if(Zr(e,t),Si(t),r&4){if(t.stateNode===null)throw Error(_e(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){Jt(t,t.return,k)}}break;case 3:if(Zr(e,t),Si(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rc(e.containerInfo)}catch(k){Jt(t,t.return,k)}break;case 4:Zr(e,t),Si(t);break;case 13:Zr(e,t),Si(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Vm=Zt())),r&4&&q1(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(zn=(u=zn)||f,Zr(e,t),zn=u):Zr(e,t),Si(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(Fe=t,f=t.child;f!==null;){for(p=Fe=f;Fe!==null;){switch(m=Fe,g=m.child,m.tag){case 0:case 11:case 14:case 15:Nc(4,m,m.return);break;case 1:Ho(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(k){Jt(r,n,k)}}break;case 5:Ho(m,m.return);break;case 22:if(m.memoizedState!==null){H1(p);continue}}g!==null?(g.return=m,Fe=g):H1(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=p.stateNode,l=p.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Rv("display",a))}catch(k){Jt(t,t.return,k)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(k){Jt(t,t.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Zr(e,t),Si(t),r&4&&q1(t);break;case 21:break;default:Zr(e,t),Si(t)}}function Si(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(c5(n)){var r=n;break e}n=n.return}throw Error(_e(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Tc(i,""),r.flags&=-33);var s=U1(t);_g(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=U1(t);kg(t,o,a);break;default:throw Error(_e(161))}}catch(l){Jt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function J3(t,e,n){Fe=t,h5(t)}function h5(t,e,n){for(var r=(t.mode&1)!==0;Fe!==null;){var i=Fe,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||pd;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||zn;o=pd;var u=zn;if(pd=a,(zn=l)&&!u)for(Fe=i;Fe!==null;)a=Fe,l=a.child,a.tag===22&&a.memoizedState!==null?V1(i):l!==null?(l.return=a,Fe=l):V1(i);for(;s!==null;)Fe=s,h5(s),s=s.sibling;Fe=i,pd=o,zn=u}W1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Fe=s):W1(t)}}function W1(t){for(;Fe!==null;){var e=Fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zn||Mh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ni(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&P1(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}P1(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Rc(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}zn||e.flags&512&&Ng(e)}catch(m){Jt(e,e.return,m)}}if(e===t){Fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Fe=n;break}Fe=e.return}}function H1(t){for(;Fe!==null;){var e=Fe;if(e===t){Fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Fe=n;break}Fe=e.return}}function V1(t){for(;Fe!==null;){var e=Fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Mh(4,e)}catch(l){Jt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Jt(e,i,l)}}var s=e.return;try{Ng(e)}catch(l){Jt(e,s,l)}break;case 5:var a=e.return;try{Ng(e)}catch(l){Jt(e,a,l)}}}catch(l){Jt(e,e.return,l)}if(e===t){Fe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Fe=o;break}Fe=e.return}}var Y3=Math.ceil,ch=cs.ReactCurrentDispatcher,Wm=cs.ReactCurrentOwner,Rr=cs.ReactCurrentBatchConfig,mt=0,Nn=null,un=null,Cn=0,yr=0,Vo=ea(0),vn=0,Kc=null,Fa=0,Rh=0,Hm=0,kc=null,sr=null,Vm=0,ul=1/0,Ji=null,uh=!1,jg=null,Ws=null,gd=!1,Ms=null,dh=0,_c=0,Lg=null,Md=-1,Rd=0;function Kn(){return mt&6?Zt():Md!==-1?Md:Md=Zt()}function Hs(t){return t.mode&1?mt&2&&Cn!==0?Cn&-Cn:T3.transition!==null?(Rd===0&&(Rd=Yv()),Rd):(t=kt,t!==0||(t=window.event,t=t===void 0?16:ry(t.type)),t):1}function li(t,e,n,r){if(50<_c)throw _c=0,Lg=null,Error(_e(185));tu(t,n,r),(!(mt&2)||t!==Nn)&&(t===Nn&&(!(mt&2)&&(Rh|=n),vn===4&&Is(t,Cn)),ur(t,r),n===1&&mt===0&&!(e.mode&1)&&(ul=Zt()+500,Th&&ta()))}function ur(t,e){var n=t.callbackNode;Tb(t,e);var r=Kd(t,t===Nn?Cn:0);if(r===0)n!==null&&t1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&t1(n),e===1)t.tag===0?I3(G1.bind(null,t)):Sy(G1.bind(null,t)),P3(function(){!(mt&6)&&ta()}),n=null;else{switch(Qv(r)){case 1:n=ym;break;case 4:n=Kv;break;case 16:n=Gd;break;case 536870912:n=Jv;break;default:n=Gd}n=x5(n,f5.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function f5(t,e){if(Md=-1,Rd=0,mt&6)throw Error(_e(327));var n=t.callbackNode;if(Zo()&&t.callbackNode!==n)return null;var r=Kd(t,t===Nn?Cn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hh(t,r);else{e=r;var i=mt;mt|=2;var s=g5();(Nn!==t||Cn!==e)&&(Ji=null,ul=Zt()+500,Ia(t,e));do try{Z3();break}catch(o){p5(t,o)}while(!0);Em(),ch.current=s,mt=i,un!==null?e=0:(Nn=null,Cn=0,e=vn)}if(e!==0){if(e===2&&(i=eg(t),i!==0&&(r=i,e=Pg(t,i))),e===1)throw n=Kc,Ia(t,0),Is(t,r),ur(t,Zt()),n;if(e===6)Is(t,r);else{if(i=t.current.alternate,!(r&30)&&!Q3(i)&&(e=hh(t,r),e===2&&(s=eg(t),s!==0&&(r=s,e=Pg(t,s))),e===1))throw n=Kc,Ia(t,0),Is(t,r),ur(t,Zt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(_e(345));case 2:Na(t,sr,Ji);break;case 3:if(Is(t,r),(r&130023424)===r&&(e=Vm+500-Zt(),10<e)){if(Kd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Kn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=lg(Na.bind(null,t,sr,Ji),e);break}Na(t,sr,Ji);break;case 4:if(Is(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-oi(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Zt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Y3(r/1960))-r,10<r){t.timeoutHandle=lg(Na.bind(null,t,sr,Ji),r);break}Na(t,sr,Ji);break;case 5:Na(t,sr,Ji);break;default:throw Error(_e(329))}}}return ur(t,Zt()),t.callbackNode===n?f5.bind(null,t):null}function Pg(t,e){var n=kc;return t.current.memoizedState.isDehydrated&&(Ia(t,e).flags|=256),t=hh(t,e),t!==2&&(e=sr,sr=n,e!==null&&Cg(e)),t}function Cg(t){sr===null?sr=t:sr.push.apply(sr,t)}function Q3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ci(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Is(t,e){for(e&=~Hm,e&=~Rh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oi(e),r=1<<n;t[n]=-1,e&=~r}}function G1(t){if(mt&6)throw Error(_e(327));Zo();var e=Kd(t,0);if(!(e&1))return ur(t,Zt()),null;var n=hh(t,e);if(t.tag!==0&&n===2){var r=eg(t);r!==0&&(e=r,n=Pg(t,r))}if(n===1)throw n=Kc,Ia(t,0),Is(t,e),ur(t,Zt()),n;if(n===6)throw Error(_e(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Na(t,sr,Ji),ur(t,Zt()),null}function Gm(t,e){var n=mt;mt|=1;try{return t(e)}finally{mt=n,mt===0&&(ul=Zt()+500,Th&&ta())}}function $a(t){Ms!==null&&Ms.tag===0&&!(mt&6)&&Zo();var e=mt;mt|=1;var n=Rr.transition,r=kt;try{if(Rr.transition=null,kt=1,t)return t()}finally{kt=r,Rr.transition=n,mt=e,!(mt&6)&&ta()}}function Km(){yr=Vo.current,Rt(Vo)}function Ia(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,L3(n)),un!==null)for(n=un.return;n!==null;){var r=n;switch(Pm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zd();break;case 3:ll(),Rt(lr),Rt(qn),Rm();break;case 5:Mm(r);break;case 4:ll();break;case 13:Rt(zt);break;case 19:Rt(zt);break;case 10:Im(r.type._context);break;case 22:case 23:Km()}n=n.return}if(Nn=t,un=t=Vs(t.current,null),Cn=yr=e,vn=0,Kc=null,Hm=Rh=Fa=0,sr=kc=null,Aa!==null){for(e=0;e<Aa.length;e++)if(n=Aa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Aa=null}return t}function p5(t,e){do{var n=un;try{if(Em(),Td.current=lh,oh){for(var r=Ut.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}oh=!1}if(Ra=0,bn=gn=Ut=null,Sc=!1,Hc=0,Wm.current=null,n===null||n.return===null){vn=1,Kc=e,un=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=Cn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=o,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=O1(a);if(g!==null){g.flags&=-257,D1(g,a,o,s,e),g.mode&1&&T1(s,u,e),e=g,l=u;var b=e.updateQueue;if(b===null){var k=new Set;k.add(l),e.updateQueue=k}else b.add(l);break e}else{if(!(e&1)){T1(s,u,e),Jm();break e}l=Error(_e(426))}}else if($t&&o.mode&1){var _=O1(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),D1(_,a,o,s,e),Cm(cl(l,o));break e}}s=l=cl(l,o),vn!==4&&(vn=2),kc===null?kc=[s]:kc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=Qy(s,l,e);L1(s,x);break e;case 1:o=l;var w=s.type,N=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Ws===null||!Ws.has(N)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=Xy(s,o,e);L1(s,A);break e}}s=s.return}while(s!==null)}v5(n)}catch(E){e=E,un===n&&n!==null&&(un=n=n.return);continue}break}while(!0)}function g5(){var t=ch.current;return ch.current=lh,t===null?lh:t}function Jm(){(vn===0||vn===3||vn===2)&&(vn=4),Nn===null||!(Fa&268435455)&&!(Rh&268435455)||Is(Nn,Cn)}function hh(t,e){var n=mt;mt|=2;var r=g5();(Nn!==t||Cn!==e)&&(Ji=null,Ia(t,e));do try{X3();break}catch(i){p5(t,i)}while(!0);if(Em(),mt=n,ch.current=r,un!==null)throw Error(_e(261));return Nn=null,Cn=0,vn}function X3(){for(;un!==null;)m5(un)}function Z3(){for(;un!==null&&!kb();)m5(un)}function m5(t){var e=w5(t.alternate,t,yr);t.memoizedProps=t.pendingProps,e===null?v5(t):un=e,Wm.current=null}function v5(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=V3(n,e),n!==null){n.flags&=32767,un=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vn=6,un=null;return}}else if(n=H3(n,e,yr),n!==null){un=n;return}if(e=e.sibling,e!==null){un=e;return}un=e=t}while(e!==null);vn===0&&(vn=5)}function Na(t,e,n){var r=kt,i=Rr.transition;try{Rr.transition=null,kt=1,e4(t,e,n,r)}finally{Rr.transition=i,kt=r}return null}function e4(t,e,n,r){do Zo();while(Ms!==null);if(mt&6)throw Error(_e(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(_e(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ob(t,s),t===Nn&&(un=Nn=null,Cn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gd||(gd=!0,x5(Gd,function(){return Zo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Rr.transition,Rr.transition=null;var a=kt;kt=1;var o=mt;mt|=4,Wm.current=null,K3(t,n),d5(n,t),x3(ag),Jd=!!sg,ag=sg=null,t.current=n,J3(n),_b(),mt=o,kt=a,Rr.transition=s}else t.current=n;if(gd&&(gd=!1,Ms=t,dh=i),s=t.pendingLanes,s===0&&(Ws=null),Pb(n.stateNode),ur(t,Zt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(uh)throw uh=!1,t=jg,jg=null,t;return dh&1&&t.tag!==0&&Zo(),s=t.pendingLanes,s&1?t===Lg?_c++:(_c=0,Lg=t):_c=0,ta(),null}function Zo(){if(Ms!==null){var t=Qv(dh),e=Rr.transition,n=kt;try{if(Rr.transition=null,kt=16>t?16:t,Ms===null)var r=!1;else{if(t=Ms,Ms=null,dh=0,mt&6)throw Error(_e(331));var i=mt;for(mt|=4,Fe=t.current;Fe!==null;){var s=Fe,a=s.child;if(Fe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Fe=u;Fe!==null;){var f=Fe;switch(f.tag){case 0:case 11:case 15:Nc(8,f,s)}var p=f.child;if(p!==null)p.return=f,Fe=p;else for(;Fe!==null;){f=Fe;var m=f.sibling,g=f.return;if(l5(f),f===u){Fe=null;break}if(m!==null){m.return=g,Fe=m;break}Fe=g}}}var b=s.alternate;if(b!==null){var k=b.child;if(k!==null){b.child=null;do{var _=k.sibling;k.sibling=null,k=_}while(k!==null)}}Fe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Fe=a;else e:for(;Fe!==null;){if(s=Fe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Nc(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Fe=x;break e}Fe=s.return}}var w=t.current;for(Fe=w;Fe!==null;){a=Fe;var N=a.child;if(a.subtreeFlags&2064&&N!==null)N.return=a,Fe=N;else e:for(a=w;Fe!==null;){if(o=Fe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Mh(9,o)}}catch(E){Jt(o,o.return,E)}if(o===a){Fe=null;break e}var A=o.sibling;if(A!==null){A.return=o.return,Fe=A;break e}Fe=o.return}}if(mt=i,ta(),Ei&&typeof Ei.onPostCommitFiberRoot=="function")try{Ei.onPostCommitFiberRoot(Ph,t)}catch{}r=!0}return r}finally{kt=n,Rr.transition=e}}return!1}function K1(t,e,n){e=cl(n,e),e=Qy(t,e,1),t=qs(t,e,1),e=Kn(),t!==null&&(tu(t,1,e),ur(t,e))}function Jt(t,e,n){if(t.tag===3)K1(t,t,n);else for(;e!==null;){if(e.tag===3){K1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ws===null||!Ws.has(r))){t=cl(n,t),t=Xy(e,t,1),e=qs(e,t,1),t=Kn(),e!==null&&(tu(e,1,t),ur(e,t));break}}e=e.return}}function t4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kn(),t.pingedLanes|=t.suspendedLanes&n,Nn===t&&(Cn&n)===n&&(vn===4||vn===3&&(Cn&130023424)===Cn&&500>Zt()-Vm?Ia(t,0):Hm|=n),ur(t,e)}function y5(t,e){e===0&&(t.mode&1?(e=sd,sd<<=1,!(sd&130023424)&&(sd=4194304)):e=1);var n=Kn();t=is(t,e),t!==null&&(tu(t,e,n),ur(t,n))}function n4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),y5(t,n)}function r4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(_e(314))}r!==null&&r.delete(e),y5(t,n)}var w5;w5=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||lr.current)or=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return or=!1,W3(t,e,n);or=!!(t.flags&131072)}else or=!1,$t&&e.flags&1048576&&Ny(e,nh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dd(t,e),t=e.pendingProps;var i=sl(e,qn.current);Xo(e,n),i=$m(null,e,r,t,i,n);var s=Bm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cr(r)?(s=!0,eh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Om(e),i.updater=Dh,e.stateNode=i,i._reactInternals=e,gg(e,r,t,n),e=yg(null,e,r,!0,s,n)):(e.tag=0,$t&&s&&Lm(e),Gn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=s4(r),t=ni(r,t),i){case 0:e=vg(null,e,r,t,n);break e;case 1:e=F1(null,e,r,t,n);break e;case 11:e=M1(null,e,r,t,n);break e;case 14:e=R1(null,e,r,ni(r.type,t),n);break e}throw Error(_e(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ni(r,i),vg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ni(r,i),F1(t,e,r,i,n);case 3:e:{if(n5(e),t===null)throw Error(_e(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Cy(t,e),sh(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=cl(Error(_e(423)),e),e=$1(t,e,r,n,i);break e}else if(r!==i){i=cl(Error(_e(424)),e),e=$1(t,e,r,n,i);break e}else for(wr=Us(e.stateNode.containerInfo.firstChild),br=e,$t=!0,ai=null,n=Ly(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(al(),r===i){e=ss(t,e,n);break e}Gn(t,e,r,n)}e=e.child}return e;case 5:return Ay(e),t===null&&hg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,og(r,i)?a=null:s!==null&&og(r,s)&&(e.flags|=32),t5(t,e),Gn(t,e,a,n),e.child;case 6:return t===null&&hg(e),null;case 13:return r5(t,e,n);case 4:return Dm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ol(e,null,r,n):Gn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ni(r,i),M1(t,e,r,i,n);case 7:return Gn(t,e,e.pendingProps,n),e.child;case 8:return Gn(t,e,e.pendingProps.children,n),e.child;case 12:return Gn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Ot(rh,r._currentValue),r._currentValue=a,s!==null)if(ci(s.value,a)){if(s.children===i.children&&!lr.current){e=ss(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=es(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),fg(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(_e(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),fg(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Gn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xo(e,n),i=Br(i),r=r(i),e.flags|=1,Gn(t,e,r,n),e.child;case 14:return r=e.type,i=ni(r,e.pendingProps),i=ni(r.type,i),R1(t,e,r,i,n);case 15:return Zy(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ni(r,i),Dd(t,e),e.tag=1,cr(r)?(t=!0,eh(e)):t=!1,Xo(e,n),Yy(e,r,i),gg(e,r,i,n),yg(null,e,r,!0,t,n);case 19:return i5(t,e,n);case 22:return e5(t,e,n)}throw Error(_e(156,e.tag))};function x5(t,e){return Gv(t,e)}function i4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(t,e,n,r){return new i4(t,e,n,r)}function Ym(t){return t=t.prototype,!(!t||!t.isReactComponent)}function s4(t){if(typeof t=="function")return Ym(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gm)return 11;if(t===mm)return 14}return 2}function Vs(t,e){var n=t.alternate;return n===null?(n=Mr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fd(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")Ym(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Mo:return Ta(n.children,i,s,e);case pm:a=8,i|=8;break;case $p:return t=Mr(12,n,e,i|2),t.elementType=$p,t.lanes=s,t;case Bp:return t=Mr(13,n,e,i),t.elementType=Bp,t.lanes=s,t;case zp:return t=Mr(19,n,e,i),t.elementType=zp,t.lanes=s,t;case Av:return Fh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pv:a=10;break e;case Cv:a=9;break e;case gm:a=11;break e;case mm:a=14;break e;case Cs:a=16,r=null;break e}throw Error(_e(130,t==null?t:typeof t,""))}return e=Mr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ta(t,e,n,r){return t=Mr(7,t,r,e),t.lanes=n,t}function Fh(t,e,n,r){return t=Mr(22,t,r,e),t.elementType=Av,t.lanes=n,t.stateNode={isHidden:!1},t}function mp(t,e,n){return t=Mr(6,t,null,e),t.lanes=n,t}function vp(t,e,n){return e=Mr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function a4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qf(0),this.expirationTimes=Qf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qm(t,e,n,r,i,s,a,o,l){return t=new a4(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Mr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Om(s),t}function o4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Do,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function b5(t){if(!t)return Js;t=t._reactInternals;e:{if(za(t)!==t||t.tag!==1)throw Error(_e(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_e(171))}if(t.tag===1){var n=t.type;if(cr(n))return by(t,n,e)}return e}function S5(t,e,n,r,i,s,a,o,l){return t=Qm(n,r,!0,t,i,s,a,o,l),t.context=b5(null),n=t.current,r=Kn(),i=Hs(n),s=es(r,i),s.callback=e??null,qs(n,s,i),t.current.lanes=i,tu(t,i,r),ur(t,r),t}function $h(t,e,n,r){var i=e.current,s=Kn(),a=Hs(i);return n=b5(n),e.context===null?e.context=n:e.pendingContext=n,e=es(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qs(i,e,a),t!==null&&(li(t,i,a,s),Id(t,i,a)),a}function fh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function J1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xm(t,e){J1(t,e),(t=t.alternate)&&J1(t,e)}function l4(){return null}var N5=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zm(t){this._internalRoot=t}Bh.prototype.render=Zm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(_e(409));$h(t,e,null,null)};Bh.prototype.unmount=Zm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$a(function(){$h(null,t,null,null)}),e[rs]=null}};function Bh(t){this._internalRoot=t}Bh.prototype.unstable_scheduleHydration=function(t){if(t){var e=ey();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Es.length&&e!==0&&e<Es[n].priority;n++);Es.splice(n,0,t),n===0&&ny(t)}};function e0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Y1(){}function c4(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=fh(a);s.call(u)}}var a=S5(e,r,t,0,null,!1,!1,"",Y1);return t._reactRootContainer=a,t[rs]=a.current,Bc(t.nodeType===8?t.parentNode:t),$a(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=fh(l);o.call(u)}}var l=Qm(t,0,!1,null,null,!1,!1,"",Y1);return t._reactRootContainer=l,t[rs]=l.current,Bc(t.nodeType===8?t.parentNode:t),$a(function(){$h(e,l,n,r)}),l}function Uh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=fh(a);o.call(l)}}$h(e,a,t,i)}else a=c4(n,e,t,i,r);return fh(a)}Xv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fc(e.pendingLanes);n!==0&&(wm(e,n|1),ur(e,Zt()),!(mt&6)&&(ul=Zt()+500,ta()))}break;case 13:$a(function(){var r=is(t,1);if(r!==null){var i=Kn();li(r,t,1,i)}}),Xm(t,1)}};xm=function(t){if(t.tag===13){var e=is(t,134217728);if(e!==null){var n=Kn();li(e,t,134217728,n)}Xm(t,134217728)}};Zv=function(t){if(t.tag===13){var e=Hs(t),n=is(t,e);if(n!==null){var r=Kn();li(n,t,e,r)}Xm(t,e)}};ey=function(){return kt};ty=function(t,e){var n=kt;try{return kt=t,e()}finally{kt=n}};Qp=function(t,e,n){switch(e){case"input":if(Wp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ih(r);if(!i)throw Error(_e(90));Iv(r),Wp(r,i)}}}break;case"textarea":Ov(t,n);break;case"select":e=n.value,e!=null&&Ko(t,!!n.multiple,e,!1)}};zv=Gm;Uv=$a;var u4={usingClientEntryPoint:!1,Events:[ru,Bo,Ih,$v,Bv,Gm]},rc={findFiberByHostInstance:Ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d4={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hv(t),t===null?null:t.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||l4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{Ph=md.inject(d4),Ei=md}catch{}}Nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u4;Nr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e0(e))throw Error(_e(200));return o4(t,e,null,n)};Nr.createRoot=function(t,e){if(!e0(t))throw Error(_e(299));var n=!1,r="",i=N5;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Qm(t,1,!1,null,null,n,!1,r,i),t[rs]=e.current,Bc(t.nodeType===8?t.parentNode:t),new Zm(e)};Nr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(_e(188)):(t=Object.keys(t).join(","),Error(_e(268,t)));return t=Hv(e),t=t===null?null:t.stateNode,t};Nr.flushSync=function(t){return $a(t)};Nr.hydrate=function(t,e,n){if(!zh(e))throw Error(_e(200));return Uh(null,t,e,!0,n)};Nr.hydrateRoot=function(t,e,n){if(!e0(t))throw Error(_e(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=N5;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=S5(e,null,t,1,n??null,i,!1,s,a),t[rs]=e.current,Bc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Bh(e)};Nr.render=function(t,e,n){if(!zh(e))throw Error(_e(200));return Uh(null,t,e,!1,n)};Nr.unmountComponentAtNode=function(t){if(!zh(t))throw Error(_e(40));return t._reactRootContainer?($a(function(){Uh(null,null,t,!1,function(){t._reactRootContainer=null,t[rs]=null})}),!0):!1};Nr.unstable_batchedUpdates=Gm;Nr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zh(n))throw Error(_e(200));if(t==null||t._reactInternals===void 0)throw Error(_e(38));return Uh(t,e,n,!1,r)};Nr.version="18.3.1-next-f1338f8080-20240426";function k5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k5)}catch(t){console.error(t)}}k5(),kv.exports=Nr;var h4=kv.exports,_5,Q1=h4;_5=Q1.createRoot,Q1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jc.apply(this,arguments)}var Rs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Rs||(Rs={}));const X1="popstate";function f4(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return Ag("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ph(i)}return g4(e,n,null,t)}function rn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function j5(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function p4(){return Math.random().toString(36).substr(2,8)}function Z1(t,e){return{usr:t.state,key:t.key,idx:e}}function Ag(t,e,n,r){return n===void 0&&(n=null),Jc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ml(e):e,{state:n,key:e&&e.key||r||p4()})}function ph(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ml(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function g4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Rs.Pop,l=null,u=f();u==null&&(u=0,a.replaceState(Jc({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function p(){o=Rs.Pop;let _=f(),x=_==null?null:_-u;u=_,l&&l({action:o,location:k.location,delta:x})}function m(_,x){o=Rs.Push;let w=Ag(k.location,_,x);u=f()+1;let N=Z1(w,u),A=k.createHref(w);try{a.pushState(N,"",A)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(A)}s&&l&&l({action:o,location:k.location,delta:1})}function g(_,x){o=Rs.Replace;let w=Ag(k.location,_,x);u=f();let N=Z1(w,u),A=k.createHref(w);a.replaceState(N,"",A),s&&l&&l({action:o,location:k.location,delta:0})}function b(_){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof _=="string"?_:ph(_);return w=w.replace(/ $/,"%20"),rn(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let k={get action(){return o},get location(){return t(i,a)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(X1,p),l=_,()=>{i.removeEventListener(X1,p),l=null}},createHref(_){return e(i,_)},createURL:b,encodeLocation(_){let x=b(_);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:g,go(_){return a.go(_)}};return k}var e2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(e2||(e2={}));function m4(t,e,n){return n===void 0&&(n="/"),v4(t,e,n)}function v4(t,e,n,r){let i=typeof e=="string"?ml(e):e,s=t0(i.pathname||"/",n);if(s==null)return null;let a=L5(t);y4(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=A4(s);o=L4(a[l],u)}return o}function L5(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(rn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Gs([r,l.relativePath]),f=n.concat(l);s.children&&s.children.length>0&&(rn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),L5(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:_4(u,s.index),routesMeta:f})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of P5(s.path))i(s,a,l)}),e}function P5(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=P5(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function y4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:j4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const w4=/^:[\w-]+$/,x4=3,b4=2,S4=1,N4=10,k4=-2,t2=t=>t==="*";function _4(t,e){let n=t.split("/"),r=n.length;return n.some(t2)&&(r+=k4),e&&(r+=b4),n.filter(i=>!t2(i)).reduce((i,s)=>i+(w4.test(s)?x4:s===""?S4:N4),r)}function j4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function L4(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=P4({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),m=l.route;if(!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:Gs([s,p.pathname]),pathnameBase:O4(Gs([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=Gs([s,p.pathnameBase]))}return a}function P4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=C4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,f,p)=>{let{paramName:m,isOptional:g}=f;if(m==="*"){let k=o[p]||"";a=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const b=o[p];return g&&!b?u[m]=void 0:u[m]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function C4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),j5(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function A4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return j5(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function t0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function E4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ml(t):t;return{pathname:n?n.startsWith("/")?n:I4(n,e):e,search:D4(r),hash:M4(i)}}function I4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function T4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function n0(t,e){let n=T4(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function r0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ml(t):(i=Jc({},t),rn(!i.pathname||!i.pathname.includes("?"),yp("?","pathname","search",i)),rn(!i.pathname||!i.pathname.includes("#"),yp("#","pathname","hash",i)),rn(!i.search||!i.search.includes("#"),yp("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let p=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}o=p>=0?e[p]:"/"}let l=E4(i,o),u=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const Gs=t=>t.join("/").replace(/\/\/+/g,"/"),O4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),D4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,M4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function R4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const C5=["post","put","patch","delete"];new Set(C5);const F4=["get",...C5];new Set(F4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}const i0=Z.createContext(null),$4=Z.createContext(null),na=Z.createContext(null),qh=Z.createContext(null),ra=Z.createContext({outlet:null,matches:[],isDataRoute:!1}),A5=Z.createContext(null);function B4(t,e){let{relative:n}=e===void 0?{}:e;vl()||rn(!1);let{basename:r,navigator:i}=Z.useContext(na),{hash:s,pathname:a,search:o}=I5(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Gs([r,a])),i.createHref({pathname:l,search:o,hash:s})}function vl(){return Z.useContext(qh)!=null}function Ua(){return vl()||rn(!1),Z.useContext(qh).location}function E5(t){Z.useContext(na).static||Z.useLayoutEffect(t)}function Wh(){let{isDataRoute:t}=Z.useContext(ra);return t?Z4():z4()}function z4(){vl()||rn(!1);let t=Z.useContext(i0),{basename:e,future:n,navigator:r}=Z.useContext(na),{matches:i}=Z.useContext(ra),{pathname:s}=Ua(),a=JSON.stringify(n0(i,n.v7_relativeSplatPath)),o=Z.useRef(!1);return E5(()=>{o.current=!0}),Z.useCallback(function(u,f){if(f===void 0&&(f={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let p=r0(u,JSON.parse(a),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Gs([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,a,s,t])}function I5(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=Z.useContext(na),{matches:i}=Z.useContext(ra),{pathname:s}=Ua(),a=JSON.stringify(n0(i,r.v7_relativeSplatPath));return Z.useMemo(()=>r0(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function U4(t,e){return q4(t,e)}function q4(t,e,n,r){vl()||rn(!1);let{navigator:i}=Z.useContext(na),{matches:s}=Z.useContext(ra),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Ua(),f;if(e){var p;let _=typeof e=="string"?ml(e):e;l==="/"||(p=_.pathname)!=null&&p.startsWith(l)||rn(!1),f=_}else f=u;let m=f.pathname||"/",g=m;if(l!=="/"){let _=l.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(_.length).join("/")}let b=m4(t,{pathname:g}),k=K4(b&&b.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:Gs([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Gs([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&k?Z.createElement(qh.Provider,{value:{location:Yc({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Rs.Pop}},k):k}function W4(){let t=X4(),e=R4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),n?Z.createElement("pre",{style:i},n):null,null)}const H4=Z.createElement(W4,null);class V4 extends Z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Z.createElement(ra.Provider,{value:this.props.routeContext},Z.createElement(A5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G4(t){let{routeContext:e,match:n,children:r}=t,i=Z.useContext(i0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Z.createElement(ra.Provider,{value:e},r)}function K4(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let f=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);f>=0||rn(!1),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:m,errors:g}=n,b=p.route.loader&&m[p.route.id]===void 0&&(!g||g[p.route.id]===void 0);if(p.route.lazy||b){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,p,m)=>{let g,b=!1,k=null,_=null;n&&(g=o&&p.route.id?o[p.route.id]:void 0,k=p.route.errorElement||H4,l&&(u<0&&m===0?(eS("route-fallback"),b=!0,_=null):u===m&&(b=!0,_=p.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,m+1)),w=()=>{let N;return g?N=k:b?N=_:p.route.Component?N=Z.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=f,Z.createElement(G4,{match:p,routeContext:{outlet:f,matches:x,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?Z.createElement(V4,{location:n.location,revalidation:n.revalidation,component:k,error:g,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var T5=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(T5||{}),O5=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(O5||{});function J4(t){let e=Z.useContext(i0);return e||rn(!1),e}function Y4(t){let e=Z.useContext($4);return e||rn(!1),e}function Q4(t){let e=Z.useContext(ra);return e||rn(!1),e}function D5(t){let e=Q4(),n=e.matches[e.matches.length-1];return n.route.id||rn(!1),n.route.id}function X4(){var t;let e=Z.useContext(A5),n=Y4(),r=D5();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Z4(){let{router:t}=J4(T5.UseNavigateStable),e=D5(O5.UseNavigateStable),n=Z.useRef(!1);return E5(()=>{n.current=!0}),Z.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Yc({fromRouteId:e},s)))},[t,e])}const n2={};function eS(t,e,n){n2[t]||(n2[t]=!0)}function tS(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Vi(t){let{to:e,replace:n,state:r,relative:i}=t;vl()||rn(!1);let{future:s,static:a}=Z.useContext(na),{matches:o}=Z.useContext(ra),{pathname:l}=Ua(),u=Wh(),f=r0(e,n0(o,s.v7_relativeSplatPath),l,i==="path"),p=JSON.stringify(f);return Z.useEffect(()=>u(JSON.parse(p),{replace:n,state:r,relative:i}),[u,p,i,n,r]),null}function vr(t){rn(!1)}function nS(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Rs.Pop,navigator:s,static:a=!1,future:o}=t;vl()&&rn(!1);let l=e.replace(/^\/*/,"/"),u=Z.useMemo(()=>({basename:l,navigator:s,static:a,future:Yc({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=ml(r));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:b="default"}=r,k=Z.useMemo(()=>{let _=t0(f,l);return _==null?null:{location:{pathname:_,search:p,hash:m,state:g,key:b},navigationType:i}},[l,f,p,m,g,b,i]);return k==null?null:Z.createElement(na.Provider,{value:u},Z.createElement(qh.Provider,{children:n,value:k}))}function rS(t){let{children:e,location:n}=t;return U4(Eg(e),n)}new Promise(()=>{});function Eg(t,e){e===void 0&&(e=[]);let n=[];return Z.Children.forEach(t,(r,i)=>{if(!Z.isValidElement(r))return;let s=[...e,i];if(r.type===Z.Fragment){n.push.apply(n,Eg(r.props.children,s));return}r.type!==vr&&rn(!1),!r.props.index||!r.props.children||rn(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Eg(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(this,arguments)}function iS(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aS(t,e){return t.button===0&&(!e||e==="_self")&&!sS(t)}const oS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lS="6";try{window.__reactRouterVersion=lS}catch{}const cS="startTransition",r2=tb[cS];function uS(t){let{basename:e,children:n,future:r,window:i}=t,s=Z.useRef();s.current==null&&(s.current=f4({window:i,v5Compat:!0}));let a=s.current,[o,l]=Z.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},f=Z.useCallback(p=>{u&&r2?r2(()=>l(p)):l(p)},[l,u]);return Z.useLayoutEffect(()=>a.listen(f),[a,f]),Z.useEffect(()=>tS(r),[r]),Z.createElement(nS,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const dS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gc=Z.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:f,viewTransition:p}=e,m=iS(e,oS),{basename:g}=Z.useContext(na),b,k=!1;if(typeof u=="string"&&hS.test(u)&&(b=u,dS))try{let N=new URL(window.location.href),A=u.startsWith("//")?new URL(N.protocol+u):new URL(u),E=t0(A.pathname,g);A.origin===N.origin&&E!=null?u=E+A.search+A.hash:k=!0}catch{}let _=B4(u,{relative:i}),x=fS(u,{replace:a,state:o,target:l,preventScrollReset:f,relative:i,viewTransition:p});function w(N){r&&r(N),N.defaultPrevented||x(N)}return Z.createElement("a",Ig({},m,{href:b||_,onClick:k||s?r:w,ref:n,target:l}))});var i2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(i2||(i2={}));var s2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(s2||(s2={}));function fS(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Wh(),u=Ua(),f=I5(t,{relative:a});return Z.useCallback(p=>{if(aS(p,n)){p.preventDefault();let m=r!==void 0?r:ph(u)===ph(f);l(t,{replace:m,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,f,r,i,n,t,s,a,o])}let pS={data:""},gS=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||pS,mS=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,vS=/\/\*[^]*?\*\/|  +/g,a2=/\n+/g,Ts=(t,e)=>{let n="",r="",i="";for(let s in t){let a=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+a+";":r+=s[1]=="f"?Ts(a,s):s+"{"+Ts(a,s[1]=="k"?"":e)+"}":typeof a=="object"?r+=Ts(a,e?e.replace(/([^,])+/g,o=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ts.p?Ts.p(s,a):s+":"+a+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Gi={},M5=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+M5(t[n]);return e}return t},yS=(t,e,n,r,i)=>{let s=M5(t),a=Gi[s]||(Gi[s]=(l=>{let u=0,f=11;for(;u<l.length;)f=101*f+l.charCodeAt(u++)>>>0;return"go"+f})(s));if(!Gi[a]){let l=s!==t?t:(u=>{let f,p,m=[{}];for(;f=mS.exec(u.replace(vS,""));)f[4]?m.shift():f[3]?(p=f[3].replace(a2," ").trim(),m.unshift(m[0][p]=m[0][p]||{})):m[0][f[1]]=f[2].replace(a2," ").trim();return m[0]})(t);Gi[a]=Ts(i?{["@keyframes "+a]:l}:l,n?"":"."+a)}let o=n&&Gi.g?Gi.g:null;return n&&(Gi.g=Gi[a]),((l,u,f,p)=>{p?u.data=u.data.replace(p,l):u.data.indexOf(l)===-1&&(u.data=f?l+u.data:u.data+l)})(Gi[a],e,r,o),a},wS=(t,e,n)=>t.reduce((r,i,s)=>{let a=e[s];if(a&&a.call){let o=a(n),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":Ts(o,""):o===!1?"":o}return r+i+(a??"")},"");function Hh(t){let e=this||{},n=t.call?t(e.p):t;return yS(n.unshift?n.raw?wS(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,gS(e.target),e.g,e.o,e.k)}let R5,Tg,Og;Hh.bind({g:1});let as=Hh.bind({k:1});function xS(t,e,n,r){Ts.p=e,R5=t,Tg=n,Og=r}function ia(t,e){let n=this||{};return function(){let r=arguments;function i(s,a){let o=Object.assign({},s),l=o.className||i.className;n.p=Object.assign({theme:Tg&&Tg()},o),n.o=/ *go\d+/.test(l),o.className=Hh.apply(n,r)+(l?" "+l:"");let u=t;return t[0]&&(u=o.as||t,delete o.as),Og&&u[0]&&Og(o),R5(u,o)}return i}}var bS=t=>typeof t=="function",gh=(t,e)=>bS(t)?t(e):t,SS=(()=>{let t=0;return()=>(++t).toString()})(),F5=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),NS=20,s0="default",$5=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return $5(t,{type:t.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},$d=[],B5={toasts:[],pausedAt:void 0,settings:{toastLimit:NS}},Pi={},z5=(t,e=s0)=>{Pi[e]=$5(Pi[e]||B5,t),$d.forEach(([n,r])=>{n===e&&r(Pi[e])})},U5=t=>Object.keys(Pi).forEach(e=>z5(t,e)),kS=t=>Object.keys(Pi).find(e=>Pi[e].toasts.some(n=>n.id===t)),Vh=(t=s0)=>e=>{z5(e,t)},_S={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},jS=(t={},e=s0)=>{let[n,r]=Z.useState(Pi[e]||B5),i=Z.useRef(Pi[e]);Z.useEffect(()=>(i.current!==Pi[e]&&r(Pi[e]),$d.push([e,r]),()=>{let a=$d.findIndex(([o])=>o===e);a>-1&&$d.splice(a,1)}),[e]);let s=n.toasts.map(a=>{var o,l,u;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((o=t[a.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((l=t[a.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||_S[a.type],style:{...t.style,...(u=t[a.type])==null?void 0:u.style,...a.style}}});return{...n,toasts:s}},LS=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||SS()}),su=t=>(e,n)=>{let r=LS(e,t,n);return Vh(r.toasterId||kS(r.id))({type:2,toast:r}),r.id},mn=(t,e)=>su("blank")(t,e);mn.error=su("error");mn.success=su("success");mn.loading=su("loading");mn.custom=su("custom");mn.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Vh(e)(n):U5(n)};mn.dismissAll=t=>mn.dismiss(void 0,t);mn.remove=(t,e)=>{let n={type:4,toastId:t};e?Vh(e)(n):U5(n)};mn.removeAll=t=>mn.remove(void 0,t);mn.promise=(t,e,n)=>{let r=mn.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?gh(e.success,i):void 0;return s?mn.success(s,{id:r,...n,...n==null?void 0:n.success}):mn.dismiss(r),i}).catch(i=>{let s=e.error?gh(e.error,i):void 0;s?mn.error(s,{id:r,...n,...n==null?void 0:n.error}):mn.dismiss(r)}),t};var PS=1e3,CS=(t,e="default")=>{let{toasts:n,pausedAt:r}=jS(t,e),i=Z.useRef(new Map).current,s=Z.useCallback((p,m=PS)=>{if(i.has(p))return;let g=setTimeout(()=>{i.delete(p),a({type:4,toastId:p})},m);i.set(p,g)},[]);Z.useEffect(()=>{if(r)return;let p=Date.now(),m=n.map(g=>{if(g.duration===1/0)return;let b=(g.duration||0)+g.pauseDuration-(p-g.createdAt);if(b<0){g.visible&&mn.dismiss(g.id);return}return setTimeout(()=>mn.dismiss(g.id,e),b)});return()=>{m.forEach(g=>g&&clearTimeout(g))}},[n,r,e]);let a=Z.useCallback(Vh(e),[e]),o=Z.useCallback(()=>{a({type:5,time:Date.now()})},[a]),l=Z.useCallback((p,m)=>{a({type:1,toast:{id:p,height:m}})},[a]),u=Z.useCallback(()=>{r&&a({type:6,time:Date.now()})},[r,a]),f=Z.useCallback((p,m)=>{let{reverseOrder:g=!1,gutter:b=8,defaultPosition:k}=m||{},_=n.filter(N=>(N.position||k)===(p.position||k)&&N.height),x=_.findIndex(N=>N.id===p.id),w=_.filter((N,A)=>A<x&&N.visible).length;return _.filter(N=>N.visible).slice(...g?[w+1]:[0,w]).reduce((N,A)=>N+(A.height||0)+b,0)},[n]);return Z.useEffect(()=>{n.forEach(p=>{if(p.dismissed)s(p.id,p.removeDelay);else{let m=i.get(p.id);m&&(clearTimeout(m),i.delete(p.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:l,startPause:o,endPause:u,calculateOffset:f}}},AS=as`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ES=as`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,IS=as`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,TS=ia("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${AS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ES} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${IS} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,OS=as`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,DS=ia("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${OS} 1s linear infinite;
`,MS=as`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,RS=as`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,FS=ia("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${MS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${RS} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,$S=ia("div")`
  position: absolute;
`,BS=ia("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,zS=as`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,US=ia("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${zS} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,qS=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?Z.createElement(US,null,e):e:n==="blank"?null:Z.createElement(BS,null,Z.createElement(DS,{...r}),n!=="loading"&&Z.createElement($S,null,n==="error"?Z.createElement(TS,{...r}):Z.createElement(FS,{...r})))},WS=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,HS=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,VS="0%{opacity:0;} 100%{opacity:1;}",GS="0%{opacity:1;} 100%{opacity:0;}",KS=ia("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,JS=ia("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,YS=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=F5()?[VS,GS]:[WS(n),HS(n)];return{animation:e?`${as(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${as(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},QS=Z.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?YS(t.position||e||"top-center",t.visible):{opacity:0},s=Z.createElement(qS,{toast:t}),a=Z.createElement(JS,{...t.ariaProps},gh(t.message,t));return Z.createElement(KS,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:a}):Z.createElement(Z.Fragment,null,s,a))});xS(Z.createElement);var XS=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=Z.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;r(t,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return Z.createElement("div",{ref:s,className:e,style:n},i)},ZS=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:F5()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},eN=Hh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,vd=16,tN=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:s,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:u}=CS(n,s);return Z.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:vd,left:vd,right:vd,bottom:vd,pointerEvents:"none",...a},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(f=>{let p=f.position||e,m=u.calculateOffset(f,{reverseOrder:t,gutter:r,defaultPosition:e}),g=ZS(p,m);return Z.createElement(XS,{id:f.id,key:f.id,onHeightUpdate:u.updateHeight,className:f.visible?eN:"",style:g},f.type==="custom"?gh(f.message,f):i?i(f):Z.createElement(QS,{toast:f,position:p}))}))},ft=mn;function nN(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const o2={};function Dg(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&o2[e[0]]||(typeof e[0]=="string"&&(o2[e[0]]=new Date),nN(...e))}const q5=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}};function l2(t,e,n){t.loadNamespaces(e,q5(t,n))}function c2(t,e,n,r){typeof n=="string"&&(n=[n]),n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,q5(t,r))}function rN(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],i=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=e.services.backendConnector.state[`${o}|${l}`];return u===-1||u===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||a(r,t)&&(!i||a(s,t)))}function iN(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(Dg("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(i,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,t))return!1}}):rN(t,e,n)}const sN=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,aN={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},oN=t=>aN[t],lN=t=>t.replace(sN,oN);let Mg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:lN};function cN(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Mg={...Mg,...t}}function uN(){return Mg}let W5;function dN(t){W5=t}function hN(){return W5}const fN={type:"3rdParty",init(t){cN(t.options.react),dN(t)}},pN=Z.createContext();class gN{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const mN=(t,e)=>{const n=Z.useRef();return Z.useEffect(()=>{n.current=t},[t,e]),n.current};function Lt(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:r,defaultNS:i}=Z.useContext(pN)||{},s=n||r||hN();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new gN),!s){Dg("You will need to pass in an i18next instance by using initReactI18next");const N=(E,B)=>typeof B=="string"?B:B&&typeof B=="object"&&typeof B.defaultValue=="string"?B.defaultValue:Array.isArray(E)?E[E.length-1]:E,A=[N,{},!1];return A.t=N,A.i18n={},A.ready=!1,A}s.options.react&&s.options.react.wait!==void 0&&Dg("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...uN(),...s.options.react,...e},{useSuspense:o,keyPrefix:l}=a;let u=i||s.options&&s.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(u);const f=(s.isInitialized||s.initializedStoreOnce)&&u.every(N=>iN(N,s,a));function p(){return s.getFixedT(e.lng||null,a.nsMode==="fallback"?u:u[0],l)}const[m,g]=Z.useState(p);let b=u.join();e.lng&&(b=`${e.lng}${b}`);const k=mN(b),_=Z.useRef(!0);Z.useEffect(()=>{const{bindI18n:N,bindI18nStore:A}=a;_.current=!0,!f&&!o&&(e.lng?c2(s,e.lng,u,()=>{_.current&&g(p)}):l2(s,u,()=>{_.current&&g(p)})),f&&k&&k!==b&&_.current&&g(p);function E(){_.current&&g(p)}return N&&s&&s.on(N,E),A&&s&&s.store.on(A,E),()=>{_.current=!1,N&&s&&N.split(" ").forEach(B=>s.off(B,E)),A&&s&&A.split(" ").forEach(B=>s.store.off(B,E))}},[s,b]);const x=Z.useRef(!0);Z.useEffect(()=>{_.current&&!x.current&&g(p),x.current=!1},[s,l]);const w=[m,s,f];if(w.t=m,w.i18n=s,w.ready=f,f||!f&&!o)return w;throw new Promise(N=>{e.lng?c2(s,e.lng,u,()=>N()):l2(s,u,()=>N())})}const vN="modulepreload",yN=function(t){return"/"+t},u2={},Ys=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=yN(l),l in u2)return;u2[l]=!0;const u=l.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":vN,u||(p.as="script"),p.crossOrigin="",p.href=l,o&&p.setAttribute("nonce",o),document.head.appendChild(p),u)return new Promise((m,g)=>{p.addEventListener("load",m),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},wN=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ys(async()=>{const{default:r}=await Promise.resolve().then(()=>yl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class a0 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class d2 extends a0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class h2 extends a0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class f2 extends a0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Rg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Rg||(Rg={}));var xN=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(p){a(p)}}function l(f){try{u(r.throw(f))}catch(p){a(p)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};class bN{constructor(e,{headers:n={},customFetch:r,region:i=Rg.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=wN(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return xN(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a,signal:o}=n;let l={},{region:u}=n;u||(u=this.region);const f=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,f.searchParams.set("forceFunctionRegion",u));let p;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",p=a):typeof a=="string"?(l["Content-Type"]="text/plain",p=a):typeof FormData<"u"&&a instanceof FormData?p=a:(l["Content-Type"]="application/json",p=JSON.stringify(a)));const m=yield this.fetch(f.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:p,signal:o}).catch(_=>{throw _.name==="AbortError"?_:new d2(_)}),g=m.headers.get("x-relay-error");if(g&&g==="true")throw new h2(m);if(!m.ok)throw new f2(m);let b=((r=m.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),k;return b==="application/json"?k=yield m.json():b==="application/octet-stream"?k=yield m.blob():b==="text/event-stream"?k=m:b==="multipart/form-data"?k=yield m.formData():k=yield m.text(),{data:k,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new d2(i)}:{data:null,error:i,response:i instanceof f2||i instanceof h2?i.context:void 0}}})}}var ar={},o0={},Gh={},au={},Kh={},Jh={},SN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},dl=SN();const NN=dl.fetch,H5=dl.fetch.bind(dl),V5=dl.Headers,kN=dl.Request,_N=dl.Response,yl=Object.freeze(Object.defineProperty({__proto__:null,Headers:V5,Request:kN,Response:_N,default:H5,fetch:NN},Symbol.toStringTag,{value:"Module"})),jN=$x(yl);var Yh={};Object.defineProperty(Yh,"__esModule",{value:!0});let LN=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Yh.default=LN;var G5=$r&&$r.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jh,"__esModule",{value:!0});const PN=G5(jN),CN=G5(Yh);let AN=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=PN.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,o,l,u;let f=null,p=null,m=null,g=s.status,b=s.statusText;if(s.ok){if(this.method!=="HEAD"){const w=await s.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?p=w:p=JSON.parse(w))}const _=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");_&&x&&x.length>1&&(m=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,g=406,b="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const _=await s.text();try{f=JSON.parse(_),Array.isArray(f)&&s.status===404&&(p=[],f=null,g=200,b="OK")}catch{s.status===404&&_===""?(g=204,b="No Content"):f={message:_}}if(f&&this.isMaybeSingle&&(!((u=f==null?void 0:f.details)===null||u===void 0)&&u.includes("0 rows"))&&(f=null,g=200,b="OK"),f&&this.shouldThrowOnError)throw new CN.default(f)}return{error:f,data:p,count:m,status:g,statusText:b}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,l;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};Jh.default=AN;var EN=$r&&$r.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kh,"__esModule",{value:!0});const IN=EN(Jh);let TN=class extends IN.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${u}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Kh.default=TN;var ON=$r&&$r.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(au,"__esModule",{value:!0});const DN=ON(Kh);let MN=class extends DN.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${a}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};au.default=MN;var RN=$r&&$r.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gh,"__esModule",{value:!0});const ic=RN(au);let FN=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new ic.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var i;const s="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new ic.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){var a;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(l.length>0){const u=[...new Set(l)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new ic.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new ic.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ic.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Gh.default=FN;var K5=$r&&$r.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o0,"__esModule",{value:!0});const $N=K5(Gh),BN=K5(au);let zN=class J5{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new $N.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new J5(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let u;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{l.searchParams.append(p,m)})):(o="POST",u=n);const f=new Headers(this.headers);return s&&f.set("Prefer",`count=${s}`),new BN.default({method:o,url:l,headers:f,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};o0.default=zN;var wl=$r&&$r.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ar,"__esModule",{value:!0});ar.PostgrestError=ar.PostgrestBuilder=ar.PostgrestTransformBuilder=ar.PostgrestFilterBuilder=ar.PostgrestQueryBuilder=ar.PostgrestClient=void 0;const Y5=wl(o0);ar.PostgrestClient=Y5.default;const Q5=wl(Gh);ar.PostgrestQueryBuilder=Q5.default;const X5=wl(au);ar.PostgrestFilterBuilder=X5.default;const Z5=wl(Kh);ar.PostgrestTransformBuilder=Z5.default;const ew=wl(Jh);ar.PostgrestBuilder=ew.default;const tw=wl(Yh);ar.PostgrestError=tw.default;var UN=ar.default={PostgrestClient:Y5.default,PostgrestQueryBuilder:Q5.default,PostgrestFilterBuilder:X5.default,PostgrestTransformBuilder:Z5.default,PostgrestBuilder:ew.default,PostgrestError:tw.default};const{PostgrestClient:qN,PostgrestQueryBuilder:LC,PostgrestFilterBuilder:PC,PostgrestTransformBuilder:CC,PostgrestBuilder:AC,PostgrestError:EC}=UN;class WN{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const HN="2.15.5",VN=`realtime-js/${HN}`,GN="1.0.0",Fg=1e4,KN=1e3,JN=100;var jc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(jc||(jc={}));var pn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pn||(pn={}));var si;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(si||(si={}));var $g;(function(t){t.websocket="websocket"})($g||($g={}));var ja;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ja||(ja={}));class YN{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(e.slice(a,a+i));a=a+i;const l=r.decode(e.slice(a,a+s));a=a+s;const u=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class nw{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Tt||(Tt={}));const p2=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,a)=>(s[a]=QN(a,t,e,i),s),{})},QN=(t,e,n,r)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=n[t];return s&&!r.includes(s)?rw(s,a):Bg(a)},rw=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return t6(e,n)}switch(t){case Tt.bool:return XN(e);case Tt.float4:case Tt.float8:case Tt.int2:case Tt.int4:case Tt.int8:case Tt.numeric:case Tt.oid:return ZN(e);case Tt.json:case Tt.jsonb:return e6(e);case Tt.timestamp:return n6(e);case Tt.abstime:case Tt.date:case Tt.daterange:case Tt.int4range:case Tt.int8range:case Tt.money:case Tt.reltime:case Tt.text:case Tt.time:case Tt.timestamptz:case Tt.timetz:case Tt.tsrange:case Tt.tstzrange:return Bg(e);default:return Bg(e)}},Bg=t=>t,XN=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ZN=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},e6=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},t6=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const a=t.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>rw(e,o))}return t},n6=t=>typeof t=="string"?t.replace(" ","T"):t,iw=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class wp{constructor(e,n,r={},i=Fg){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var g2;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(g2||(g2={}));class Lc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Lc.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=Lc.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Lc.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),a=this.transformState(n),o={},l={};return this.map(s,(u,f)=>{a[u]||(l[u]=f)}),this.map(a,(u,f)=>{const p=s[u];if(p){const m=f.map(_=>_.presence_ref),g=p.map(_=>_.presence_ref),b=f.filter(_=>g.indexOf(_.presence_ref)<0),k=p.filter(_=>m.indexOf(_.presence_ref)<0);b.length>0&&(o[u]=b),k.length>0&&(l[u]=k)}else o[u]=f}),this.syncDiff(s,{joins:o,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var u;const f=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),f.length>0){const p=e[o].map(g=>g.presence_ref),m=f.filter(g=>p.indexOf(g.presence_ref)<0);e[o].unshift(...m)}r(o,f,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const f=l.map(p=>p.presence_ref);u=u.filter(p=>f.indexOf(p.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var m2;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(m2||(m2={}));var Pc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Pc||(Pc={}));var Yi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Yi||(Yi={}));class l0{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=pn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new wp(this,si.join,this.params,this.timeout),this.rejoinTimer=new nw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(si.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Lc(this),this.broadcastEndpointURL=iw(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==pn.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Pc.PRESENCE]&&this.bindings[Pc.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},m={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:f}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(Yi.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Yi.CLOSED)),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var b;if(this.socket.setAuth(),g===void 0){e==null||e(Yi.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,_=(b=k==null?void 0:k.length)!==null&&b!==void 0?b:0,x=[];for(let w=0;w<_;w++){const N=k[w],{filter:{event:A,schema:E,table:B,filter:F}}=N,R=g&&g[w];if(R&&R.event===A&&R.schema===E&&R.table===B&&R.filter===F)x.push(Object.assign(Object.assign({},N),{id:R.id}));else{this.unsubscribe(),this.state=pn.errored,e==null||e(Yi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Yi.SUBSCRIBED);return}}).receive("error",g=>{this.state=pn.errored,e==null||e(Yi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Yi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===pn.joined&&e===Pc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(si.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new wp(this,si.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pn.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new wp(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>JN){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:f}=si;if(r&&[o,l,u,f].indexOf(a)>=0&&r!==this._joinRef())return;let m=this._onMessage(a,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var b,k,_;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((_=(k=g.filter)===null||k===void 0?void 0:k.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(g=>g.callback(m,r)):(s=this.bindings[a])===null||s===void 0||s.filter(g=>{var b,k,_,x,w,N;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const A=g.id,E=(b=g.filter)===null||b===void 0?void 0:b.event;return A&&((k=n.ids)===null||k===void 0?void 0:k.includes(A))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const A=(w=(x=g==null?void 0:g.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return A==="*"||A===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:k,table:_,commit_timestamp:x,type:w,errors:N}=b;m=Object.assign(Object.assign({},{schema:k,table:_,commit_timestamp:x,eventType:w,new:{},old:{},errors:N}),this._getPayloadRecords(b))}g.callback(m,r)})}_isClosed(){return this.state===pn.closed}_isJoined(){return this.state===pn.joined}_isJoining(){return this.state===pn.joining}_isLeaving(){return this.state===pn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&l0.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(si.close,{},e)}_onError(e){this._on(si.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=p2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=p2(e.columns,e.old_record)),n}}const xp=()=>{},yd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},r6=[1e3,2e3,5e3,1e4],i6=1e4,s6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class a6{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fg,this.transport=null,this.heartbeatIntervalMs=yd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xp,this.ref=0,this.reconnectTimer=null,this.logger=xp,this.conn=null,this.sendBuffer=[],this.serializer=new YN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>Ys(async()=>{const{default:o}=await Promise.resolve().then(()=>yl);return{default:o}},void 0).then(({default:o})=>o(...a)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...a)=>s(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${$g.websocket}`,this.httpEndpoint=iw(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WN.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:GN}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case jc.connecting:return ja.Connecting;case jc.open:return ja.Open;case jc.closing:return ja.Closing;default:return ja.Closed}}isConnected(){return this.connectionState()===ja.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new l0(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(KN,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},yd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:a}=n,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${o}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(si.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([s6],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:VN};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(si.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new nw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,a,o,l,u,f;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Fg,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:yd.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:xp,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:p=>r6[p-1]||i6,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(p,m)=>m(JSON.stringify(p)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class c0 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function cn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class o6 extends c0{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class zg extends c0{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var l6=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(p){a(p)}}function l(f){try{u(r.throw(f))}catch(p){a(p)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const sw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ys(async()=>{const{default:r}=await Promise.resolve().then(()=>yl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},c6=()=>l6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ys(()=>Promise.resolve().then(()=>yl),void 0)).Response:Response}),Ug=t=>{if(Array.isArray(t))return t.map(n=>Ug(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Ug(r)}),e},u6=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var qa=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(p){a(p)}}function l(f){try{u(r.throw(f))}catch(p){a(p)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const bp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),d6=(t,e,n)=>qa(void 0,void 0,void 0,function*(){const r=yield c6();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const s=t.status||500,a=(i==null?void 0:i.statusCode)||s+"";e(new o6(bp(i),s,a))}).catch(i=>{e(new zg(bp(i),i))}):e(new zg(bp(t),t))}),h6=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(u6(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function ou(t,e,n,r,i,s){return qa(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(n,h6(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>d6(l,o,r))})})}function mh(t,e,n,r){return qa(this,void 0,void 0,function*(){return ou(t,"GET",e,n,r)})}function ji(t,e,n,r,i){return qa(this,void 0,void 0,function*(){return ou(t,"POST",e,r,i,n)})}function qg(t,e,n,r,i){return qa(this,void 0,void 0,function*(){return ou(t,"PUT",e,r,i,n)})}function f6(t,e,n,r){return qa(this,void 0,void 0,function*(){return ou(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function aw(t,e,n,r,i){return qa(this,void 0,void 0,function*(){return ou(t,"DELETE",e,r,i,n)})}var p6=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(p){a(p)}}function l(f){try{u(r.throw(f))}catch(p){a(p)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};class g6{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return p6(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(cn(e))return{data:null,error:e};throw e}})}}var m6=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(p){a(p)}}function l(f){try{u(r.throw(f))}catch(p){a(p)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};class v6{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new g6(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return m6(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(cn(e))return{data:null,error:e};throw e}})}}var ir=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(p){a(p)}}function l(f){try{u(r.throw(f))}catch(p){a(p)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const y6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},v2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class w6{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=sw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return ir(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},v2),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),p=yield(e=="PUT"?qg:ji)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(cn(s))return{data:null,error:s};throw s}})}upload(e,n,r){return ir(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return ir(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:v2.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const p=yield qg(this.fetch,o.toString(),l,{headers:f});return{data:{path:s,fullPath:p.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(cn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return ir(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield ji(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new c0("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}update(e,n,r){return ir(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ir(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}copy(e,n,r){return ir(this,void 0,void 0,function*(){try{return{data:{path:(yield ji(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return ir(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield ji(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return ir(this,void 0,void 0,function*(){try{const i=yield ji(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=s?`?${s}`:"",o=this._getFinalPath(e),l=()=>mh(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new v6(l,this.shouldThrowOnError)}info(e){return ir(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield mh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ug(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}exists(e){return ir(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield f6(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r)&&r instanceof zg){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(e){return ir(this,void 0,void 0,function*(){try{return{data:yield aw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}list(e,n,r){return ir(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},y6),n),{prefix:e||""});return{data:yield ji(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(cn(i))return{data:null,error:i};throw i}})}listV2(e,n){return ir(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield ji(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const x6="2.12.2",b6={"X-Client-Info":`storage-js/${x6}`};var So=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(p){a(p)}}function l(f){try{u(r.throw(f))}catch(p){a(p)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};class S6{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},b6),n),this.fetch=sw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return So(this,void 0,void 0,function*(){try{return{data:yield mh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(cn(e))return{data:null,error:e};throw e}})}getBucket(e){return So(this,void 0,void 0,function*(){try{return{data:yield mh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return So(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return So(this,void 0,void 0,function*(){try{return{data:yield qg(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return So(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return So(this,void 0,void 0,function*(){try{return{data:yield aw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}})}}class N6 extends S6{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new w6(this.url,this.headers,e,this.fetch)}}const k6="2.58.0";let mc="";typeof Deno<"u"?mc="deno":typeof document<"u"?mc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mc="react-native":mc="node";const _6={"X-Client-Info":`supabase-js-${mc}/${k6}`},j6={headers:_6},L6={schema:"public"},P6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},C6={};var A6=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(p){a(p)}}function l(f){try{u(r.throw(f))}catch(p){a(p)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};const E6=t=>{let e;return t?e=t:typeof fetch>"u"?e=H5:e=fetch,(...n)=>e(...n)},I6=()=>typeof Headers>"u"?V5:Headers,T6=(t,e,n)=>{const r=E6(n),i=I6();return(s,a)=>A6(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},a),{headers:u}))})};var O6=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(p){a(p)}}function l(f){try{u(r.throw(f))}catch(p){a(p)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};function D6(t){return t.endsWith("/")?t:t+"/"}function M6(t,e){var n,r;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:u,realtime:f,global:p}=e,m={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},f),a),storage:{},global:Object.assign(Object.assign(Object.assign({},p),o),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>O6(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function R6(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(D6(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const ow="2.72.0",Eo=30*1e3,Wg=3,Sp=Wg*Eo,F6="http://localhost:9999",$6="supabase.auth.token",B6={"X-Client-Info":`gotrue-js/${ow}`},Hg="X-Supabase-Api-Version",lw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},z6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,U6=10*60*1e3;class u0 extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function rt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class q6 extends u0{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function W6(t){return rt(t)&&t.name==="AuthApiError"}class cw extends u0{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class sa extends u0{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Ps extends sa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function H6(t){return rt(t)&&t.name==="AuthSessionMissingError"}class sc extends sa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wd extends sa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class xd extends sa{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function V6(t){return rt(t)&&t.name==="AuthImplicitGrantRedirectError"}class y2 extends sa{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vg extends sa{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Np(t){return rt(t)&&t.name==="AuthRetryableFetchError"}class w2 extends sa{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Gg extends sa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const vh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),x2=` 	
\r=`.split(""),G6=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<x2.length;e+=1)t[x2[e].charCodeAt(0)]=-2;for(let e=0;e<vh.length;e+=1)t[vh[e].charCodeAt(0)]=e;return t})();function b2(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(vh[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(vh[r]),e.queuedBits-=6}}function uw(t,e,n){const r=G6[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function S2(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{Y6(a,r,n)};for(let a=0;a<t.length;a+=1)uw(t.charCodeAt(a),i,s);return e.join("")}function K6(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function J6(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}K6(r,e)}}function Y6(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Q6(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)uw(t.charCodeAt(i),n,r);return new Uint8Array(e)}function X6(t){const e=[];return J6(t,n=>e.push(n)),new Uint8Array(e)}function Z6(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>b2(i,n,r)),b2(null,n,r),e.join("")}function ek(t){return Math.round(Date.now()/1e3)+t}function tk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Tr=()=>typeof window<"u"&&typeof document<"u",xa={tested:!1,writable:!1},dw=()=>{if(!Tr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xa.tested)return xa.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),xa.tested=!0,xa.writable=!0}catch{xa.tested=!0,xa.writable=!1}return xa.writable};function nk(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const hw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ys(async()=>{const{default:r}=await Promise.resolve().then(()=>yl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},rk=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Io=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ba=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},_s=async(t,e)=>{await t.removeItem(e)};class Qh{constructor(){this.promise=new Qh.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Qh.promiseConstructor=Promise;function kp(t){const e=t.split(".");if(e.length!==3)throw new Gg("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!z6.test(e[r]))throw new Gg("JWT not in base64url format");return{header:JSON.parse(S2(e[0])),payload:JSON.parse(S2(e[1])),signature:Q6(e[2]),raw:{header:e[0],payload:e[1]}}}async function ik(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function sk(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){r(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function ak(t){return("0"+t.toString(16)).substr(-2)}function ok(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,ak).join("")}async function lk(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function ck(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await lk(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function No(t,e,n=!1){const r=ok();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Io(t,`${e}-code-verifier`,i);const s=await ck(r);return[s,r===s?"plain":"s256"]}const uk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dk(t){const e=t.headers.get(Hg);if(!e||!e.match(uk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function hk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function fk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const pk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ko(t){if(!pk.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _p(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function N2(t){return JSON.parse(JSON.stringify(t))}var gk=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const ka=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),mk=[502,503,504];async function k2(t){var e;if(!rk(t))throw new Vg(ka(t),0);if(mk.includes(t.status))throw new Vg(ka(t),t.status);let n;try{n=await t.json()}catch(s){throw new cw(ka(s),s)}let r;const i=dk(t);if(i&&i.getTime()>=lw["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new w2(ka(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ps}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new w2(ka(n),t.status,n.weak_password.reasons);throw new q6(ka(n),t.status||500,r)}const vk=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ot(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Hg]||(s[Hg]=lw["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await yk(t,e,n+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function yk(t,e,n,r,i,s){const a=vk(e,r,i,s);let o;try{o=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new Vg(ka(l),0)}if(o.ok||await k2(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await k2(l)}}function Ni(t){var e;let n=null;Sk(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=ek(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function _2(t){const e=Ni(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Os(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function wk(t){return{data:t,error:null}}function xk(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,a=gk(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function bk(t){return t}function Sk(t){return t.access_token&&t.refresh_token&&t.expires_in}const jp=["global","local","others"];var Nk=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class kk{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=hw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=jp[0]){if(jp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${jp.join(", ")}`);try{return await ot(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Os})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Nk(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:xk,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(rt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ot(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Os})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},f=await ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:bk});if(f.error)throw f.error;const p=await f.json(),m=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(b=>{const k=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);u[`${_}Page`]=k}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(rt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ko(e);try{return await ot(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Os})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ko(e);try{return await ot(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Os})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ko(e);try{return await ot(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Os})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ko(e.userId);try{const{data:n,error:r}=await ot(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ko(e.userId),ko(e.id);try{return{data:await ot(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}}}function j2(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function _k(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const _o={debug:!!(globalThis&&dw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class jk extends fw{}async function Lk(t,e,n){_o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),_o.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){_o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{_o.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw _o.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new jk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(_o.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function pw(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Pk(t){return parseInt(t,16)}function Ck(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Ak(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:f,uri:p,version:m}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=pw(t.address),b=f?`${f}://${r}`:r,k=t.statement?`${t.statement}
`:"",_=`${b} wants you to sign in with your Ethereum account:
${g}

${k}`;let x=`URI: ${p}
Version: ${m}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(x+=`
Expiration Time: ${i.toISOString()}`),o&&(x+=`
Not Before: ${o.toISOString()}`),l&&(x+=`
Request ID: ${l}`),u){let w=`
Resources:`;for(const N of u){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);w+=`
- ${N}`}x+=w}return`${_}
${x}`}_k();const Ek={url:F6,storageKey:$6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:B6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function L2(t,e,n){return await n()}const jo={};class Qc{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qc.nextInstanceID,Qc.nextInstanceID+=1,this.instanceID>0&&Tr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Ek),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new kk({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=hw(i.fetch),this.lock=i.lock||L2,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Tr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Lk:this.lock=L2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:dw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=j2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=j2(this.memoryStorage)),Tr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=jo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){jo[this.storageKey]=Object.assign(Object.assign({},jo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=jo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){jo[this.storageKey]=Object.assign(Object.assign({},jo[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ow}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=nk(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Tr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),V6(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return rt(n)?{error:n}:{error:new cw("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ni}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(rt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:f,password:p,options:m}=e;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await No(this.storage,this.storageKey)),s=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:p,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:b},xform:Ni})}else if("phone"in e){const{phone:f,password:p,options:m}=e;s=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ni})}else throw new wd("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(rt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:a,options:o}=e;n=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:_2})}else if("phone"in e){const{phone:s,password:a,options:o}=e;n=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:_2})}else throw new wd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new sc}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(rt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,a,o,l,u,f,p,m;let g,b;if("message"in e)g=e.message,b=e.signature;else{const{chain:k,wallet:_,statement:x,options:w}=e;let N;if(Tr())if(typeof _=="object")N=_;else{const J=window;if("ethereum"in J&&typeof J.ethereum=="object"&&"request"in J.ethereum&&typeof J.ethereum.request=="function")N=J.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=_}const A=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),E=await N.request({method:"eth_requestAccounts"}).then(J=>J).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const B=pw(E[0]);let F=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!F){const J=await N.request({method:"eth_chainId"});F=Pk(J)}const R={domain:A.host,address:B,statement:x,uri:A.href,version:"1",chainId:F,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=w==null?void 0:w.signInWithEthereum)===null||f===void 0?void 0:f.resources};g=Ak(R),b=await N.request({method:"personal_sign",params:[Ck(g),B]})}try{const{data:k,error:_}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:b},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ni});if(_)throw _;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new sc}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:_})}catch(k){if(rt(k))return{data:{user:null,session:null},error:k};throw k}}async signInWithSolana(e){var n,r,i,s,a,o,l,u,f,p,m,g;let b,k;if("message"in e)b=e.message,k=e.signature;else{const{chain:_,wallet:x,statement:w,options:N}=e;let A;if(Tr())if(typeof x=="object")A=x;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))A=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=x}const E=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in A&&A.signIn){const B=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),w?{statement:w}:null));let F;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")F=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)F=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)b=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),k=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${E.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(r=N==null?void 0:N.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=N==null?void 0:N.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((a=N==null?void 0:N.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((o=N==null?void 0:N.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((l=N==null?void 0:N.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((p=(f=N==null?void 0:N.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...N.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const B=await A.signMessage(new TextEncoder().encode(b),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=B}}try{const{data:_,error:x}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Z6(k)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Ni});if(x)throw x;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new sc}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:x})}catch(_){if(rt(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const n=await ba(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ni});if(await _s(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new sc}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(rt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=e,o=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ni}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new sc}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(rt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await No(this.storage,this.storageKey));const{error:p}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:f}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new wd("You must provide either an email or phone number.")}catch(o){if(rt(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ni});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(rt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await No(this.storage,this.storageKey)),await ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:wk})}catch(s){if(rt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ps;const{error:i}=await ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(rt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:a}=await ot(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:a,error:o}=await ot(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new wd("You must provide either an email or phone number and a type")}catch(n){if(rt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ba(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Sp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await ba(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=_p()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,f)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,f))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Os}):await this._useSession(async n=>{var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ps}:await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Os})})}catch(n){if(rt(n))return H6(n)&&(await this._removeSession(),await _s(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Ps;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await No(this.storage,this.storageKey));const{data:u,error:f}=await ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Os});if(f)throw f;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ps;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=kp(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(rt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:o}=n;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ps;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(rt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Tr())throw new xd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new xd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new y2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new y2("No code detected.");const{data:w,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!s||!o||!a||!u)throw new xd("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(o);let m=f+p;l&&(m=parseInt(l));const g=m-f;g*1e3<=Eo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);const b=m-p;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,f);const{data:k,error:_}=await this._getUser(s);if(_)throw _;const x={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:m,refresh_token:a,token_type:u,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(r){if(rt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ba(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(W6(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await _s(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=tk(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await No(this.storage,this.storageKey,!0));try{return await ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(rt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,l,u,f;const{data:p,error:m}=s;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ot(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Tr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(rt(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await ot(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await sk(async i=>(i>0&&await ik(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ni})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Np(s)&&Date.now()+a-r<Eo})}catch(r){if(this._debug(n,"error",r),rt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Tr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ba(this.storage,this.storageKey);if(i&&this.userStorage){let a=await ba(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Io(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:_p()}else if(i&&!i.user&&!i.user){const a=await ba(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await _s(this.storage,this.storageKey+"-user"),await Io(this.storage,this.storageKey,i)):i.user=_p()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Sp;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Sp}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Np(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ps;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Qh;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Ps;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),rt(s)){const a={session:null,error:s};return Np(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Io(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=N2(i);await Io(this.storage,this.storageKey,s)}else{const i=N2(n);await Io(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await _s(this.storage,this.storageKey),await _s(this.storage,this.storageKey+"-code-verifier"),await _s(this.storage,this.storageKey+"-user"),this.userStorage&&await _s(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Tr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Eo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Eo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Eo}ms, refresh threshold is ${Wg} ticks`),i<=Wg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof fw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await No(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await ot(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await ot(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:a,error:o}=await ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(n){if(rt(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(rt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=kp(i.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const f=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+U6>i)return r;const{data:s,error:a}=await ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:g,error:b}=await this.getSession();if(b||!g.session)return{data:null,error:b};r=g.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=kp(r);n!=null&&n.allowExpired||hk(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:s,header:i,signature:a},error:null}}const f=fk(i.alg),p=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,a,X6(`${o}.${l}`)))throw new Gg("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}}}Qc.nextInstanceID=0;const Ik=Qc;class Tk extends Ik{constructor(e){super(e)}}var Ok=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(p){a(p)}}function l(f){try{u(r.throw(f))}catch(p){a(p)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(t,e||[])).next())})};class Dk{constructor(e,n,r){var i,s,a;this.supabaseUrl=e,this.supabaseKey=n;const o=R6(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:L6,realtime:C6,auth:Object.assign(Object.assign({},P6),{storageKey:l}),global:j6},f=M6(r??{},u);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=T6(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new qN(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new N6(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new bN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Ok(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:a,flowType:o,lock:l,debug:u},f,p){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Tk({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:o,lock:l,debug:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new a6(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Mk=(t,e,n)=>new Dk(t,e,n);function Rk(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Rk()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Fk=void 0,$k=void 0;throw new Error("Missing Supabase environment variables");const Jn=Mk(Fk,$k),Bk=async(t,e)=>{const{data:n,error:r}=await Jn.auth.signInWithPassword({email:t,password:e});return{data:n,error:r}},zk=async(t,e,n)=>{const{data:r,error:i}=await Jn.auth.signUp({email:t,password:e,options:{data:n}});return{data:r,error:i}},Uk=async()=>{const{error:t}=await Jn.auth.signOut();return{error:t}},qk=async(t="en")=>{const{data:e,error:n}=await Jn.from("dishes").select(`
      *,
      dish_ingredients (
        quantity,
        unit,
        ingredient:ingredient_id (
          id,
          name,
          category
        )
      )
    `);if(n)throw console.error("Erreur dans getDishes:",n),n;return(e==null?void 0:e.map(r=>{var s,a,o,l,u,f,p,m,g,b;const i=r.cuisine_type_id??((s=r.cuisine_type)==null?void 0:s.id)??null;return{...r,title:((a=r.name)==null?void 0:a[t])||((o=r.name)==null?void 0:o.en)||"Untitled",description:((l=r.description)==null?void 0:l[t])||((u=r.description)==null?void 0:u.en)||"",instructions:((f=r.steps)==null?void 0:f[t])||((p=r.steps)==null?void 0:p.en)||[],cuisineId:i?String(i):null,cuisine:((m=r.cuisine_type)==null?void 0:m[t])||((g=r.cuisine_type)==null?void 0:g.en)||r.cuisine||"Unknown",ingredients:((b=r.dish_ingredients)==null?void 0:b.map(k=>{var _,x,w,N,A;return{id:String(k.ingredient.id),name:((_=k.ingredient.name)==null?void 0:_[t])||((x=k.ingredient.name)==null?void 0:x.en)||"Unknown",category:((w=k.ingredient.category)==null?void 0:w[t])||"",amount:((N=k.quantity)==null?void 0:N.toString())||"1",unit:((A=k.unit)==null?void 0:A[t])||"piece",isOptional:!1}}))||[]}}))||[]},Wk=async(t,e="en")=>{console.log("Appel de getIngredientsForDish avec dishId:",t,"et langue:",e);const{data:n,error:r}=await Jn.from("dish_ingredients").select(`
      quantity,
      unit,
      ingredient:ingredient_id (
        id,
        name,
        category
      )
    `).eq("dish_id",t);if(console.log("Données brutes de dish_ingredients:",n),console.log("Erreur:",r),r)return console.error("Erreur lors de la récupération des ingrédients:",r),[];const i=n.map(s=>{var a,o,l,u;return{id:s.ingredient.id,name:((a=s.ingredient.name)==null?void 0:a[e])||((o=s.ingredient.name)==null?void 0:o.en)||"Unknown",category:((l=s.ingredient.category)==null?void 0:l[e])||"",amount:s.quantity,unit:((u=s.unit)==null?void 0:u[e])||""}});return console.log("Données transformées:",i),i},Hk=async(t="en")=>{const{data:e,error:n}=await Jn.from("ingredients").select("*");if(n)throw n;return(e==null?void 0:e.map(r=>{var i,s;return{...r,name:((i=r.name)==null?void 0:i[t])||((s=r.name)==null?void 0:s.en)||"Unknown ingredient"}}))||[]},gw=()=>{const[t,e]=Z.useState([]),[n,r]=Z.useState([]),[i,s]=Z.useState(!0),[a,o]=Z.useState(null),{i18n:l}=Lt(),u=async()=>{try{s(!0),o(null);const p=(await qk(l.language)).map(g=>{let b="Medium";return g.difficulty&&(typeof g.difficulty=="string"?b=g.difficulty:typeof g.difficulty=="object"&&(b=g.difficulty[l.language]||g.difficulty.en||Object.values(g.difficulty)[0]||"Medium")),{id:g.id?String(g.id):Math.random().toString(36).slice(2),title:g.title||g.name||"Untitled",image:g.image_url||g.image||"",cuisine:g.cuisine||"Unknown",cuisineId:g.cuisineId?String(g.cuisineId):null,cookingTime:g.cooking_time||g.cookingTime||30,rating:g.rating||4.5,difficulty:b,servings:g.servings||4,calories:g.calories||400,tags:g.tags||[],ingredients:g.ingredients||[],instructions:g.instructions||[],translations:{title:g.name,description:g.description,cuisine:g.cuisine_type},instructionTranslations:g.steps,_originalDifficulty:g.difficulty}});e(p);const m=await Hk(l.language);r(m)}catch(f){console.error("Error fetching data from Supabase:",f),o(f instanceof Error?f.message:"An error occurred")}finally{s(!1)}};return Z.useEffect(()=>{u()},[l.language]),{dishes:t,ingredients:n,loading:i,error:a,refetch:u}},Vk=()=>{const[t,e]=Z.useState(null),[n,r]=Z.useState(!0);return Z.useEffect(()=>{Jn.auth.getSession().then(({data:{session:s}})=>{e((s==null?void 0:s.user)??null),r(!1)});const{data:{subscription:i}}=Jn.auth.onAuthStateChange((s,a)=>{e((a==null?void 0:a.user)??null),r(!1)});return()=>{i.unsubscribe()}},[]),{user:t,loading:n}},Gk={user:null,selectedDishes:[],shoppingList:[],mealPlan:[],isLoading:!1,selectedIngredients:[]},mw=Z.createContext(null);function Kk(t,e){switch(e.type){case"SET_USER":return{...t,user:e.payload};case"ADD_DISH":const n={...e.payload,ingredients:e.payload.ingredients.map(f=>({...f,id:f.id||`${e.payload.id}-${f.name.toLowerCase().replace(/\s+/g,"-")}`,isOwned:!1}))},r=[...t.selectedDishes,n],i=P2(r);return{...t,selectedDishes:r,shoppingList:i};case"REMOVE_DISH":const s=t.selectedDishes.filter(f=>f.id!==e.payload),a=P2(s);return{...t,selectedDishes:s,shoppingList:a};case"UPDATE_SHOPPING_LIST":return{...t,shoppingList:e.payload};case"TOGGLE_INGREDIENT_OWNED":return{...t,shoppingList:t.shoppingList.map(f=>f.id===e.payload?{...f,isOwned:!f.isOwned}:f)};case"SET_LOADING":return{...t,isLoading:e.payload};case"UPDATE_OWNED_INGREDIENTS":return t.user?{...t,user:{...t.user,ownedIngredients:e.payload}}:t;case"CLEAR_SELECTED_DISHES":return{...t,selectedDishes:[],shoppingList:[]};case"ADD_MEAL_PLAN":return{...t,mealPlan:[...t.mealPlan,e.payload]};case"REMOVE_MEAL_PLAN":return{...t,mealPlan:t.mealPlan.filter(f=>f.id!==e.payload)};case"UPDATE_MEAL_PLAN":return{...t,mealPlan:t.mealPlan.map(f=>f.id===e.payload.id?e.payload:f)};case"SET_MEAL_PLAN":return{...t,mealPlan:e.payload};case"TOGGLE_SELECTED_INGREDIENT":const o={...e.payload,id:e.payload.id.toString()},u=t.selectedIngredients.some(f=>f.id===o.id)?t.selectedIngredients.filter(f=>f.id!==o.id):[...t.selectedIngredients,o];return console.log("Ingrédients sélectionnés mis à jour:",u),{...t,selectedIngredients:u};default:return t}}function P2(t){if(console.log("Generating shopping list for dishes:",t.length),t.length===0)return[];const e=t.flatMap(i=>(console.log(`Processing dish: ${i.title} with ${i.ingredients.length} ingredients`),i.ingredients.map(s=>({...s,id:s.id||`${i.id}-${s.name.toLowerCase().replace(/\s+/g,"-")}`,isOwned:!1,dishId:i.id,dishTitle:i.title}))));console.log("All ingredients extracted:",e.length);const n=new Map;e.forEach(i=>{const s=i.name.toLowerCase();if(n.has(s)){const a=n.get(s),o=parseFloat(a.amount)||0,l=parseFloat(i.amount)||0,u=(o+l).toString();n.set(s,{...a,amount:u})}else n.set(s,{...i})});const r=Array.from(n.values());return console.log("Consolidated shopping list:",r.length,"items"),r}function Jk({children:t}){const[e,n]=Z.useReducer(Kk,Gk),{user:r,loading:i}=Vk();return Sv.useEffect(()=>{var s;if(r&&!e.user){const a={id:r.id,email:r.email||"",name:((s=r.user_metadata)==null?void 0:s.full_name)||"User",preferences:[],dislikedIngredients:[],ownedIngredients:[]};n({type:"SET_USER",payload:a})}else!r&&e.user&&n({type:"SET_USER",payload:null})},[r,e.user]),i?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):d.jsx(mw.Provider,{value:{state:e,dispatch:n},children:t})}function En(){const t=Z.useContext(mw);if(!t)throw new Error("useApp must be used within an AppProvider");return t}const Yk=["ar","he","fa","ur"];function Qk(){const{i18n:t}=Lt(),e=Yk.includes(t.language);return Z.useEffect(()=>{const n=e?"rtl":"ltr";document.documentElement.dir=n,document.documentElement.lang=t.language,e?document.documentElement.classList.add("rtl"):document.documentElement.classList.remove("rtl")},[e,t.language]),{isRTL:e,direction:e?"rtl":"ltr"}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ut=(t,e)=>{const n=Z.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...u},f)=>Z.createElement("svg",{ref:f,...Xk,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${Zk(t)}`,o].join(" "),...u},[...e.map(([p,m])=>Z.createElement(p,m)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=ut("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=ut("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=ut("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=ut("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=ut("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=ut("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=ut("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=ut("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=ut("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=ut("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=ut("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=ut("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=ut("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=ut("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=ut("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=ut("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=ut("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=ut("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=ut("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=ut("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=ut("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=ut("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=ut("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=ut("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=ut("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=ut("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=ut("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=ut("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=ut("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=ut("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=ut("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=ut("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ut("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=ut("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=ut("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=ut("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=ut("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bd=[{code:"en",name:"English",flag:"🇺🇸",dir:"ltr"},{code:"fr",name:"Français",flag:"🇫🇷",dir:"ltr"},{code:"ar",name:"العربية",flag:"🇸🇦",dir:"rtl"},{code:"es",name:"Español",flag:"🇪🇸",dir:"ltr"},{code:"it",name:"Italiano",flag:"🇮🇹",dir:"ltr"}];function Nw(){const{i18n:t}=Lt(),[e,n]=Z.useState(!1),r=s=>{const a=bd.find(o=>o.code===s);a&&(t.changeLanguage(s),document.documentElement.dir=a.dir,document.documentElement.lang=s,a.dir==="rtl"?document.documentElement.classList.add("rtl"):document.documentElement.classList.remove("rtl"),localStorage.setItem("gusto-language",s),localStorage.setItem("gusto-direction",a.dir)),n(!1)},i=bd.find(s=>s.code===t.language)||bd[0];return d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>n(!e),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-primary hover:bg-gray-50 rounded-lg transition-all duration-200",children:[d.jsx(r_,{className:"h-5 w-5"}),d.jsx("span",{className:"text-xl",children:i.flag}),d.jsx("span",{className:"hidden md:block font-body font-medium",children:i.code.toUpperCase()})]}),e&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>n(!1)}),d.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-20",children:bd.map(s=>d.jsxs("button",{onClick:()=>r(s.code),className:`w-full flex items-center justify-between px-4 py-2 text-left hover:bg-gray-50 transition-colors ${t.language===s.code?"bg-primary/5 text-primary":"text-gray-700"}`,children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("span",{className:"text-lg",children:s.flag}),d.jsx("span",{className:"font-body font-medium",children:s.name})]}),t.language===s.code&&d.jsx(hl,{className:"h-4 w-4 text-primary"})]},s.code))})]})]})}function y_(){const t=Ua(),{state:e,dispatch:n}=En(),{t:r}=Lt(),i=async()=>{try{const{error:a}=await Uk();if(a){ft.error(a.message);return}n({type:"SET_USER",payload:null}),n({type:"CLEAR_SELECTED_DISHES"}),n({type:"SET_MEAL_PLAN",payload:[]}),ft.success(r("navigation.logout")+" successful")}catch(a){console.error("Logout error:",a),ft.error("An error occurred during logout")}},s=[{path:"/",icon:i_,label:r("navigation.home")},{path:"/use-my-ingredients",icon:bw,label:r("navigation.useMyIngredients")},{path:"/meal-plan",icon:ts,label:r("navigation.mealPlan"),showBadge:e.mealPlan.length>0},{path:"/profile",icon:p_,label:r("navigation.profile")},{path:"/favorites",icon:yw,label:r("navigation.favorites")},{path:"/my-recipes",icon:Fr,label:r("navigation.myRecipes"),showBadge:e.selectedDishes.length>0},{path:"/shopping-list",icon:d_,label:r("navigation.shoppingList"),showBadge:e.shoppingList.length>0}];return d.jsxs("nav",{className:"bg-white/95 backdrop-blur-md shadow-soft border-b border-warm-gray-100 sticky top-0 z-50",children:[d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsxs(gc,{to:"/",className:"flex items-center space-x-2 group",children:[d.jsxs("div",{className:"relative",children:[d.jsx(g_,{className:"h-8 w-8 text-primary-500 group-hover:text-primary-600 transition-colors"}),d.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-secondary-500 rounded-full flex items-center justify-center",children:d.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})]}),d.jsx("span",{className:"text-2xl font-heading font-bold text-warm-gray-900",children:r("brand.name")}),d.jsx("span",{className:"hidden sm:block text-sm text-warm-gray-600 font-semibold",children:r("brand.tagline")})]}),d.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[s.map(({path:a,icon:o,label:l,showBadge:u})=>d.jsxs(gc,{to:a,className:`relative flex items-center space-x-2 px-5 py-2.5 rounded-full transition-all duration-200 ${t.pathname===a?"bg-primary-500 text-white shadow-medium":"text-warm-gray-600 hover:text-primary-500 hover:bg-primary-50"}`,children:[d.jsx(o,{className:"h-5 w-5"}),d.jsx("span",{className:"font-semibold",children:l}),u&&d.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-secondary-500 text-white text-xs rounded-full flex items-center justify-center font-bold",children:a==="/my-recipes"?e.selectedDishes.length:a==="/meal-plan"?e.mealPlan.length:e.shoppingList.length})]},a)),d.jsx(Nw,{}),e.user&&d.jsxs("button",{onClick:i,className:"flex items-center space-x-2 px-5 py-2.5 text-warm-gray-600 hover:text-primary-500 hover:bg-primary-50 rounded-full transition-all duration-200",children:[d.jsx(C2,{className:"h-5 w-5"}),d.jsx("span",{className:"font-semibold",children:r("navigation.logout")})]})]}),e.user&&d.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-medium text-warm-gray-900",children:e.user.name}),d.jsx("p",{className:"text-xs text-warm-gray-500",children:e.user.location})]}),d.jsx("div",{className:"w-10 h-10 bg-primary-500 rounded-full flex items-center justify-center shadow-medium",children:d.jsx("span",{className:"text-white font-heading font-bold text-sm",children:e.user.name.charAt(0).toUpperCase()})})]})]})}),d.jsxs("div",{className:"md:hidden bg-white/95 backdrop-blur-md border-t border-warm-gray-100",children:[d.jsx("div",{className:"grid grid-cols-4 gap-1 py-3 px-4",children:s.slice(0,4).map(({path:a,icon:o,label:l,showBadge:u})=>d.jsxs(gc,{to:a,className:`relative flex flex-col items-center py-3 px-2 rounded-2xl transition-all duration-200 ${t.pathname===a?"text-primary-500 bg-primary-50":"text-warm-gray-600"}`,children:[d.jsx(o,{className:"h-5 w-5"}),d.jsx("span",{className:"text-xs font-semibold mt-1 text-center leading-tight",children:l.split(" ")[0]}),u&&d.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-secondary-500 text-white text-xs rounded-full flex items-center justify-center font-bold",children:a==="/my-recipes"?e.selectedDishes.length:a==="/meal-plan"?e.mealPlan.length:e.shoppingList.length})]},a))}),d.jsxs("div",{className:"grid grid-cols-4 gap-1 py-3 px-4 border-t border-warm-gray-100",children:[s.slice(4).map(({path:a,icon:o,label:l,showBadge:u})=>d.jsxs(gc,{to:a,className:`relative flex flex-col items-center py-3 px-2 rounded-2xl transition-all duration-200 ${t.pathname===a?"text-primary-500 bg-primary-50":"text-warm-gray-600"}`,children:[d.jsx(o,{className:"h-5 w-5"}),d.jsx("span",{className:"text-xs font-semibold mt-1 text-center leading-tight",children:l.includes(" ")?l.split(" ").slice(0,2).join(" "):l}),u&&d.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-secondary-500 text-white text-xs rounded-full flex items-center justify-center font-bold",children:a==="/my-recipes"?e.selectedDishes.length:a==="/meal-plan"?e.mealPlan.length:e.shoppingList.length})]},a)),e.user&&d.jsxs("button",{onClick:i,className:"flex flex-col items-center py-3 px-2 text-warm-gray-600 rounded-2xl hover:bg-primary-50 hover:text-primary-500 transition-all",children:[d.jsx(C2,{className:"h-5 w-5"}),d.jsx("span",{className:"text-xs font-semibold mt-1",children:r("navigation.logout")})]})]})]})]})}function w_(){const[t,e]=Z.useState(!0),[n,r]=Z.useState(!1),[i,s]=Z.useState(!1),[a,o]=Z.useState({email:"",password:"",name:""}),{dispatch:l}=En(),{t:u}=Lt(),f=async m=>{var g;if(m.preventDefault(),!a.email||!a.password||!t&&!a.name){ft.error("Veuillez remplir tous les champs");return}s(!0);try{let b;if(t?b=await Bk(a.email,a.password):b=await zk(a.email,a.password,{full_name:a.name}),b.error){ft.error(b.error.message);return}if(b.data.user){const k={id:b.data.user.id,email:b.data.user.email||a.email,name:((g=b.data.user.user_metadata)==null?void 0:g.full_name)||a.name||"User",location:"",preferences:[],dislikedIngredients:[],ownedIngredients:[]};l({type:"SET_USER",payload:k}),ft.success(`${t?"Connexion réussie":"Compte créé avec succès !"}`)}}catch(b){console.error("Erreur authentification:",b),ft.error("Une erreur est survenue")}finally{s(!1)}},p=async m=>{try{const{error:g}=await Jn.auth.signInWithOAuth({provider:m,options:{redirectTo:window.location.origin}});g&&ft.error(g.message)}catch{ft.error("Une erreur inattendue est survenue")}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 via-white to-yellow-50 text-gray-800 p-4",children:d.jsxs("div",{className:"max-w-md w-full",children:[d.jsx("div",{className:"flex justify-end mb-4",children:d.jsx(Nw,{})}),d.jsxs("div",{className:"text-center mb-8",children:[d.jsxs("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-2xl shadow-xl mb-4 relative bg-gradient-to-tr from-yellow-100 via-amber-100 to-yellow-200 overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/60 to-transparent mix-blend-overlay"}),d.jsx("div",{className:"absolute inset-0 ring-1 ring-amber-300/30 rounded-2xl"}),d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"w-12 h-12 relative z-10 drop-shadow-[0_4px_4px_rgba(0,0,0,0.4)]",children:[d.jsx("defs",{children:d.jsxs("radialGradient",{id:"goldContrast",cx:"50%",cy:"35%",r:"65%",children:[d.jsx("stop",{offset:"0%",stopColor:"#fff9c4"}),d.jsx("stop",{offset:"35%",stopColor:"#fbbf24"}),d.jsx("stop",{offset:"70%",stopColor:"#d97706"}),d.jsx("stop",{offset:"100%",stopColor:"#92400e"})]})}),d.jsx("path",{fill:"url(#goldContrast)",d:"M64 384h384l-32-224-96 96-64-128-64 128-96-96-32 224zm96 32h192v32H160v-32z"})]})]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:u("auth.welcomeTitle")||"Bienvenue sur King Menu!"}),d.jsx("p",{className:"text-gray-600",children:u("brand.tagline")||"Planifiez. Cuisinez. Savourez."})]}),d.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-gray-100",children:[d.jsxs("div",{className:"flex mb-6 bg-gray-50 rounded-lg overflow-hidden",children:[d.jsx("button",{onClick:()=>e(!0),className:`flex-1 py-2 px-4 font-medium transition-all ${t?"bg-orange-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:u("auth.login")||"Connexion"}),d.jsx("button",{onClick:()=>e(!1),className:`flex-1 py-2 px-4 font-medium transition-all ${t?"text-gray-600 hover:bg-gray-100":"bg-orange-500 text-white"}`,children:u("auth.signUp")||"Inscription"})]}),d.jsxs("form",{onSubmit:f,className:"space-y-4",children:[!t&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:u("auth.fullName")||"Nom complet"}),d.jsx("input",{type:"text",value:a.name,onChange:m=>o({...a,name:m.target.value}),placeholder:u("auth.fullNamePlaceholder"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:u("auth.email")||"Adresse email"}),d.jsxs("div",{className:"relative",children:[d.jsx(a_,{className:"absolute left-3 top-3.5 text-gray-400",size:18}),d.jsx("input",{type:"email",value:a.email,onChange:m=>o({...a,email:m.target.value}),placeholder:u("auth.emailPlaceholder"),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 outline-none"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:u("auth.password")||"Mot de passe"}),d.jsxs("div",{className:"relative",children:[d.jsx(s_,{className:"absolute left-3 top-3.5 text-gray-400",size:18}),d.jsx("input",{type:n?"text":"password",value:a.password,onChange:m=>o({...a,password:m.target.value}),placeholder:u("auth.passwordPlaceholder"),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 outline-none"}),d.jsx("button",{type:"button",onClick:()=>r(!n),className:"absolute right-3 top-3.5 text-gray-400 hover:text-gray-600",children:n?d.jsx(n_,{size:18}):d.jsx(Cc,{size:18})})]})]}),d.jsx("button",{type:"submit",disabled:i,className:"w-full bg-orange-500 text-white py-3 rounded-lg font-medium hover:bg-orange-600 transition-all duration-200 shadow-md hover:shadow-lg disabled:opacity-50 flex justify-center",children:i?d.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}):t?u("auth.login")||"Connexion":u("auth.createAccount")||"Créer un compte"})]}),d.jsxs("div",{className:"flex items-center my-6",children:[d.jsx("div",{className:"flex-grow border-t border-gray-200"}),d.jsx("span",{className:"mx-3 text-gray-400 text-sm",children:u("auth.orContinueWith")||"ou continuer avec"}),d.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),d.jsxs("button",{onClick:()=>p("google"),className:"w-full flex items-center justify-center gap-2 py-2.5 border border-gray-300 rounded-lg font-medium transition-all duration-200 bg-white hover:bg-gray-50 shadow-sm",children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.35 0 6.34 1.16 8.71 3.45l6.46-6.46C35.43 2.69 29.99 0 24 0 14.72 0 6.78 5.36 2.73 13.16l7.52 5.84C12.25 13.09 17.69 9.5 24 9.5z"}),d.jsx("path",{fill:"#34A853",d:"M46.1 24.55c0-1.6-.14-3.13-.4-4.55H24v9.01h12.45c-.54 2.77-2.13 5.12-4.54 6.69l7.13 5.56c4.16-3.84 6.46-9.51 6.46-16.71z"}),d.jsx("path",{fill:"#4A90E2",d:"M9.08 28.31c-.55-1.63-.85-3.37-.85-5.16 0-1.79.3-3.52.85-5.15L1.56 12.16A23.9 23.9 0 0 0 0 23.15c0 3.81.88 7.41 2.43 10.64l6.65-5.48z"}),d.jsx("path",{fill:"#FBBC05",d:"M24 48c6.48 0 11.93-2.14 15.9-5.79l-7.13-5.56c-2.03 1.36-4.63 2.15-8.77 2.15-6.31 0-11.75-3.59-14.77-8.9l-7.52 5.84C6.78 42.64 14.72 48 24 48z"})]}),d.jsx("span",{className:"text-gray-700 text-sm font-medium",children:"Continuer avec Google"})]})]})]})})}const x_=()=>{const{t,i18n:e}=Lt(),n=Wh(),r=i=>{e.changeLanguage(i),localStorage.setItem("gusto-language",i)};return d.jsxs("div",{className:"relative min-h-screen flex flex-col items-center justify-center bg-cover bg-center text-gray-800",style:{backgroundImage:"url('https://vehqvqlbtotljstixklz.supabase.co/storage/v1/object/sign/Brand/background.avif?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV8xNDFhMTczOS01YTg0LTQ0NmQtODgxMC0wNGRiNjQ2ZGRlMzciLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJCcmFuZC9iYWNrZ3JvdW5kLmF2aWYiLCJpYXQiOjE3NjExMzg0MDAsImV4cCI6MTc5MjY3NDQwMH0.ONd-VSDJH9-_KNgHZC27ZbGqBr19GaP34kvkir0obDk')"},children:[d.jsx("div",{className:"absolute inset-0 bg-black/50"}),d.jsxs("div",{className:"relative z-10 text-center px-6 max-w-3xl",children:[d.jsx("img",{src:"https://vehqvqlbtotljstixklz.supabase.co/storage/v1/object/sign/Brand/logo%20KM.jpg?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV8xNDFhMTczOS01YTg0LTQ0NmQtODgxMC0wNGRiNjQ2ZGRlMzciLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJCcmFuZC9sb2dvIEtNLmpwZyIsImlhdCI6MTc2MTEzOTQ5OCwiZXhwIjoxNzkyNjc1NDk4fQ.Etkb-QlejLXww_i4V0dHvb3zTudbJhbNw-KAjI7pMXQ",alt:"King Menu Logo",className:"mx-auto w-32 h-32 rounded-full shadow-lg mb-6 object-cover"}),d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white drop-shadow-lg mb-4",children:t("landing.title")}),d.jsx("p",{className:"text-lg md:text-xl text-gray-100 mb-8 leading-relaxed",children:t("landing.subtitle")}),d.jsxs("div",{className:"bg-white/15 backdrop-blur-md rounded-2xl p-6 text-gray-100 mb-10 shadow-lg",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:t("landing.featuresTitle")}),d.jsxs("ul",{className:"space-y-2 text-left mx-auto max-w-md",children:[d.jsxs("li",{children:["🍲 ",t("landing.featureRecipes")]}),d.jsxs("li",{children:["🥕 ",t("landing.featureIngredients")]}),d.jsxs("li",{children:["📅 ",t("landing.featurePlanner")]}),d.jsxs("li",{children:["🛒 ",t("landing.featureShoppingList")]})]})]}),d.jsx("button",{onClick:()=>n("/login"),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-6 py-3 rounded-full font-semibold shadow-lg transition-transform transform hover:scale-105",children:t("landing.loginButton")}),d.jsx("div",{className:"mt-10 flex justify-center gap-3",children:["en","fr","es","it","ar"].map(i=>d.jsx("button",{onClick:()=>r(i),className:`px-3 py-1 rounded-full text-sm font-medium ${e.language===i?"bg-yellow-500 text-white":"bg-white/20 text-gray-200 hover:bg-white/40"}`,children:i.toUpperCase()},i))})]}),d.jsxs("footer",{className:"absolute bottom-4 text-gray-300 text-sm",children:["© ",new Date().getFullYear()," King Menu — ",t("landing.footer")]})]})},La=(t,e,n="")=>{var r,i;return typeof t=="string"?t:(r=t==null?void 0:t.translations)!=null&&r[e]?t.translations[e]:t!=null&&t[e]?t[e]:(i=t==null?void 0:t.translations)!=null&&i.en?t.translations.en:t!=null&&t.en?t.en:n},b_=(t,e)=>{var n,r,i,s,a;return{...t,title:La(((n=t.translations)==null?void 0:n.title)||t.title,e,t.title),description:La((r=t.translations)==null?void 0:r.description,e,""),cuisine:La(((i=t.translations)==null?void 0:i.cuisine)||t.cuisine,e,t.cuisine),instructions:((s=t.instructionTranslations)==null?void 0:s[e])||t.instructions||[],ingredients:((a=t.ingredients)==null?void 0:a.map(o=>{var l,u;return{...o,name:La(((l=o.translations)==null?void 0:l.name)||o.name,e,o.name),unit:La(((u=o.translations)==null?void 0:u.unit)||o.unit,e,o.unit)}}))||[]}},S_=(t,e)=>({...t,name:La(t.translations||t.name,e,t.name)}),kw=[{id:"1",name:"Proteins",icon:"🥩",color:"#E63946",translations:{name:{en:"Proteins",fr:"Protéines",ar:"البروتينات",es:"Proteínas",it:"Proteine"}},ingredients:["Chicken breast","Ground beef","Salmon","Eggs","Tofu","Shrimp","Pork chops","Turkey","Tuna","Bacon","Ham","Chicken thighs","Ground turkey","Cod","Lamb","Beef steak"],ingredientTranslations:{"Chicken breast":{en:"Chicken breast",fr:"Blanc de poulet",ar:"صدر دجاج",es:"Pechuga de pollo",it:"Petto di pollo"},"Ground beef":{en:"Ground beef",fr:"Bœuf haché",ar:"لحم بقر مفروم",es:"Carne molida",it:"Carne macinata"},Salmon:{en:"Salmon",fr:"Saumon",ar:"سلمون",es:"Salmón",it:"Salmone"},Eggs:{en:"Eggs",fr:"Œufs",ar:"بيض",es:"Huevos",it:"Uova"},Tofu:{en:"Tofu",fr:"Tofu",ar:"توفو",es:"Tofu",it:"Tofu"},Shrimp:{en:"Shrimp",fr:"Crevettes",ar:"جمبري",es:"Camarones",it:"Gamberetti"},"Pork chops":{en:"Pork chops",fr:"Côtelettes de porc",ar:"قطع لحم خنزير",es:"Chuletas de cerdo",it:"Braciole di maiale"},Turkey:{en:"Turkey",fr:"Dinde",ar:"ديك رومي",es:"Pavo",it:"Tacchino"},Tuna:{en:"Tuna",fr:"Thon",ar:"تونة",es:"Atún",it:"Tonno"},Bacon:{en:"Bacon",fr:"Bacon",ar:"لحم مقدد",es:"Tocino",it:"Pancetta"},Ham:{en:"Ham",fr:"Jambon",ar:"لحم خنزير",es:"Jamón",it:"Prosciutto"},"Chicken thighs":{en:"Chicken thighs",fr:"Cuisses de poulet",ar:"أفخاذ دجاج",es:"Muslos de pollo",it:"Cosce di pollo"}}},{id:"2",name:"Vegetables",icon:"🥕",color:"#43AA8B",translations:{name:{en:"Vegetables",fr:"Légumes",ar:"الخضروات",es:"Verduras",it:"Verdure"}},ingredients:["Onions","Tomatoes","Bell peppers","Carrots","Broccoli","Spinach","Mushrooms","Garlic","Potatoes","Zucchini","Cucumber","Lettuce","Celery","Green beans","Corn","Peas","Cauliflower","Asparagus"],ingredientTranslations:{Onions:{en:"Onions",fr:"Oignons",ar:"بصل",es:"Cebollas",it:"Cipolle"},Tomatoes:{en:"Tomatoes",fr:"Tomates",ar:"طماطم",es:"Tomates",it:"Pomodori"},"Bell peppers":{en:"Bell peppers",fr:"Poivrons",ar:"فلفل حلو",es:"Pimientos",it:"Peperoni"},Carrots:{en:"Carrots",fr:"Carottes",ar:"جزر",es:"Zanahorias",it:"Carote"},Broccoli:{en:"Broccoli",fr:"Brocoli",ar:"بروكلي",es:"Brócoli",it:"Broccoli"},Spinach:{en:"Spinach",fr:"Épinards",ar:"سبانخ",es:"Espinacas",it:"Spinaci"},Mushrooms:{en:"Mushrooms",fr:"Champignons",ar:"فطر",es:"Champiñones",it:"Funghi"},Garlic:{en:"Garlic",fr:"Ail",ar:"ثوم",es:"Ajo",it:"Aglio"},Potatoes:{en:"Potatoes",fr:"Pommes de terre",ar:"بطاطس",es:"Papas",it:"Patate"},Zucchini:{en:"Zucchini",fr:"Courgettes",ar:"كوسة",es:"Calabacín",it:"Zucchine"},Cucumber:{en:"Cucumber",fr:"Concombre",ar:"خيار",es:"Pepino",it:"Cetriolo"},Lettuce:{en:"Lettuce",fr:"Laitue",ar:"خس",es:"Lechuga",it:"Lattuga"}}},{id:"3",name:"Dairy & Eggs",icon:"🥛",color:"#457B9D",translations:{name:{en:"Dairy & Eggs",fr:"Produits Laitiers & Œufs",ar:"الألبان والبيض",es:"Lácteos y Huevos",it:"Latticini e Uova"}},ingredients:["Milk","Cheese","Butter","Yogurt","Cream","Sour cream","Mozzarella","Parmesan cheese","Cheddar cheese","Feta cheese","Cream cheese","Heavy cream","Eggs"],ingredientTranslations:{Milk:{en:"Milk",fr:"Lait",ar:"حليب",es:"Leche",it:"Latte"},Cheese:{en:"Cheese",fr:"Fromage",ar:"جبن",es:"Queso",it:"Formaggio"},Butter:{en:"Butter",fr:"Beurre",ar:"زبدة",es:"Mantequilla",it:"Burro"},Yogurt:{en:"Yogurt",fr:"Yaourt",ar:"زبادي",es:"Yogur",it:"Yogurt"},Cream:{en:"Cream",fr:"Crème",ar:"كريمة",es:"Crema",it:"Panna"},"Sour cream":{en:"Sour cream",fr:"Crème aigre",ar:"كريمة حامضة",es:"Crema agria",it:"Panna acida"},Mozzarella:{en:"Mozzarella",fr:"Mozzarella",ar:"موزاريلا",es:"Mozzarella",it:"Mozzarella"},"Parmesan cheese":{en:"Parmesan cheese",fr:"Fromage parmesan",ar:"جبن البارميزان",es:"Queso parmesano",it:"Parmigiano Reggiano"}}},{id:"4",name:"Grains & Starches",icon:"🌾",color:"#F77F00",translations:{name:{en:"Grains & Starches",fr:"Céréales & Féculents",ar:"الحبوب والنشويات",es:"Granos y Almidones",it:"Cereali e Amidi"}},ingredients:["Rice","Pasta","Bread","Quinoa","Oats","Flour","Potatoes","Sweet potatoes","Couscous","Barley","Bulgur","Noodles","Tortillas","Crackers","Cereal"],ingredientTranslations:{Rice:{en:"Rice",fr:"Riz",ar:"أرز",es:"Arroz",it:"Riso"},Pasta:{en:"Pasta",fr:"Pâtes",ar:"معكرونة",es:"Pasta",it:"Pasta"},Bread:{en:"Bread",fr:"Pain",ar:"خبز",es:"Pan",it:"Pane"},Quinoa:{en:"Quinoa",fr:"Quinoa",ar:"كينوا",es:"Quinoa",it:"Quinoa"},Oats:{en:"Oats",fr:"Avoine",ar:"شوفان",es:"Avena",it:"Avena"},Flour:{en:"Flour",fr:"Farine",ar:"دقيق",es:"Harina",it:"Farina"}}},{id:"5",name:"Pantry Staples",icon:"🏺",color:"#F72585",translations:{name:{en:"Pantry Staples",fr:"Produits de Base",ar:"المواد الأساسية",es:"Productos Básicos",it:"Prodotti Base"}},ingredients:["Olive oil","Salt","Black pepper","Garlic powder","Onion powder","Paprika","Cumin","Oregano","Basil","Thyme","Bay leaves","Cinnamon","Vanilla extract","Baking powder","Baking soda","Sugar","Brown sugar","Honey","Soy sauce","Vinegar"],ingredientTranslations:{"Olive oil":{en:"Olive oil",fr:"Huile d'olive",ar:"زيت زيتون",es:"Aceite de oliva",it:"Olio d'oliva"},Salt:{en:"Salt",fr:"Sel",ar:"ملح",es:"Sal",it:"Sale"},"Black pepper":{en:"Black pepper",fr:"Poivre noir",ar:"فلفل أسود",es:"Pimienta negra",it:"Pepe nero"},"Garlic powder":{en:"Garlic powder",fr:"Poudre d'ail",ar:"مسحوق الثوم",es:"Ajo en polvo",it:"Aglio in polvere"},Paprika:{en:"Paprika",fr:"Paprika",ar:"بابريكا",es:"Pimentón",it:"Paprika"},Cumin:{en:"Cumin",fr:"Cumin",ar:"كمون",es:"Comino",it:"Cumino"},Oregano:{en:"Oregano",fr:"Origan",ar:"أوريجانو",es:"Orégano",it:"Origano"},Basil:{en:"Basil",fr:"Basilic",ar:"ريحان",es:"Albahaca",it:"Basilico"}}},{id:"6",name:"Fruits",icon:"🍎",color:"#FCBF49",translations:{name:{en:"Fruits",fr:"Fruits",ar:"الفواكه",es:"Frutas",it:"Frutta"}},ingredients:["Apples","Bananas","Oranges","Lemons","Limes","Berries","Grapes","Avocados","Strawberries","Blueberries","Raspberries","Pineapple","Mango","Peaches","Pears"],ingredientTranslations:{Apples:{en:"Apples",fr:"Pommes",ar:"تفاح",es:"Manzanas",it:"Mele"},Bananas:{en:"Bananas",fr:"Bananes",ar:"موز",es:"Plátanos",it:"Banane"},Oranges:{en:"Oranges",fr:"Oranges",ar:"برتقال",es:"Naranjas",it:"Arance"},Lemons:{en:"Lemons",fr:"Citrons",ar:"ليمون",es:"Limones",it:"Limoni"},Limes:{en:"Limes",fr:"Citrons verts",ar:"ليمون أخضر",es:"Limas",it:"Lime"},Berries:{en:"Berries",fr:"Baies",ar:"توت",es:"Bayas",it:"Bacche"},Grapes:{en:"Grapes",fr:"Raisins",ar:"عنب",es:"Uvas",it:"Uva"},Avocados:{en:"Avocados",fr:"Avocats",ar:"أفوكادو",es:"Aguacates",it:"Avocado"}}},{id:"7",name:"Condiments & Sauces",icon:"🍯",color:"#4361EE",translations:{name:{en:"Condiments & Sauces",fr:"Condiments & Sauces",ar:"التوابل والصلصات",es:"Condimentos y Salsas",it:"Condimenti e Salse"}},ingredients:["Ketchup","Mustard","Mayonnaise","Hot sauce","BBQ sauce","Worcestershire sauce","Teriyaki sauce","Ranch dressing","Italian dressing","Salsa","Pesto","Marinara sauce"],ingredientTranslations:{Ketchup:{en:"Ketchup",fr:"Ketchup",ar:"كاتشب",es:"Ketchup",it:"Ketchup"},Mustard:{en:"Mustard",fr:"Moutarde",ar:"خردل",es:"Mostaza",it:"Senape"},Mayonnaise:{en:"Mayonnaise",fr:"Mayonnaise",ar:"مايونيز",es:"Mayonesa",it:"Maionese"},"Hot sauce":{en:"Hot sauce",fr:"Sauce piquante",ar:"صلصة حارة",es:"Salsa picante",it:"Salsa piccante"}}},{id:"8",name:"Herbs & Spices",icon:"🌿",color:"#2A9D8F",translations:{name:{en:"Herbs & Spices",fr:"Herbes & Épices",ar:"الأعشاب والبهارات",es:"Hierbas y Especias",it:"Erbe e Spezie"}},ingredients:["Fresh basil","Fresh parsley","Fresh cilantro","Fresh dill","Rosemary","Sage","Mint","Chives","Ginger","Turmeric","Curry powder","Chili powder","Red pepper flakes"],ingredientTranslations:{"Fresh basil":{en:"Fresh basil",fr:"Basilic frais",ar:"ريحان طازج",es:"Albahaca fresca",it:"Basilico fresco"},"Fresh parsley":{en:"Fresh parsley",fr:"Persil frais",ar:"بقدونس طازج",es:"Perejil fresco",it:"Prezzemolo fresco"},"Fresh cilantro":{en:"Fresh cilantro",fr:"Coriandre fraîche",ar:"كزبرة طازجة",es:"Cilantro fresco",it:"Coriandolo fresco"},Ginger:{en:"Ginger",fr:"Gingembre",ar:"زنجبيل",es:"Jengibre",it:"Zenzero"},Turmeric:{en:"Turmeric",fr:"Curcuma",ar:"كركم",es:"Cúrcuma",it:"Curcuma"}}}],N_=(t,e,n)=>{var i,s;const r=kw.find(a=>a.id===t);return(s=(i=r==null?void 0:r.ingredientTranslations)==null?void 0:i[e])!=null&&s[n]?r.ingredientTranslations[e][n]:e},k_=(t,e)=>{var r,i;const n=kw.find(s=>s.id===t);return(i=(r=n==null?void 0:n.translations)==null?void 0:r.name)!=null&&i[e]?n.translations.name[e]:(n==null?void 0:n.name)||"Unknown Category"},lu=()=>{const{i18n:t,t:e}=Lt(),n=t.language;return{currentLanguage:n,translateContent:(p,m="")=>La(p,n,m),translateDish:p=>b_(p,n),translateCuisine:p=>S_(p,n),translateIngredientName:(p,m)=>N_(p,m,n),translateCategoryName:p=>k_(p,n),translateDifficulty:p=>{var g;return((g={Easy:{en:"Easy",fr:"Facile",ar:"سهل",es:"Fácil",it:"Facile"},Medium:{en:"Medium",fr:"Moyen",ar:"متوسط",es:"Medio",it:"Medio"},Hard:{en:"Hard",fr:"Difficile",ar:"صعب",es:"Difícil",it:"Difficile"}}[p])==null?void 0:g[n])||p},translateUnit:p=>{var g;return((g={g:{en:"g",fr:"g",ar:"غ",es:"g",it:"g"},kg:{en:"kg",fr:"kg",ar:"كغ",es:"kg",it:"kg"},ml:{en:"ml",fr:"ml",ar:"مل",es:"ml",it:"ml"},l:{en:"l",fr:"l",ar:"لتر",es:"l",it:"l"},cup:{en:"cup",fr:"tasse",ar:"كوب",es:"taza",it:"tazza"},cups:{en:"cups",fr:"tasses",ar:"أكواب",es:"tazas",it:"tazze"},tbsp:{en:"tbsp",fr:"c. à s.",ar:"م.ك",es:"cda",it:"cucchiaio"},tsp:{en:"tsp",fr:"c. à c.",ar:"م.ص",es:"cdta",it:"cucchiaino"},piece:{en:"piece",fr:"pièce",ar:"قطعة",es:"pieza",it:"pezzo"},pieces:{en:"pieces",fr:"pièces",ar:"قطع",es:"piezas",it:"pezzi"}}[p])==null?void 0:g[n])||p},translateTag:p=>e(`tags.${p}`,p)}};function h0({dish:t,isOpen:e,onClose:n,onEnterCookMode:r}){const[i,s]=Z.useState(t.servings),[a,o]=Z.useState(new Set),[l,u]=Z.useState(new Set),{dispatch:f}=En(),{t:p}=Lt(),{translateDifficulty:m,translateUnit:g}=lu();if(!e)return null;const b=i/t.servings,k=A=>{const E=new Set(a);E.has(A)?E.delete(A):E.add(A),o(E)},_=A=>{u(new Set([A.toLowerCase()]))},x=()=>{u(new Set)},w=()=>{f({type:"ADD_DISH",payload:t}),ft.success(p("recipe.addedToMenu",{title:t.title})),n()},N=A=>{const E=parseFloat(A);return isNaN(E)?A:(E*b).toFixed(1).replace(/\.0$/,"")};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:t.image,alt:t.title,className:"w-full h-48 object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),d.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2",children:[d.jsx("button",{onClick:r,className:"p-2 bg-primary text-white rounded-full hover:bg-primary-dark transition-all",title:p("recipe.enterCookMode"),children:d.jsx(o_,{className:"h-5 w-5"})}),d.jsx("button",{onClick:n,className:"p-2 bg-white/20 backdrop-blur-sm text-white rounded-full hover:bg-white/30 transition-all",children:d.jsx(aa,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[d.jsx("h2",{className:"text-2xl font-heading font-bold mb-2",children:t.title}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(os,{className:"h-4 w-4"}),d.jsxs("span",{children:[t.cookingTime," ",p("dish.minutes")]})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(Fr,{className:"h-4 w-4"}),d.jsx("span",{children:m(t.difficulty)})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(ls,{className:"h-4 w-4"}),d.jsxs("span",{children:[t.servings," ",p("dish.servings")]})]})]})]})]}),d.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-12rem)]",children:[d.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"font-body font-medium text-gray-700",children:p("recipeDetails.adjustServings")}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("button",{onClick:()=>s(Math.max(1,i-1)),className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center hover:bg-primary-dark transition-all",children:"-"}),d.jsx("span",{className:"font-heading font-bold text-lg w-8 text-center",children:i}),d.jsx("button",{onClick:()=>s(i+1),className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center hover:bg-primary-dark transition-all",children:"+"})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-heading font-semibold text-gray-900 mb-4",children:p("recipeDetails.ingredients")}),d.jsx("div",{className:"space-y-3",children:t.ingredients.map((A,E)=>d.jsxs("div",{className:`p-3 rounded-lg border transition-all cursor-pointer ${l.has(A.name.toLowerCase())?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"}`,onMouseEnter:()=>_(A.name),onMouseLeave:x,children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-body font-medium text-gray-900",children:A.name}),d.jsxs("span",{className:"text-primary font-body font-semibold",children:[N(A.amount)," ",g(A.unit)]})]}),d.jsx("span",{className:"text-xs text-gray-500 capitalize",children:A.category})]},E))})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-heading font-semibold text-gray-900 mb-4",children:p("recipeDetails.instructions")}),d.jsx("div",{className:"space-y-4",children:t.instructions.map((A,E)=>d.jsx("div",{className:`p-4 rounded-lg border transition-all ${a.has(E)?"border-green-300 bg-green-50":"border-gray-200"}`,children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx("button",{onClick:()=>k(E),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${a.has(E)?"border-green-500 bg-green-500":"border-gray-300 hover:border-primary"}`,children:a.has(E)&&d.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"flex items-center space-x-2 mb-2",children:d.jsxs("span",{className:"font-body font-semibold text-primary",children:[p("recipe.step")," ",E+1]})}),d.jsx("p",{className:`font-body text-gray-700 ${a.has(E)?"line-through opacity-60":""}`,children:String(A)})]})]})},E))})]})]}),d.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4",children:[d.jsx("button",{onClick:w,className:"flex-1 bg-primary text-white py-3 px-6 rounded-lg font-body font-medium hover:bg-primary-dark transition-all",children:p("recipe.addToMenu")}),d.jsxs("button",{onClick:r,className:"flex-1 bg-accent text-white py-3 px-6 rounded-lg font-body font-medium hover:bg-accent/90 transition-all flex items-center justify-center space-x-2",children:[d.jsx(Fr,{className:"h-5 w-5"}),d.jsx("span",{children:p("dish.cookMode")})]})]})]})]})})}function cu({dish:t,isOpen:e,onClose:n}){const[r,i]=Z.useState(0),[s,a]=Z.useState(0),[o,l]=Z.useState(!1),[u,f]=Z.useState(new Set),[p,m]=Z.useState(!1);if(Z.useEffect(()=>{let w;return o&&(w=setInterval(()=>{a(N=>N+1)},1e3)),()=>clearInterval(w)},[o]),Z.useEffect(()=>{if(p&&"speechSynthesis"in window){const w=new SpeechSynthesisUtterance(t.instructions[r]);w.rate=.8,speechSynthesis.speak(w)}},[r,p,t.instructions]),!e)return null;const g=w=>{const N=Math.floor(w/60),A=w%60;return`${N.toString().padStart(2,"0")}:${A.toString().padStart(2,"0")}`},b=()=>{const w=new Set(u);w.add(r),f(w),r<t.instructions.length-1&&i(r+1)},k=()=>{r>0&&i(r-1)},_=()=>{r<t.instructions.length-1&&i(r+1)},x=(r+1)/t.instructions.length*100;return d.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",children:[d.jsxs("div",{className:"bg-gray-900 text-white p-3 sm:p-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-800 rounded-lg transition-all",children:d.jsx(aa,{className:"h-6 w-6"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg sm:text-xl font-heading font-bold",children:t.title}),d.jsx("p",{className:"text-xs sm:text-sm text-gray-300",children:"Cook Mode"})]})]}),d.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>l(!o),className:"p-1.5 sm:p-2 bg-primary hover:bg-primary-dark rounded-lg transition-all",children:o?d.jsx(l_,{className:"h-4 w-4 sm:h-5 sm:w-5"}):d.jsx(c_,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),d.jsx("span",{className:"font-mono text-sm sm:text-lg",children:g(s)}),d.jsx("button",{onClick:()=>{a(0),l(!1)},className:"p-1.5 sm:p-2 hover:bg-gray-800 rounded-lg transition-all",children:d.jsx(u_,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),d.jsx("button",{onClick:()=>m(!p),className:`p-1.5 sm:p-2 rounded-lg transition-all ${p?"bg-accent text-white":"hover:bg-gray-800"}`,children:p?d.jsx(m_,{className:"h-4 w-4 sm:h-5 sm:w-5"}):d.jsx(v_,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})]}),d.jsxs("div",{className:"bg-gray-800 px-3 sm:px-4 py-2",children:[d.jsxs("div",{className:"flex items-center justify-between text-white text-xs sm:text-sm mb-2",children:[d.jsxs("span",{children:["Step ",r+1," of ",t.instructions.length]}),d.jsxs("span",{children:[Math.round(x),"% Complete"]})]}),d.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:d.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${x}%`}})})]}),d.jsxs("div",{className:"flex-1 flex",children:[d.jsxs("div",{className:"hidden lg:block w-80 bg-gray-100 p-6 overflow-y-auto",children:[d.jsx("h3",{className:"text-lg font-heading font-semibold text-gray-900 mb-4",children:"Ingredients"}),d.jsx("div",{className:"space-y-3",children:t.ingredients.map((w,N)=>d.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-body font-medium text-gray-900",children:w.name}),d.jsxs("span",{className:"text-primary font-body font-semibold",children:[w.amount," ",w.unit]})]})},N))})]}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsx("div",{className:"flex-1 flex items-center justify-center p-4 sm:p-8",children:d.jsxs("div",{className:"max-w-2xl text-center w-full",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs("span",{className:"inline-block px-3 sm:px-4 py-1.5 sm:py-2 bg-primary text-white rounded-full text-xs sm:text-sm font-body font-medium mb-4",children:["Step ",r+1]}),d.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-body text-gray-800 leading-relaxed px-4",children:String(t.instructions[r])})]}),d.jsxs("div",{className:"lg:hidden mb-6 p-4 bg-gray-100 rounded-lg",children:[d.jsx("h4",{className:"text-sm font-heading font-semibold text-gray-900 mb-3",children:"Ingredients for this step"}),d.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:t.ingredients.slice(0,4).map((w,N)=>d.jsxs("div",{className:"p-2 bg-white rounded border border-gray-200",children:[d.jsx("div",{className:"font-medium text-gray-900 truncate",children:w.name}),d.jsxs("div",{className:"text-primary font-semibold",children:[w.amount," ",w.unit]})]},N))}),t.ingredients.length>4&&d.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["+",t.ingredients.length-4," more ingredients"]})]}),u.has(r)&&d.jsx("div",{className:"mb-6 p-4 bg-green-100 border border-green-300 rounded-lg",children:d.jsx("p",{className:"text-green-800 font-body text-sm sm:text-base",children:"✓ Step completed!"})})]})}),d.jsx("div",{className:"bg-white border-t border-gray-200 p-3 sm:p-6",children:d.jsxs("div",{className:"flex flex-col items-center justify-center max-w-2xl mx-auto space-y-3",children:[d.jsxs("div",{className:"flex sm:hidden w-full justify-center space-x-4 px-4",children:[d.jsx("button",{onClick:k,disabled:r===0,className:"w-12 h-12 bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:d.jsx(yh,{className:"h-6 w-6"})}),d.jsx("button",{onClick:b,className:"w-16 h-16 bg-primary text-white rounded-full hover:bg-primary-dark transition-all font-body font-bold text-lg flex items-center justify-center shadow-lg",children:r===t.instructions.length-1?"✓":r+1}),d.jsx("button",{onClick:_,disabled:r===t.instructions.length-1,className:"w-12 h-12 bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:d.jsx(wh,{className:"h-6 w-6"})})]}),d.jsxs("div",{className:"hidden sm:flex items-center justify-center space-x-6",children:[d.jsxs("button",{onClick:k,disabled:r===0,className:"flex items-center space-x-2 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(yh,{className:"h-5 w-5"}),d.jsx("span",{className:"font-body font-medium",children:"Previous"})]}),d.jsx("button",{onClick:b,className:"px-8 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition-all font-body font-medium",children:r===t.instructions.length-1?"Finish Cooking":"Complete Step"}),d.jsxs("button",{onClick:_,disabled:r===t.instructions.length-1,className:"flex items-center space-x-2 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx("span",{className:"font-body font-medium",children:"Next"}),d.jsx(wh,{className:"h-5 w-5"})]})]})]})})]})]})]})}function _w({dish:t,isOpen:e,onClose:n}){const{state:r,dispatch:i}=En(),{t:s}=Lt(),[a,o]=Z.useState(new Date().toISOString().split("T")[0]),[l,u]=Z.useState("dinner"),[f,p]=Z.useState(t.servings),[m,g]=Z.useState("");if(!e)return null;const b=()=>{if(!r.user){ft.error(s("common.error"));return}const _={id:`meal-${Date.now()}-${Math.random()}`,userId:r.user.id,date:a,mealType:l,dish:t,servings:f,notes:m.trim()||void 0,createdAt:new Date().toISOString()};i({type:"ADD_MEAL_PLAN",payload:_}),ft.success(s("mealPlan.dishScheduled",{title:t.title,date:a})),n()},k=[{value:"breakfast",label:s("mealPlan.breakfast"),icon:"🌅"},{value:"lunch",label:s("mealPlan.lunch"),icon:"☀️"},{value:"dinner",label:s("mealPlan.dinner"),icon:"🌙"},{value:"snack",label:s("mealPlan.snack"),icon:"🍎"}];return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-2xl",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[d.jsx("h2",{className:"text-xl font-heading font-bold text-gray-900",children:s("mealPlan.scheduleDish")}),d.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-all",children:d.jsx(aa,{className:"h-5 w-5 text-gray-500"})})]}),d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[d.jsx("img",{src:t.image,alt:t.title,className:"w-16 h-16 object-cover rounded-lg"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-heading font-semibold text-gray-900",children:t.title}),d.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-600 mt-1",children:[d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(os,{className:"h-4 w-4"}),d.jsxs("span",{children:[t.cookingTime,"m"]})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(Fr,{className:"h-4 w-4"}),d.jsx("span",{children:t.difficulty})]})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-body font-medium text-gray-700 mb-2",children:s("mealPlan.selectDate")}),d.jsxs("div",{className:"relative",children:[d.jsx(ts,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),d.jsx("input",{type:"date",value:a,onChange:_=>o(_.target.value),min:new Date().toISOString().split("T")[0],className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-body font-medium text-gray-700 mb-3",children:s("mealPlan.mealType")}),d.jsx("div",{className:"grid grid-cols-2 gap-3",children:k.map(_=>d.jsx("button",{onClick:()=>u(_.value),className:`p-3 rounded-lg border-2 transition-all text-left ${l===_.value?"border-primary bg-primary text-white":"border-gray-200 hover:border-primary hover:bg-primary/5"}`,children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-lg",children:_.icon}),d.jsx("span",{className:"font-body font-medium text-sm",children:_.label})]})},_.value))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-body font-medium text-gray-700 mb-2",children:s("mealPlan.servings")}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("button",{onClick:()=>p(Math.max(1,f-1)),className:"w-10 h-10 bg-gray-200 text-gray-700 rounded-full flex items-center justify-center hover:bg-gray-300 transition-all",children:"-"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ls,{className:"h-5 w-5 text-gray-500"}),d.jsx("span",{className:"font-heading font-bold text-lg w-8 text-center",children:f})]}),d.jsx("button",{onClick:()=>p(f+1),className:"w-10 h-10 bg-gray-200 text-gray-700 rounded-full flex items-center justify-center hover:bg-gray-300 transition-all",children:"+"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-body font-medium text-gray-700 mb-2",children:[s("mealPlan.notes")," (",s("common.optional"),")"]}),d.jsx("textarea",{value:m,onChange:_=>g(_.target.value),placeholder:s("mealPlan.notesPlaceholder"),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent resize-none"})]}),d.jsxs("div",{className:"flex space-x-3 pt-4",children:[d.jsx("button",{onClick:n,className:"flex-1 py-3 px-4 border border-gray-300 text-gray-700 rounded-lg font-body font-medium hover:bg-gray-50 transition-all",children:s("common.cancel")}),d.jsx("button",{onClick:b,className:"flex-1 py-3 px-4 bg-primary text-white rounded-lg font-body font-medium hover:bg-primary-dark transition-all",children:s("mealPlan.schedule")})]})]})]})})}function __({dish:t}){var N,A;const{state:e,dispatch:n}=En(),{t:r}=Lt(),{translateDish:i,translateDifficulty:s,translateTag:a}=lu(),[o,l]=Z.useState(!1),[u,f]=Z.useState(!1),[p,m]=Z.useState(!1),g=e.selectedDishes.some(E=>E.id===t.id),b=i(t),k=s(t.difficulty),_=()=>{g?(n({type:"REMOVE_DISH",payload:t.id}),ft.success(`${b.title} ${r("common.removed")}`)):(n({type:"ADD_DISH",payload:b}),ft.success(`${b.title} ${r("common.added")}`))},x=()=>{m(!0)},w=E=>{switch(E==null?void 0:E.toLowerCase()){case"easy":return"bg-green-100 text-green-700";case"medium":return"bg-yellow-100 text-yellow-700";case"hard":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-white rounded-3xl shadow-md overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1 group flex flex-col w-full font-sans",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:b.image,alt:b.title,className:"w-full h-72 object-cover group-hover:scale-105 transition-transform duration-500 rounded-t-3xl",loading:"lazy"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-t-3xl"}),d.jsx("div",{className:"absolute top-4 left-4",children:d.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-semibold backdrop-blur-sm bg-white/90 shadow ${w((N=t.difficulty)==null?void 0:N.en)}`,children:k})}),d.jsx("div",{className:"absolute top-4 right-4",children:d.jsx("span",{className:"bg-white/90 px-3 py-1.5 rounded-full text-xs font-semibold text-gray-700 shadow",children:b.cuisine})}),d.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-center justify-center backdrop-blur-sm",children:d.jsxs("button",{onClick:()=>l(!0),className:"flex items-center space-x-2 px-6 py-3 bg-[#5E2EED] text-white rounded-full hover:bg-[#4d24d0] transition-all transform scale-95 hover:scale-100 shadow-lg font-semibold",children:[d.jsx(Cc,{className:"h-5 w-5"}),d.jsx("span",{children:r("dish.previewRecipe")})]})})]}),d.jsxs("div",{className:"p-6 flex flex-col flex-1 justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-2xl text-gray-900 mb-3 leading-snug",children:b.title}),d.jsxs("div",{className:"flex items-center space-x-5 text-sm text-gray-600 mb-4",children:[d.jsxs("div",{className:"flex items-center space-x-1.5",children:[d.jsx(os,{className:"h-5 w-5 text-[#5E2EED]"}),d.jsxs("span",{className:"font-semibold",children:[t.cookingTime,r("dish.minutes")]})]}),d.jsxs("div",{className:"flex items-center space-x-1.5",children:[d.jsx(Sw,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"}),d.jsx("span",{className:"font-semibold",children:t.rating})]}),d.jsxs("div",{className:"font-semibold",children:[t.calories," ",r("dish.calories")]})]}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-5",children:(A=t.tags)==null?void 0:A.slice(0,3).map(E=>d.jsx("span",{className:"px-4 py-1.5 bg-gray-100 text-gray-700 text-xs rounded-full font-medium",children:a(E)},E))})]}),d.jsxs("div",{className:"mt-5",children:[d.jsxs("div",{className:"flex sm:hidden justify-between items-center w-full gap-2",children:[d.jsx("button",{onClick:()=>l(!0),className:"w-12 h-12 border-2 border-primary-200 text-primary-500 rounded-full hover:bg-primary-50 hover:border-primary-300 transition-all duration-200 flex items-center justify-center shadow-soft",title:r("dish.recipe"),children:d.jsx(Cc,{className:"h-4 w-4"})}),d.jsx("button",{onClick:x,className:"w-12 h-12 bg-secondary-500 text-white rounded-full hover:bg-secondary-600 transition-all duration-200 flex items-center justify-center shadow-medium transform hover:scale-105",title:r("mealPlan.scheduleDish"),children:d.jsx(ts,{className:"h-4 w-4"})}),d.jsx("button",{onClick:_,className:`w-12 h-12 rounded-full font-bold transition-all duration-200 flex items-center justify-center shadow-medium transform hover:scale-105 ${g?"bg-accent-500 text-white hover:bg-accent-600":"bg-primary-500 text-white hover:bg-primary-600"}`,title:r(g?"dish.added":"dish.add"),children:g?d.jsx(hl,{className:"h-5 w-5"}):d.jsx(Kg,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"hidden sm:flex w-full gap-3",children:[d.jsx("button",{onClick:()=>l(!0),className:"flex-1 flex items-center justify-center py-3 px-4 border-2 border-primary-500 text-primary-500 rounded-full hover:bg-primary-50 transition-all duration-200 text-sm font-semibold shadow-soft",title:r("dish.recipe"),children:d.jsx(Cc,{className:"h-4 w-4"})}),d.jsx("button",{onClick:x,className:"flex-1 flex items-center justify-center py-3 px-4 border-2 border-secondary-500 text-secondary-500 rounded-full hover:bg-secondary-50 transition-all duration-200 text-sm font-semibold shadow-soft",title:r("mealPlan.schedule"),children:d.jsx(ts,{className:"h-4 w-4"})}),d.jsx("button",{onClick:_,className:`flex-1 flex items-center justify-center py-3 px-4 rounded-full transition-all duration-200 text-sm font-semibold shadow-medium transform hover:scale-105 ${g?"bg-accent-500 text-white hover:bg-accent-600":"bg-primary-500 text-white hover:bg-primary-600"}`,title:r(g?"dish.added":"dish.add"),children:g?d.jsx(hl,{className:"h-5 w-5"}):d.jsx(Kg,{className:"h-5 w-5"})})]})]})]})]}),d.jsx(h0,{dish:b,isOpen:o,onClose:()=>l(!1),onEnterCookMode:()=>{l(!1),f(!0)}}),d.jsx(cu,{dish:b,isOpen:u,onClose:()=>f(!1)}),d.jsx(_w,{dish:b,isOpen:p,onClose:()=>m(!1)})]})}const j_=()=>{const{t}=Lt();return d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"text-center py-16",children:[d.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-primary-500 mx-auto mb-6"}),d.jsx("p",{className:"text-warm-gray-600 font-body text-lg font-semibold",children:t("common.loading")})]})})},L_=({error:t})=>{const{t:e}=Lt();return d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"text-center py-16",children:[d.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx("span",{className:"text-3xl",children:"⚠️"})}),d.jsx("h3",{className:"text-2xl font-heading font-bold text-warm-gray-900 mb-3",children:e("common.error")}),d.jsx("p",{className:"text-warm-gray-600 font-body text-base",children:t})]})})},P_=()=>{const{t}=Lt();return d.jsxs("div",{className:"text-center py-16",children:[d.jsx(d0,{className:"h-16 w-16 text-warm-gray-400 mx-auto mb-6"}),d.jsx("h3",{className:"text-2xl font-heading font-bold text-warm-gray-900 mb-3",children:t("home.noDishesFound")}),d.jsx("p",{className:"text-warm-gray-600 font-body text-base",children:t("home.adjustFilters")})]})},C_=({count:t})=>{const{t:e}=Lt();return d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-3xl font-heading font-bold text-warm-gray-900",children:e("home.recommendedDishes")}),d.jsxs("span",{className:"text-warm-gray-600 font-semibold text-lg",children:[t," ",e("home.dishesFound")]})]})},A_=()=>{const{t}=Lt();return d.jsx("div",{className:"bg-secondary-500 text-white rounded-3xl p-8 shadow-medium",children:d.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-2xl font-heading font-bold mb-3",children:t("home.cookWithIngredients")}),d.jsx("p",{className:"font-body opacity-95 text-base",children:t("home.cookWithIngredientsDesc")})]}),d.jsxs(gc,{to:"/use-my-ingredients",className:"flex items-center space-x-2 px-8 py-4 bg-white text-secondary-500 rounded-full hover:bg-warm-gray-50 transition-all font-body font-bold shadow-medium hover:shadow-strong transform hover:scale-105",children:[d.jsx(bw,{className:"h-6 w-6"}),d.jsx("span",{children:t("home.startWithIngredients")})]})]})})},E_=({searchTerm:t,setSearchTerm:e,selectedCuisine:n,setSelectedCuisine:r,selectedDifficulty:i,setSelectedDifficulty:s,cuisineTypes:a,difficultyTypes:o,handleSurpriseMe:l,translateCuisine:u,translateDifficulty:f})=>{const{t:p}=Lt();return d.jsx("div",{className:"bg-white rounded-3xl shadow-soft p-8",children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx(ww,{className:"absolute left-4 top-4 h-5 w-5 text-warm-gray-400"}),d.jsx("input",{type:"text",placeholder:p("home.searchPlaceholder"),value:t,onChange:m=>e(m.target.value),className:"w-full pl-12 pr-4 py-3.5 border-2 border-warm-gray-200 rounded-full focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all font-semibold"})]}),d.jsxs("select",{value:n,onChange:m=>r(m.target.value),className:"px-6 py-3.5 border-2 border-warm-gray-200 rounded-full focus:ring-2 focus:ring-primary-500 focus:border-primary-500 font-semibold transition-all",children:[d.jsx("option",{value:"",children:p("home.allCuisines")}),a.map(m=>d.jsx("option",{value:m.id,children:u(m)},m.id))]}),d.jsxs("select",{value:i,onChange:m=>s(m.target.value),className:"px-6 py-3.5 border-2 border-warm-gray-200 rounded-full focus:ring-2 focus:ring-primary-500 focus:border-primary-500 font-semibold transition-all",children:[d.jsx("option",{value:"",children:p("home.allDifficulties")}),o.map(m=>d.jsx("option",{value:m.id,children:f(m)},m.id))]}),d.jsxs("button",{onClick:l,className:"flex items-center space-x-2 px-6 py-3.5 bg-accent-500 text-white rounded-full hover:bg-accent-600 transition-all shadow-medium font-semibold transform hover:scale-105",children:[d.jsx(h_,{className:"h-5 w-5"}),d.jsx("span",{className:"font-body font-semibold",children:p("home.surpriseMe")})]})]})})};function I_(){var B;const[t,e]=Z.useState(""),[n,r]=Z.useState(""),[i,s]=Z.useState(""),[a,o]=Z.useState([]),[l,u]=Z.useState([]),{state:f}=En(),{t:p,i18n:m}=Lt(),{translateDish:g}=lu(),{dishes:b,loading:k,error:_}=gw();Z.useEffect(()=>{(async()=>{try{const{data:R,error:J}=await Jn.from("cuisine_types").select("id, name, created_at").order("id",{ascending:!0});if(J)throw new Error(`Cuisine types error: ${J.message}`);R&&o(R);const{data:ne,error:O}=await Jn.from("difficulties").select("id, label").order("id",{ascending:!0});if(O)throw new Error(`Difficulty types error: ${O.message}`);ne&&u(ne)}catch(R){ft.error(p("errors.fetchFilters")),console.error("Error loading filter options:",R)}})()},[p]),Z.useEffect(()=>{console.log("Raw Supabase Dishes:",b),console.log("Cuisine Types:",a),console.log("Difficulty Types:",l)},[b,a,l]);const x=Z.useCallback(F=>F.name[m.language]||F.name.en||"",[m.language]),w=Z.useCallback(F=>F.label[m.language]||F.label.en||"",[m.language]),N=Z.useCallback(()=>{const R=b.map(ne=>g(ne)).filter(ne=>!f.selectedDishes.some(O=>O.id===ne.id));if(R.length===0){ft.error(p("home.allDishesSelected"));return}const J=R[Math.floor(Math.random()*R.length)];ft.success(`${p("home.surprise")} ${J.title}!`)},[b,f.selectedDishes,p,g]),A=Z.useMemo(()=>b.map(F=>{const R=g(F);let J=F.cuisineId,ne=F.difficultyId;if(!J&&F.cuisine){const O=a.find(M=>M.name[m.language]===F.cuisine||M.name.en===F.cuisine);J=O==null?void 0:O.id}if(!ne&&F.difficulty){const O=l.find(M=>M.label[m.language]===F.difficulty||M.label.en===F.difficulty);ne=O==null?void 0:O.id}return{...R,cuisineId:J,difficultyId:ne}}),[b,g,a,l,m.language]),E=Z.useMemo(()=>A.filter(R=>{var G,W;const J=t===""||R.title&&R.title.toLowerCase().includes(t.toLowerCase())||R.cuisine&&R.cuisine.toLowerCase().includes(t.toLowerCase())||R.description&&R.description.toLowerCase().includes(t.toLowerCase()),ne=!n||R.cuisineId&&R.cuisineId.toString()===n,O=!i||R.difficultyId&&R.difficultyId.toString()===i,M=!((W=(G=f.user)==null?void 0:G.preferences)!=null&&W.length)||f.user.preferences.some(de=>R.cuisineId&&de.toString()===R.cuisineId.toString());return J&&ne&&O&&M}),[A,t,n,i,(B=f.user)==null?void 0:B.preferences]);return Z.useEffect(()=>{console.log("Selected Cuisine:",n,"Type:",typeof n),console.log("Selected Difficulty:",i,"Type:",typeof i),console.log("Filtered Dishes Count:",E.length),E.length>0?console.log("First filtered dish:",E[0]):(n||i)&&(console.log("No dishes found with current filters"),console.log("Available dishes with IDs:",A.map(F=>({id:F.id,title:F.title,cuisine:F.cuisine,cuisineId:F.cuisineId,difficulty:F.difficulty,difficultyId:F.difficultyId}))))},[n,i,E,A]),k?d.jsx(j_,{}):_?d.jsx(L_,{error:_}):d.jsxs("div",{className:"space-y-6",children:[d.jsx(A_,{}),d.jsx(E_,{searchTerm:t,setSearchTerm:e,selectedCuisine:n,setSelectedCuisine:r,selectedDifficulty:i,setSelectedDifficulty:s,cuisineTypes:a,difficultyTypes:l,handleSurpriseMe:N,translateCuisine:x,translateDifficulty:w}),d.jsx(C_,{count:E.length}),E.length>0?d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-8 w-full",children:E.map(F=>d.jsx(__,{dish:F},F.id))}):d.jsx(P_,{})]})}function yt(t){"@babel/helpers - typeof";return yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yt(t)}var Un=Uint8Array,xr=Uint16Array,f0=Int32Array,Xh=new Un([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Zh=new Un([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Jg=new Un([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jw=function(t,e){for(var n=new xr(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new f0(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},Lw=jw(Xh,2),Pw=Lw.b,Yg=Lw.r;Pw[28]=258,Yg[258]=28;var Cw=jw(Zh,0),T_=Cw.b,A2=Cw.r,Qg=new xr(32768);for(var Mt=0;Mt<32768;++Mt){var js=(Mt&43690)>>1|(Mt&21845)<<1;js=(js&52428)>>2|(js&13107)<<2,js=(js&61680)>>4|(js&3855)<<4,Qg[Mt]=((js&65280)>>8|(js&255)<<8)>>1}var Ti=function(t,e,n){for(var r=t.length,i=0,s=new xr(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new xr(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new xr(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],f=e-t[i],p=a[t[i]-1]++<<f,m=p|(1<<f)-1;p<=m;++p)o[Qg[p]>>l]=u}else for(o=new xr(r),i=0;i<r;++i)t[i]&&(o[i]=Qg[a[t[i]-1]++]>>15-t[i]);return o},Qs=new Un(288);for(var Mt=0;Mt<144;++Mt)Qs[Mt]=8;for(var Mt=144;Mt<256;++Mt)Qs[Mt]=9;for(var Mt=256;Mt<280;++Mt)Qs[Mt]=7;for(var Mt=280;Mt<288;++Mt)Qs[Mt]=8;var Xc=new Un(32);for(var Mt=0;Mt<32;++Mt)Xc[Mt]=5;var O_=Ti(Qs,9,0),D_=Ti(Qs,9,1),M_=Ti(Xc,5,0),R_=Ti(Xc,5,1),Lp=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ei=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},Pp=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},p0=function(t){return(t+7)/8|0},Aw=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Un(t.subarray(e,n))},F_=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ri=function(t,e,n){var r=new Error(e||F_[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,ri),!n)throw r;return r},$_=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new Un(0);var a=!n,o=a||e.i!=2,l=e.i;a&&(n=new Un(i*3));var u=function(je){var Te=n.length;if(je>Te){var Ae=new Un(Math.max(Te*2,je));Ae.set(n),n=Ae}},f=e.f||0,p=e.p||0,m=e.b||0,g=e.l,b=e.d,k=e.m,_=e.n,x=i*8;do{if(!g){f=ei(t,p,1);var w=ei(t,p+1,3);if(p+=3,w)if(w==1)g=D_,b=R_,k=9,_=5;else if(w==2){var B=ei(t,p,31)+257,F=ei(t,p+10,15)+4,R=B+ei(t,p+5,31)+1;p+=14;for(var J=new Un(R),ne=new Un(19),O=0;O<F;++O)ne[Jg[O]]=ei(t,p+O*3,7);p+=F*3;for(var M=Lp(ne),G=(1<<M)-1,W=Ti(ne,M,1),O=0;O<R;){var de=W[ei(t,p,G)];p+=de&15;var N=de>>4;if(N<16)J[O++]=N;else{var ue=0,pe=0;for(N==16?(pe=3+ei(t,p,3),p+=2,ue=J[O-1]):N==17?(pe=3+ei(t,p,7),p+=3):N==18&&(pe=11+ei(t,p,127),p+=7);pe--;)J[O++]=ue}}var V=J.subarray(0,B),ie=J.subarray(B);k=Lp(V),_=Lp(ie),g=Ti(V,k,1),b=Ti(ie,_,1)}else ri(1);else{var N=p0(p)+4,A=t[N-4]|t[N-3]<<8,E=N+A;if(E>i){l&&ri(0);break}o&&u(m+A),n.set(t.subarray(N,E),m),e.b=m+=A,e.p=p=E*8,e.f=f;continue}if(p>x){l&&ri(0);break}}o&&u(m+131072);for(var ae=(1<<k)-1,Ne=(1<<_)-1,P=p;;P=p){var ue=g[Pp(t,p)&ae],z=ue>>4;if(p+=ue&15,p>x){l&&ri(0);break}if(ue||ri(2),z<256)n[m++]=z;else if(z==256){P=p,g=null;break}else{var q=z-254;if(z>264){var O=z-257,Y=Xh[O];q=ei(t,p,(1<<Y)-1)+Pw[O],p+=Y}var te=b[Pp(t,p)&Ne],ce=te>>4;te||ri(3),p+=te&15;var ie=T_[ce];if(ce>3){var Y=Zh[ce];ie+=Pp(t,p)&(1<<Y)-1,p+=Y}if(p>x){l&&ri(0);break}o&&u(m+131072);var he=m+q;if(m<ie){var fe=s-ie,Le=Math.min(ie,he);for(fe+m<0&&ri(3);m<Le;++m)n[m]=r[fe+m]}for(;m<he;++m)n[m]=n[m-ie]}}e.l=g,e.p=P,e.b=m,e.f=f,g&&(f=1,e.m=k,e.d=b,e.n=_)}while(!f);return m!=n.length&&a?Aw(n,0,m):n.subarray(0,m)},Ki=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},ac=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Cp=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:Iw,l:0};if(i==1){var a=new Un(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(E,B){return E.f-B.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],u=0,f=1,p=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};f!=i-1;)o=n[n[u].f<n[p].f?u++:p++],l=n[u!=f&&n[u].f<n[p].f?u++:p++],n[f++]={s:-1,f:o.f+l.f,l:o,r:l};for(var m=s[0].s,r=1;r<i;++r)s[r].s>m&&(m=s[r].s);var g=new xr(m+1),b=Xg(n[f-1],g,0);if(b>e){var r=0,k=0,_=b-e,x=1<<_;for(s.sort(function(B,F){return g[F.s]-g[B.s]||B.f-F.f});r<i;++r){var w=s[r].s;if(g[w]>e)k+=x-(1<<b-g[w]),g[w]=e;else break}for(k>>=_;k>0;){var N=s[r].s;g[N]<e?k-=1<<e-g[N]++-1:++r}for(;r>=0&&k;--r){var A=s[r].s;g[A]==e&&(--g[A],++k)}b=e}return{t:new Un(g),l:b}},Xg=function(t,e,n){return t.s==-1?Math.max(Xg(t.l,e,n+1),Xg(t.r,e,n+1)):e[t.s]=n},E2=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new xr(++e),r=0,i=t[0],s=1,a=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},oc=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Ew=function(t,e,n){var r=n.length,i=p0(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},I2=function(t,e,n,r,i,s,a,o,l,u,f){Ki(e,f++,n),++i[256];for(var p=Cp(i,15),m=p.t,g=p.l,b=Cp(s,15),k=b.t,_=b.l,x=E2(m),w=x.c,N=x.n,A=E2(k),E=A.c,B=A.n,F=new xr(19),R=0;R<w.length;++R)++F[w[R]&31];for(var R=0;R<E.length;++R)++F[E[R]&31];for(var J=Cp(F,7),ne=J.t,O=J.l,M=19;M>4&&!ne[Jg[M-1]];--M);var G=u+5<<3,W=oc(i,Qs)+oc(s,Xc)+a,de=oc(i,m)+oc(s,k)+a+14+3*M+oc(F,ne)+2*F[16]+3*F[17]+7*F[18];if(l>=0&&G<=W&&G<=de)return Ew(e,f,t.subarray(l,l+u));var ue,pe,V,ie;if(Ki(e,f,1+(de<W)),f+=2,de<W){ue=Ti(m,g,0),pe=m,V=Ti(k,_,0),ie=k;var ae=Ti(ne,O,0);Ki(e,f,N-257),Ki(e,f+5,B-1),Ki(e,f+10,M-4),f+=14;for(var R=0;R<M;++R)Ki(e,f+3*R,ne[Jg[R]]);f+=3*M;for(var Ne=[w,E],P=0;P<2;++P)for(var z=Ne[P],R=0;R<z.length;++R){var q=z[R]&31;Ki(e,f,ae[q]),f+=ne[q],q>15&&(Ki(e,f,z[R]>>5&127),f+=z[R]>>12)}}else ue=O_,pe=Qs,V=M_,ie=Xc;for(var R=0;R<o;++R){var Y=r[R];if(Y>255){var q=Y>>18&31;ac(e,f,ue[q+257]),f+=pe[q+257],q>7&&(Ki(e,f,Y>>23&31),f+=Xh[q]);var te=Y&31;ac(e,f,V[te]),f+=ie[te],te>3&&(ac(e,f,Y>>5&8191),f+=Zh[te])}else ac(e,f,ue[Y]),f+=pe[Y]}return ac(e,f,ue[256]),f+pe[256]},B_=new f0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Iw=new Un(0),z_=function(t,e,n,r,i,s){var a=s.z||t.length,o=new Un(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),u=s.l,f=(s.r||0)&7;if(e){f&&(l[0]=s.r>>3);for(var p=B_[e-1],m=p>>13,g=p&8191,b=(1<<n)-1,k=s.p||new xr(32768),_=s.h||new xr(b+1),x=Math.ceil(n/3),w=2*x,N=function(Ve){return(t[Ve]^t[Ve+1]<<x^t[Ve+2]<<w)&b},A=new f0(25e3),E=new xr(288),B=new xr(32),F=0,R=0,J=s.i||0,ne=0,O=s.w||0,M=0;J+2<a;++J){var G=N(J),W=J&32767,de=_[G];if(k[W]=de,_[G]=W,O<=J){var ue=a-J;if((F>7e3||ne>24576)&&(ue>423||!u)){f=I2(t,l,0,A,E,B,R,ne,M,J-M,f),ne=F=R=0,M=J;for(var pe=0;pe<286;++pe)E[pe]=0;for(var pe=0;pe<30;++pe)B[pe]=0}var V=2,ie=0,ae=g,Ne=W-de&32767;if(ue>2&&G==N(J-Ne))for(var P=Math.min(m,ue)-1,z=Math.min(32767,J),q=Math.min(258,ue);Ne<=z&&--ae&&W!=de;){if(t[J+V]==t[J+V-Ne]){for(var Y=0;Y<q&&t[J+Y]==t[J+Y-Ne];++Y);if(Y>V){if(V=Y,ie=Ne,Y>P)break;for(var te=Math.min(Ne,Y-2),ce=0,pe=0;pe<te;++pe){var he=J-Ne+pe&32767,fe=k[he],Le=he-fe&32767;Le>ce&&(ce=Le,de=he)}}}W=de,de=k[W],Ne+=W-de&32767}if(ie){A[ne++]=268435456|Yg[V]<<18|A2[ie];var je=Yg[V]&31,Te=A2[ie]&31;R+=Xh[je]+Zh[Te],++E[257+je],++B[Te],O=J+V,++F}else A[ne++]=t[J],++E[t[J]]}}for(J=Math.max(J,O);J<a;++J)A[ne++]=t[J],++E[t[J]];f=I2(t,l,u,A,E,B,R,ne,M,J-M,f),u||(s.r=f&7|l[f/8|0]<<3,f-=7,s.h=_,s.p=k,s.i=J,s.w=O)}else{for(var J=s.w||0;J<a+u;J+=65535){var Ae=J+65535;Ae>=a&&(l[f/8|0]=u,Ae=a),f=Ew(l,f+1,t.subarray(J,Ae))}s.i=a}return Aw(o,0,r+p0(f)+i)},Tw=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},U_=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Un(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return z_(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},Ow=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},q_=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Tw();i.p(e.dictionary),Ow(t,2,i.d())}},W_=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&ri(6,"invalid zlib data"),(t[1]>>5&1)==1&&ri(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Zg(t,e){e||(e={});var n=Tw();n.p(t);var r=U_(t,e,e.dictionary?6:2,4);return q_(r,e),Ow(r,r.length-4,n.d()),r}function H_(t,e){return $_(t.subarray(W_(t),-4),{i:2},e,e)}var V_=typeof TextDecoder<"u"&&new TextDecoder,G_=0;try{V_.decode(Iw,{stream:!0}),G_=1}catch{}var Ge=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ap(){Ge.console&&typeof Ge.console.log=="function"&&Ge.console.log.apply(Ge.console,arguments)}var At={log:Ap,warn:function(t){Ge.console&&(typeof Ge.console.warn=="function"?Ge.console.warn.apply(Ge.console,arguments):Ap.call(null,arguments))},error:function(t){Ge.console&&(typeof Ge.console.error=="function"?Ge.console.error.apply(Ge.console,arguments):Ap(t))}};function Ep(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){_a(r.response,e,n)},r.onerror=function(){At.error("could not download file")},r.send()}function T2(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Sd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Ac,em,_a=Ge.saveAs||((typeof window>"u"?"undefined":yt(window))!=="object"||window!==Ge?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Ge.URL||Ge.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?T2(i.href)?Ep(t,e,n):Sd(i,i.target="_blank"):Sd(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Sd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(T2(t))Ep(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Sd(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:yt(s)!=="object"&&(At.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Ep(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(Ge.HTMLElement)||Ge.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":yt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var f=o.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},o.readAsDataURL(t)}else{var l=Ge.URL||Ge.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Dw(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ip(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Rn(n,r,i,s,e[0],7,-680876936),s=Rn(s,n,r,i,e[1],12,-389564586),i=Rn(i,s,n,r,e[2],17,606105819),r=Rn(r,i,s,n,e[3],22,-1044525330),n=Rn(n,r,i,s,e[4],7,-176418897),s=Rn(s,n,r,i,e[5],12,1200080426),i=Rn(i,s,n,r,e[6],17,-1473231341),r=Rn(r,i,s,n,e[7],22,-45705983),n=Rn(n,r,i,s,e[8],7,1770035416),s=Rn(s,n,r,i,e[9],12,-1958414417),i=Rn(i,s,n,r,e[10],17,-42063),r=Rn(r,i,s,n,e[11],22,-1990404162),n=Rn(n,r,i,s,e[12],7,1804603682),s=Rn(s,n,r,i,e[13],12,-40341101),i=Rn(i,s,n,r,e[14],17,-1502002290),n=Fn(n,r=Rn(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Fn(s,n,r,i,e[6],9,-1069501632),i=Fn(i,s,n,r,e[11],14,643717713),r=Fn(r,i,s,n,e[0],20,-373897302),n=Fn(n,r,i,s,e[5],5,-701558691),s=Fn(s,n,r,i,e[10],9,38016083),i=Fn(i,s,n,r,e[15],14,-660478335),r=Fn(r,i,s,n,e[4],20,-405537848),n=Fn(n,r,i,s,e[9],5,568446438),s=Fn(s,n,r,i,e[14],9,-1019803690),i=Fn(i,s,n,r,e[3],14,-187363961),r=Fn(r,i,s,n,e[8],20,1163531501),n=Fn(n,r,i,s,e[13],5,-1444681467),s=Fn(s,n,r,i,e[2],9,-51403784),i=Fn(i,s,n,r,e[7],14,1735328473),n=$n(n,r=Fn(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=$n(s,n,r,i,e[8],11,-2022574463),i=$n(i,s,n,r,e[11],16,1839030562),r=$n(r,i,s,n,e[14],23,-35309556),n=$n(n,r,i,s,e[1],4,-1530992060),s=$n(s,n,r,i,e[4],11,1272893353),i=$n(i,s,n,r,e[7],16,-155497632),r=$n(r,i,s,n,e[10],23,-1094730640),n=$n(n,r,i,s,e[13],4,681279174),s=$n(s,n,r,i,e[0],11,-358537222),i=$n(i,s,n,r,e[3],16,-722521979),r=$n(r,i,s,n,e[6],23,76029189),n=$n(n,r,i,s,e[9],4,-640364487),s=$n(s,n,r,i,e[12],11,-421815835),i=$n(i,s,n,r,e[15],16,530742520),n=Bn(n,r=$n(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Bn(s,n,r,i,e[7],10,1126891415),i=Bn(i,s,n,r,e[14],15,-1416354905),r=Bn(r,i,s,n,e[5],21,-57434055),n=Bn(n,r,i,s,e[12],6,1700485571),s=Bn(s,n,r,i,e[3],10,-1894986606),i=Bn(i,s,n,r,e[10],15,-1051523),r=Bn(r,i,s,n,e[1],21,-2054922799),n=Bn(n,r,i,s,e[8],6,1873313359),s=Bn(s,n,r,i,e[15],10,-30611744),i=Bn(i,s,n,r,e[6],15,-1560198380),r=Bn(r,i,s,n,e[13],21,1309151649),n=Bn(n,r,i,s,e[4],6,-145523070),s=Bn(s,n,r,i,e[11],10,-1120210379),i=Bn(i,s,n,r,e[2],15,718787259),r=Bn(r,i,s,n,e[9],21,-343485551),t[0]=Fs(n,t[0]),t[1]=Fs(r,t[1]),t[2]=Fs(i,t[2]),t[3]=Fs(s,t[3])}function ef(t,e,n,r,i,s){return e=Fs(Fs(e,t),Fs(r,s)),Fs(e<<i|e>>>32-i,n)}function Rn(t,e,n,r,i,s,a){return ef(e&n|~e&r,t,e,i,s,a)}function Fn(t,e,n,r,i,s,a){return ef(e&r|n&~r,t,e,i,s,a)}function $n(t,e,n,r,i,s,a){return ef(e^n^r,t,e,i,s,a)}function Bn(t,e,n,r,i,s,a){return ef(n^(e|~r),t,e,i,s,a)}function Mw(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Ip(r,K_(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Ip(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Ip(r,i),r}function K_(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Ac=Ge.atob.bind(Ge),em=Ge.btoa.bind(Ge);var O2="0123456789abcdef".split("");function J_(t){for(var e="",n=0;n<4;n++)e+=O2[t>>8*n+4&15]+O2[t>>8*n&15];return e}function Y_(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function tm(t){return Mw(t).map(Y_).join("")}var Q_=function(t){for(var e=0;e<t.length;e++)t[e]=J_(t[e]);return t.join("")}(Mw("hello"))!="5d41402abc4b2a76b9719d911017c592";function Fs(t,e){if(Q_){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function nm(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var f=o[l];u=(u+f+a.charCodeAt(l))%256,o[l]=o[u],o[u]=f}n=t,r=o}else o=r;var p=e.length,m=0,g=0,b="";for(l=0;l<p;l++)g=(g+(f=o[m=(m+1)%256]))%256,o[m]=o[g],o[g]=f,a=o[(o[m]+o[g])%256],b+=String.fromCharCode(e.charCodeAt(l)^a);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var D2={print:4,modify:8,copy:16,"annot-forms":32};function To(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(D2.perm!==void 0)throw new Error("Invalid permission: "+o);i+=D2[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=tm(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=nm(this.encryptionKey,this.padding)}function Oo(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function M2(t){if(yt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(o){Ge.console&&At.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function bh(t){if(!(this instanceof bh))return new bh(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function Rw(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Pa(t,e,n,r,i){if(!(this instanceof Pa))return new Pa(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,Rw.call(this,r,i)}function Go(t,e,n,r,i){if(!(this instanceof Go))return new Go(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,Rw.call(this,r,i)}function We(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",f=null;yt(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,m={},g={internal:{},__private__:{}};g.__private__.PubSub=M2;var b="1.3",k=g.__private__.getPdfVersion=function(){return b};g.__private__.setPdfVersion=function(v){b=v};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return _};var x=g.__private__.getPageFormat=function(v){return _[v]};i=i||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},N=w.COMPAT;function A(){this.saveGraphicsState(),H(new He(De,0,0,-De,0,hs()*De).toString()+" cm"),this.setFontSize(this.getFontSize()/De),u="n",N=w.ADVANCED}function E(){this.restoreGraphicsState(),u="S",N=w.COMPAT}var B=g.__private__.combineFontStyleAndFontWeight=function(v,L){if(v=="bold"&&L=="normal"||v=="bold"&&L==400||v=="normal"&&L=="italic"||v=="bold"&&L=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return L&&(v=L==400||L==="normal"?v==="italic"?"italic":"normal":L!=700&&L!=="bold"||v!=="normal"?(L==700?"bold":L)+""+v:"bold"),v};g.advancedAPI=function(v){var L=N===w.COMPAT;return L&&A.call(this),typeof v!="function"||(v(this),L&&E.call(this)),this},g.compatAPI=function(v){var L=N===w.ADVANCED;return L&&E.call(this),typeof v!="function"||(v(this),L&&A.call(this)),this},g.isAdvancedAPI=function(){return N===w.ADVANCED};var F,R=function(v){if(N!==w.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},J=g.roundToPrecision=g.__private__.roundToPrecision=function(v,L){var U=e||L;if(isNaN(v)||isNaN(U))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(U).replace(/0+$/,"")};F=g.hpf=g.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return J(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return J(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return J(v,16)};var ne=g.f2=g.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return J(v,2)},O=g.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return J(v,3)},M=g.scale=g.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return N===w.COMPAT?v*De:N===w.ADVANCED?v:void 0},G=function(v){return N===w.COMPAT?hs()-v:N===w.ADVANCED?v:void 0},W=function(v){return M(G(v))};g.__private__.setPrecision=g.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(e=parseInt(v,10))};var de,ue="00000000000000000000000000000000",pe=g.__private__.getFileId=function(){return ue},V=g.__private__.setFileId=function(v){return ue=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():ue.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Tn=new To(f.userPermissions,f.userPassword,f.ownerPassword,ue)),ue};g.setFileId=function(v){return V(v),this},g.getFileId=function(){return pe()};var ie=g.__private__.convertDateToPDFDate=function(v){var L=v.getTimezoneOffset(),U=L<0?"+":"-",K=Math.floor(Math.abs(L/60)),se=Math.abs(L%60),me=[U,q(K),"'",q(se),"'"].join("");return["D:",v.getFullYear(),q(v.getMonth()+1),q(v.getDate()),q(v.getHours()),q(v.getMinutes()),q(v.getSeconds()),me].join("")},ae=g.__private__.convertPDFDateToDate=function(v){var L=parseInt(v.substr(2,4),10),U=parseInt(v.substr(6,2),10)-1,K=parseInt(v.substr(8,2),10),se=parseInt(v.substr(10,2),10),me=parseInt(v.substr(12,2),10),Se=parseInt(v.substr(14,2),10);return new Date(L,U,K,se,me,Se,0)},Ne=g.__private__.setCreationDate=function(v){var L;if(v===void 0&&(v=new Date),v instanceof Date)L=ie(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");L=v}return de=L},P=g.__private__.getCreationDate=function(v){var L=de;return v==="jsDate"&&(L=ae(de)),L};g.setCreationDate=function(v){return Ne(v),this},g.getCreationDate=function(v){return P(v)};var z,q=g.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},Y=g.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},te=0,ce=[],he=[],fe=0,Le=[],je=[],Te=!1,Ae=he,Ve=function(){te=0,fe=0,he=[],ce=[],Le=[],Mi=sn(),Hr=sn()};g.__private__.setCustomOutputDestination=function(v){Te=!0,Ae=v};var ve=function(v){Te||(Ae=v)};g.__private__.resetCustomOutputDestination=function(){Te=!1,Ae=he};var H=g.__private__.out=function(v){return v=v.toString(),fe+=v.length+1,Ae.push(v),Ae},tt=g.__private__.write=function(v){return H(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},Be=g.__private__.getArrayBuffer=function(v){for(var L=v.length,U=new ArrayBuffer(L),K=new Uint8Array(U);L--;)K[L]=v.charCodeAt(L);return U},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return ke};var Pe=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(v){return Pe=N===w.ADVANCED?v/De:v,this};var Oe,Ie=g.__private__.getFontSize=g.getFontSize=function(){return N===w.COMPAT?Pe:Pe*De},ze=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(v){return ze=v,this},g.__private__.getR2L=g.getR2L=function(){return ze};var Qe,st=g.__private__.setZoomMode=function(v){var L=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))Oe=v;else if(isNaN(v)){if(L.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');Oe=v}else Oe=parseInt(v,10)};g.__private__.getZoomMode=function(){return Oe};var at,pt=g.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');Qe=v};g.__private__.getPageMode=function(){return Qe};var _t=g.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');at=v};g.__private__.getLayoutMode=function(){return at},g.__private__.setDisplayMode=g.setDisplayMode=function(v,L,U){return st(v),_t(L),pt(U),this};var Ke={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(v){if(Object.keys(Ke).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ke[v]},g.__private__.getDocumentProperties=function(){return Ke},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(v){for(var L in Ke)Ke.hasOwnProperty(L)&&v[L]&&(Ke[L]=v[L]);return this},g.__private__.setDocumentProperty=function(v,L){if(Object.keys(Ke).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ke[v]=L};var lt,De,In,vt,Ur,Pt={},Ft={},hi=[],xt={},oa={},Wt={},qr={},Di=null,Ht=0,Xe=[],bt=new M2(g),la=t.hotfixes||[],kn={},fi={},pi=[],He=function v(L,U,K,se,me,Se){if(!(this instanceof v))return new v(L,U,K,se,me,Se);isNaN(L)&&(L=1),isNaN(U)&&(U=0),isNaN(K)&&(K=0),isNaN(se)&&(se=1),isNaN(me)&&(me=0),isNaN(Se)&&(Se=0),this._matrix=[L,U,K,se,me,Se]};Object.defineProperty(He.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(He.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(He.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(He.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(He.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(He.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(He.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(He.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(He.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(He.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(He.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(He.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(He.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(He.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(He.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(He.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),He.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(v)},He.prototype.multiply=function(v){var L=v.sx*this.sx+v.shy*this.shx,U=v.sx*this.shy+v.shy*this.sy,K=v.shx*this.sx+v.sy*this.shx,se=v.shx*this.shy+v.sy*this.sy,me=v.tx*this.sx+v.ty*this.shx+this.tx,Se=v.tx*this.shy+v.ty*this.sy+this.ty;return new He(L,U,K,se,me,Se)},He.prototype.decompose=function(){var v=this.sx,L=this.shy,U=this.shx,K=this.sy,se=this.tx,me=this.ty,Se=Math.sqrt(v*v+L*L),Me=(v/=Se)*U+(L/=Se)*K;U-=v*Me,K-=L*Me;var Ue=Math.sqrt(U*U+K*K);return Me/=Ue,v*(K/=Ue)<L*(U/=Ue)&&(v=-v,L=-L,Me=-Me,Se=-Se),{scale:new He(Se,0,0,Ue,0,0),translate:new He(1,0,0,1,se,me),rotate:new He(v,L,-L,v,0,0),skew:new He(1,0,Me,1,0,0)}},He.prototype.toString=function(v){return this.join(" ")},He.prototype.inversed=function(){var v=this.sx,L=this.shy,U=this.shx,K=this.sy,se=this.tx,me=this.ty,Se=1/(v*K-L*U),Me=K*Se,Ue=-L*Se,nt=-U*Se,Ze=v*Se;return new He(Me,Ue,nt,Ze,-Me*se-nt*me,-Ue*se-Ze*me)},He.prototype.applyToPoint=function(v){var L=v.x*this.sx+v.y*this.shx+this.tx,U=v.x*this.shy+v.y*this.sy+this.ty;return new io(L,U)},He.prototype.applyToRectangle=function(v){var L=this.applyToPoint(v),U=this.applyToPoint(new io(v.x+v.w,v.y+v.h));return new Al(L.x,L.y,U.x-L.x,U.y-L.y)},He.prototype.clone=function(){var v=this.sx,L=this.shy,U=this.shx,K=this.sy,se=this.tx,me=this.ty;return new He(v,L,U,K,se,me)},g.Matrix=He;var Wr=g.matrixMult=function(v,L){return L.multiply(v)},gi=new He(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=gi;var Xn=function(v,L){if(!oa[v]){var U=(L instanceof Pa?"Sh":"P")+(Object.keys(xt).length+1).toString(10);L.id=U,oa[v]=U,xt[U]=L,bt.publish("addPattern",L)}};g.ShadingPattern=Pa,g.TilingPattern=Go,g.addShadingPattern=function(v,L){return R("addShadingPattern()"),Xn(v,L),this},g.beginTilingPattern=function(v){R("beginTilingPattern()"),Pu(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},g.endTilingPattern=function(v,L){R("endTilingPattern()"),L.stream=je[z].join(`
`),Xn(v,L),bt.publish("endTilingPattern",L),pi.pop().restore()};var hn=g.__private__.newObject=function(){var v=sn();return hr(v,!0),v},sn=g.__private__.newObjectDeferred=function(){return te++,ce[te]=function(){return fe},te},hr=function(v,L){return L=typeof L=="boolean"&&L,ce[v]=fe,L&&H(v+" 0 obj"),v},Ha=g.__private__.newAdditionalObject=function(){var v={objId:sn(),content:""};return Le.push(v),v},Mi=sn(),Hr=sn(),Vr=g.__private__.decodeColorString=function(v){var L=v.split(" ");if(L.length!==2||L[1]!=="g"&&L[1]!=="G")L.length===5&&(L[4]==="k"||L[4]==="K")&&(L=[(1-L[0])*(1-L[3]),(1-L[1])*(1-L[3]),(1-L[2])*(1-L[3]),"r"]);else{var U=parseFloat(L[0]);L=[U,U,U,"r"]}for(var K="#",se=0;se<3;se++)K+=("0"+Math.floor(255*parseFloat(L[se])).toString(16)).slice(-2);return K},Gr=g.__private__.encodeColorString=function(v){var L;typeof v=="string"&&(v={ch1:v});var U=v.ch1,K=v.ch2,se=v.ch3,me=v.ch4,Se=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof U=="string"&&U.charAt(0)!=="#"){var Me=new Dw(U);if(Me.ok)U=Me.toHex();else if(!/^\d*\.?\d*$/.test(U))throw new Error('Invalid color "'+U+'" passed to jsPDF.encodeColorString.')}if(typeof U=="string"&&/^#[0-9A-Fa-f]{3}$/.test(U)&&(U="#"+U[1]+U[1]+U[2]+U[2]+U[3]+U[3]),typeof U=="string"&&/^#[0-9A-Fa-f]{6}$/.test(U)){var Ue=parseInt(U.substr(1),16);U=Ue>>16&255,K=Ue>>8&255,se=255&Ue}if(K===void 0||me===void 0&&U===K&&K===se)if(typeof U=="string")L=U+" "+Se[0];else switch(v.precision){case 2:L=ne(U/255)+" "+Se[0];break;case 3:default:L=O(U/255)+" "+Se[0]}else if(me===void 0||yt(me)==="object"){if(me&&!isNaN(me.a)&&me.a===0)return L=["1.","1.","1.",Se[1]].join(" ");if(typeof U=="string")L=[U,K,se,Se[1]].join(" ");else switch(v.precision){case 2:L=[ne(U/255),ne(K/255),ne(se/255),Se[1]].join(" ");break;default:case 3:L=[O(U/255),O(K/255),O(se/255),Se[1]].join(" ")}}else if(typeof U=="string")L=[U,K,se,me,Se[2]].join(" ");else switch(v.precision){case 2:L=[ne(U),ne(K),ne(se),ne(me),Se[2]].join(" ");break;case 3:default:L=[O(U),O(K),O(se),O(me),Se[2]].join(" ")}return L},mi=g.__private__.getFilters=function(){return a},_r=g.__private__.putStream=function(v){var L=(v=v||{}).data||"",U=v.filters||mi(),K=v.alreadyAppliedFilters||[],se=v.addLength1||!1,me=L.length,Se=v.objectId,Me=function(On){return On};if(f!==null&&Se===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Me=Tn.encryptor(Se,0));var Ue={};U===!0&&(U=["FlateEncode"]);var nt=v.additionalKeyValues||[],Ze=(Ue=We.API.processDataByFilters!==void 0?We.API.processDataByFilters(L,U):{data:L,reverseChain:[]}).reverseChain+(Array.isArray(K)?K.join(" "):K.toString());if(Ue.data.length!==0&&(nt.push({key:"Length",value:Ue.data.length}),se===!0&&nt.push({key:"Length1",value:me})),Ze.length!=0)if(Ze.split("/").length-1==1)nt.push({key:"Filter",value:Ze});else{nt.push({key:"Filter",value:"["+Ze+"]"});for(var ht=0;ht<nt.length;ht+=1)if(nt[ht].key==="DecodeParms"){for(var Bt=[],Vt=0;Vt<Ue.reverseChain.split("/").length-1;Vt+=1)Bt.push("null");Bt.push(nt[ht].value),nt[ht].value="["+Bt.join(" ")+"]"}}H("<<");for(var an=0;an<nt.length;an++)H("/"+nt[an].key+" "+nt[an].value);H(">>"),Ue.data.length!==0&&(H("stream"),H(Me(Ue.data)),H("endstream"))},vi=g.__private__.putPage=function(v){var L=v.number,U=v.data,K=v.objId,se=v.contentsObjId;hr(K,!0),H("<</Type /Page"),H("/Parent "+v.rootDictionaryObjId+" 0 R"),H("/Resources "+v.resourceDictionaryObjId+" 0 R"),H("/MediaBox ["+parseFloat(F(v.mediaBox.bottomLeftX))+" "+parseFloat(F(v.mediaBox.bottomLeftY))+" "+F(v.mediaBox.topRightX)+" "+F(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&H("/CropBox ["+F(v.cropBox.bottomLeftX)+" "+F(v.cropBox.bottomLeftY)+" "+F(v.cropBox.topRightX)+" "+F(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&H("/BleedBox ["+F(v.bleedBox.bottomLeftX)+" "+F(v.bleedBox.bottomLeftY)+" "+F(v.bleedBox.topRightX)+" "+F(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&H("/TrimBox ["+F(v.trimBox.bottomLeftX)+" "+F(v.trimBox.bottomLeftY)+" "+F(v.trimBox.topRightX)+" "+F(v.trimBox.topRightY)+"]"),v.artBox!==null&&H("/ArtBox ["+F(v.artBox.bottomLeftX)+" "+F(v.artBox.bottomLeftY)+" "+F(v.artBox.topRightX)+" "+F(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&H("/UserUnit "+v.userUnit),bt.publish("putPage",{objId:K,pageContext:Xe[L],pageNumber:L,page:U}),H("/Contents "+se+" 0 R"),H(">>"),H("endobj");var me=U.join(`
`);return N===w.ADVANCED&&(me+=`
Q`),hr(se,!0),_r({data:me,filters:mi(),objectId:se}),H("endobj"),K},ca=g.__private__.putPages=function(){var v,L,U=[];for(v=1;v<=Ht;v++)Xe[v].objId=sn(),Xe[v].contentsObjId=sn();for(v=1;v<=Ht;v++)U.push(vi({number:v,data:je[v],objId:Xe[v].objId,contentsObjId:Xe[v].contentsObjId,mediaBox:Xe[v].mediaBox,cropBox:Xe[v].cropBox,bleedBox:Xe[v].bleedBox,trimBox:Xe[v].trimBox,artBox:Xe[v].artBox,userUnit:Xe[v].userUnit,rootDictionaryObjId:Mi,resourceDictionaryObjId:Hr}));hr(Mi,!0),H("<</Type /Pages");var K="/Kids [";for(L=0;L<Ht;L++)K+=U[L]+" 0 R ";H(K+"]"),H("/Count "+Ht),H(">>"),H("endobj"),bt.publish("postPutPages")},Va=function(v){bt.publish("putFont",{font:v,out:H,newObject:hn,putStream:_r}),v.isAlreadyPutted!==!0&&(v.objectNumber=hn(),H("<<"),H("/Type /Font"),H("/BaseFont /"+Oo(v.postScriptName)),H("/Subtype /Type1"),typeof v.encoding=="string"&&H("/Encoding /"+v.encoding),H("/FirstChar 32"),H("/LastChar 255"),H(">>"),H("endobj"))},Ga=function(){for(var v in Pt)Pt.hasOwnProperty(v)&&(p===!1||p===!0&&m.hasOwnProperty(v))&&Va(Pt[v])},Ka=function(v){v.objectNumber=hn();var L=[];L.push({key:"Type",value:"/XObject"}),L.push({key:"Subtype",value:"/Form"}),L.push({key:"BBox",value:"["+[F(v.x),F(v.y),F(v.x+v.width),F(v.y+v.height)].join(" ")+"]"}),L.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var U=v.pages[1].join(`
`);_r({data:U,additionalKeyValues:L,objectId:v.objectNumber}),H("endobj")},Ja=function(){for(var v in kn)kn.hasOwnProperty(v)&&Ka(kn[v])},uu=function(v,L){var U,K=[],se=1/(L-1);for(U=0;U<1;U+=se)K.push(U);if(K.push(1),v[0].offset!=0){var me={offset:0,color:v[0].color};v.unshift(me)}if(v[v.length-1].offset!=1){var Se={offset:1,color:v[v.length-1].color};v.push(Se)}for(var Me="",Ue=0,nt=0;nt<K.length;nt++){for(U=K[nt];U>v[Ue+1].offset;)Ue++;var Ze=v[Ue].offset,ht=(U-Ze)/(v[Ue+1].offset-Ze),Bt=v[Ue].color,Vt=v[Ue+1].color;Me+=Y(Math.round((1-ht)*Bt[0]+ht*Vt[0]).toString(16))+Y(Math.round((1-ht)*Bt[1]+ht*Vt[1]).toString(16))+Y(Math.round((1-ht)*Bt[2]+ht*Vt[2]).toString(16))}return Me.trim()},rf=function(v,L){L||(L=21);var U=hn(),K=uu(v.colors,L),se=[];se.push({key:"FunctionType",value:"0"}),se.push({key:"Domain",value:"[0.0 1.0]"}),se.push({key:"Size",value:"["+L+"]"}),se.push({key:"BitsPerSample",value:"8"}),se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_r({data:K,additionalKeyValues:se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:U}),H("endobj"),v.objectNumber=hn(),H("<< /ShadingType "+v.type),H("/ColorSpace /DeviceRGB");var me="/Coords ["+F(parseFloat(v.coords[0]))+" "+F(parseFloat(v.coords[1]))+" ";v.type===2?me+=F(parseFloat(v.coords[2]))+" "+F(parseFloat(v.coords[3])):me+=F(parseFloat(v.coords[2]))+" "+F(parseFloat(v.coords[3]))+" "+F(parseFloat(v.coords[4]))+" "+F(parseFloat(v.coords[5])),H(me+="]"),v.matrix&&H("/Matrix ["+v.matrix.toString()+"]"),H("/Function "+U+" 0 R"),H("/Extend [true true]"),H(">>"),H("endobj")},sf=function(v,L){var U=sn(),K=hn();L.push({resourcesOid:U,objectOid:K}),v.objectNumber=K;var se=[];se.push({key:"Type",value:"/Pattern"}),se.push({key:"PatternType",value:"1"}),se.push({key:"PaintType",value:"1"}),se.push({key:"TilingType",value:"1"}),se.push({key:"BBox",value:"["+v.boundingBox.map(F).join(" ")+"]"}),se.push({key:"XStep",value:F(v.xStep)}),se.push({key:"YStep",value:F(v.yStep)}),se.push({key:"Resources",value:U+" 0 R"}),v.matrix&&se.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),_r({data:v.stream,additionalKeyValues:se,objectId:v.objectNumber}),H("endobj")},Ya=function(v){var L;for(L in xt)xt.hasOwnProperty(L)&&(xt[L]instanceof Pa?rf(xt[L]):xt[L]instanceof Go&&sf(xt[L],v))},du=function(v){for(var L in v.objectNumber=hn(),H("<<"),v)switch(L){case"opacity":H("/ca "+ne(v[L]));break;case"stroke-opacity":H("/CA "+ne(v[L]))}H(">>"),H("endobj")},af=function(){var v;for(v in Wt)Wt.hasOwnProperty(v)&&du(Wt[v])},xl=function(){for(var v in H("/XObject <<"),kn)kn.hasOwnProperty(v)&&kn[v].objectNumber>=0&&H("/"+v+" "+kn[v].objectNumber+" 0 R");bt.publish("putXobjectDict"),H(">>")},of=function(){Tn.oid=hn(),H("<<"),H("/Filter /Standard"),H("/V "+Tn.v),H("/R "+Tn.r),H("/U <"+Tn.toHexString(Tn.U)+">"),H("/O <"+Tn.toHexString(Tn.O)+">"),H("/P "+Tn.P),H(">>"),H("endobj")},hu=function(){for(var v in H("/Font <<"),Pt)Pt.hasOwnProperty(v)&&(p===!1||p===!0&&m.hasOwnProperty(v))&&H("/"+v+" "+Pt[v].objectNumber+" 0 R");H(">>")},lf=function(){if(Object.keys(xt).length>0){for(var v in H("/Shading <<"),xt)xt.hasOwnProperty(v)&&xt[v]instanceof Pa&&xt[v].objectNumber>=0&&H("/"+v+" "+xt[v].objectNumber+" 0 R");bt.publish("putShadingPatternDict"),H(">>")}},Qa=function(v){if(Object.keys(xt).length>0){for(var L in H("/Pattern <<"),xt)xt.hasOwnProperty(L)&&xt[L]instanceof g.TilingPattern&&xt[L].objectNumber>=0&&xt[L].objectNumber<v&&H("/"+L+" "+xt[L].objectNumber+" 0 R");bt.publish("putTilingPatternDict"),H(">>")}},cf=function(){if(Object.keys(Wt).length>0){var v;for(v in H("/ExtGState <<"),Wt)Wt.hasOwnProperty(v)&&Wt[v].objectNumber>=0&&H("/"+v+" "+Wt[v].objectNumber+" 0 R");bt.publish("putGStateDict"),H(">>")}},Yt=function(v){hr(v.resourcesOid,!0),H("<<"),H("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),hu(),lf(),Qa(v.objectOid),cf(),xl(),H(">>"),H("endobj")},fu=function(){var v=[];Ga(),af(),Ja(),Ya(v),bt.publish("putResources"),v.forEach(Yt),Yt({resourcesOid:Hr,objectOid:Number.MAX_SAFE_INTEGER}),bt.publish("postPutResources")},pu=function(){bt.publish("putAdditionalObjects");for(var v=0;v<Le.length;v++){var L=Le[v];hr(L.objId,!0),H(L.content),H("endobj")}bt.publish("postPutAdditionalObjects")},gu=function(v){Ft[v.fontName]=Ft[v.fontName]||{},Ft[v.fontName][v.fontStyle]=v.id},bl=function(v,L,U,K,se){var me={id:"F"+(Object.keys(Pt).length+1).toString(10),postScriptName:v,fontName:L,fontStyle:U,encoding:K,isStandardFont:se||!1,metadata:{}};return bt.publish("addFont",{font:me,instance:this}),Pt[me.id]=me,gu(me),me.id},uf=function(v){for(var L=0,U=ke.length;L<U;L++){var K=bl.call(this,v[L][0],v[L][1],v[L][2],ke[L][3],!0);p===!1&&(m[K]=!0);var se=v[L][0].split("-");gu({id:K,fontName:se[0],fontStyle:se[1]||""})}bt.publish("addFonts",{fonts:Pt,dictionary:Ft})},Kr=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(K){var L=K.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var U="Error in function "+L.split(`
`)[0].split("<")[0]+": "+K.message;if(!Ge.console)throw new Error(U);Ge.console.error(U,K),Ge.alert&&alert(U)}},v.foo.bar=v,v.foo},Xa=function(v,L){var U,K,se,me,Se,Me,Ue,nt,Ze;if(se=(L=L||{}).sourceEncoding||"Unicode",Se=L.outputEncoding,(L.autoencode||Se)&&Pt[lt].metadata&&Pt[lt].metadata[se]&&Pt[lt].metadata[se].encoding&&(me=Pt[lt].metadata[se].encoding,!Se&&Pt[lt].encoding&&(Se=Pt[lt].encoding),!Se&&me.codePages&&(Se=me.codePages[0]),typeof Se=="string"&&(Se=me[Se]),Se)){for(Ue=!1,Me=[],U=0,K=v.length;U<K;U++)(nt=Se[v.charCodeAt(U)])?Me.push(String.fromCharCode(nt)):Me.push(v[U]),Me[U].charCodeAt(0)>>8&&(Ue=!0);v=Me.join("")}for(U=v.length;Ue===void 0&&U!==0;)v.charCodeAt(U-1)>>8&&(Ue=!0),U--;if(!Ue)return v;for(Me=L.noBOM?[]:[254,255],U=0,K=v.length;U<K;U++){if((Ze=(nt=v.charCodeAt(U))>>8)>>8)throw new Error("Character at position "+U+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Me.push(Ze),Me.push(nt-(Ze<<8))}return String.fromCharCode.apply(void 0,Me)},Zn=g.__private__.pdfEscape=g.pdfEscape=function(v,L){return Xa(v,L).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sl=g.__private__.beginPage=function(v){je[++Ht]=[],Xe[Ht]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},vu(Ht),ve(je[z])},mu=function(v,L){var U,K,se;switch(n=L||n,typeof v=="string"&&(U=x(v.toLowerCase()),Array.isArray(U)&&(K=U[0],se=U[1])),Array.isArray(v)&&(K=v[0]*De,se=v[1]*De),isNaN(K)&&(K=i[0],se=i[1]),(K>14400||se>14400)&&(At.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),K=Math.min(14400,K),se=Math.min(14400,se)),i=[K,se],n.substr(0,1)){case"l":se>K&&(i=[se,K]);break;case"p":K>se&&(i=[se,K])}Sl(i),Nu(jl),H(Jr),Pl!==0&&H(Pl+" J"),Cl!==0&&H(Cl+" j"),bt.publish("addPage",{pageNumber:Ht})},df=function(v){v>0&&v<=Ht&&(je.splice(v,1),Xe.splice(v,1),Ht--,z>Ht&&(z=Ht),this.setPage(z))},vu=function(v){v>0&&v<=Ht&&(z=v)},hf=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return je.length-1},yu=function(v,L,U){var K,se=void 0;return U=U||{},v=v!==void 0?v:Pt[lt].fontName,L=L!==void 0?L:Pt[lt].fontStyle,K=v.toLowerCase(),Ft[K]!==void 0&&Ft[K][L]!==void 0?se=Ft[K][L]:Ft[v]!==void 0&&Ft[v][L]!==void 0?se=Ft[v][L]:U.disableWarning===!1&&At.warn("Unable to look up font label for font '"+v+"', '"+L+"'. Refer to getFontList() for available fonts."),se||U.noFallback||(se=Ft.times[L])==null&&(se=Ft.times.normal),se},ff=g.__private__.putInfo=function(){var v=hn(),L=function(K){return K};for(var U in f!==null&&(L=Tn.encryptor(v,0)),H("<<"),H("/Producer ("+Zn(L("jsPDF "+We.version))+")"),Ke)Ke.hasOwnProperty(U)&&Ke[U]&&H("/"+U.substr(0,1).toUpperCase()+U.substr(1)+" ("+Zn(L(Ke[U]))+")");H("/CreationDate ("+Zn(L(de))+")"),H(">>"),H("endobj")},Nl=g.__private__.putCatalog=function(v){var L=(v=v||{}).rootDictionaryObjId||Mi;switch(hn(),H("<<"),H("/Type /Catalog"),H("/Pages "+L+" 0 R"),Oe||(Oe="fullwidth"),Oe){case"fullwidth":H("/OpenAction [3 0 R /FitH null]");break;case"fullheight":H("/OpenAction [3 0 R /FitV null]");break;case"fullpage":H("/OpenAction [3 0 R /Fit]");break;case"original":H("/OpenAction [3 0 R /XYZ null null 1]");break;default:var U=""+Oe;U.substr(U.length-1)==="%"&&(Oe=parseInt(Oe)/100),typeof Oe=="number"&&H("/OpenAction [3 0 R /XYZ null null "+ne(Oe)+"]")}switch(at||(at="continuous"),at){case"continuous":H("/PageLayout /OneColumn");break;case"single":H("/PageLayout /SinglePage");break;case"two":case"twoleft":H("/PageLayout /TwoColumnLeft");break;case"tworight":H("/PageLayout /TwoColumnRight")}Qe&&H("/PageMode /"+Qe),bt.publish("putCatalog"),H(">>"),H("endobj")},pf=g.__private__.putTrailer=function(){H("trailer"),H("<<"),H("/Size "+(te+1)),H("/Root "+te+" 0 R"),H("/Info "+(te-1)+" 0 R"),f!==null&&H("/Encrypt "+Tn.oid+" 0 R"),H("/ID [ <"+ue+"> <"+ue+"> ]"),H(">>")},gf=g.__private__.putHeader=function(){H("%PDF-"+b),H("%ºß¬à")},mf=g.__private__.putXRef=function(){var v="0000000000";H("xref"),H("0 "+(te+1)),H("0000000000 65535 f ");for(var L=1;L<=te;L++)typeof ce[L]=="function"?H((v+ce[L]()).slice(-10)+" 00000 n "):ce[L]!==void 0?H((v+ce[L]).slice(-10)+" 00000 n "):H("0000000000 00000 n ")},Ri=g.__private__.buildDocument=function(){Ve(),ve(he),bt.publish("buildDocument"),gf(),ca(),pu(),fu(),f!==null&&of(),ff(),Nl();var v=fe;return mf(),pf(),H("startxref"),H(""+v),H("%%EOF"),ve(je[z]),he.join(`
`)},Za=g.__private__.getBlob=function(v){return new Blob([Be(v)],{type:"application/pdf"})},eo=g.output=g.__private__.output=Kr(function(v,L){switch(typeof(L=L||{})=="string"?L={filename:L}:L.filename=L.filename||"generated.pdf",v){case void 0:return Ri();case"save":g.save(L.filename);break;case"arraybuffer":return Be(Ri());case"blob":return Za(Ri());case"bloburi":case"bloburl":if(Ge.URL!==void 0&&typeof Ge.URL.createObjectURL=="function")return Ge.URL&&Ge.URL.createObjectURL(Za(Ri()))||void 0;At.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var U="",K=Ri();try{U=em(K)}catch{U=em(unescape(encodeURIComponent(K)))}return"data:application/pdf;filename="+L.filename+";base64,"+U;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ge)==="[object Window]"){var se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",me=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';L.pdfObjectUrl&&(se=L.pdfObjectUrl,me="");var Se='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+se+'"'+me+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(L)+");<\/script></body></html>",Me=Ge.open();return Me!==null&&Me.document.write(Se),Me}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ge)==="[object Window]"){var Ue='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(L.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+L.filename+'" width="500px" height="400px" /></body></html>',nt=Ge.open();if(nt!==null){nt.document.write(Ue);var Ze=this;nt.document.documentElement.querySelector("#pdfViewer").onload=function(){nt.document.title=L.filename,nt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ze.output("bloburl"))}}return nt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ge)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",L)+'"></iframe></body></html>',Bt=Ge.open();if(Bt!==null&&(Bt.document.write(ht),Bt.document.title=L.filename),Bt||typeof safari>"u")return Bt;break;case"datauri":case"dataurl":return Ge.document.location.href=this.output("datauristring",L);default:return null}}),wu=function(v){return Array.isArray(la)===!0&&la.indexOf(v)>-1};switch(r){case"pt":De=1;break;case"mm":De=72/25.4;break;case"cm":De=72/2.54;break;case"in":De=72;break;case"px":De=wu("px_scaling")==1?.75:96/72;break;case"pc":case"em":De=12;break;case"ex":De=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);De=r}var Tn=null;Ne(),V();var vf=function(v){return f!==null?Tn.encryptor(v,0):function(L){return L}},xu=g.__private__.getPageInfo=g.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Xe[v].objId,pageNumber:v,pageContext:Xe[v]}},Je=g.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var L in Xe)if(Xe[L].objId===v)break;return xu(L)},yf=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Xe[z].objId,pageNumber:z,pageContext:Xe[z]}};g.addPage=function(){return mu.apply(this,arguments),this},g.setPage=function(){return vu.apply(this,arguments),ve.call(this,je[z]),this},g.insertPage=function(v){return this.addPage(),this.movePage(z,v),this},g.movePage=function(v,L){var U,K;if(v>L){U=je[v],K=Xe[v];for(var se=v;se>L;se--)je[se]=je[se-1],Xe[se]=Xe[se-1];je[L]=U,Xe[L]=K,this.setPage(L)}else if(v<L){U=je[v],K=Xe[v];for(var me=v;me<L;me++)je[me]=je[me+1],Xe[me]=Xe[me+1];je[L]=U,Xe[L]=K,this.setPage(L)}return this},g.deletePage=function(){return df.apply(this,arguments),this},g.__private__.text=g.text=function(v,L,U,K,se){var me,Se,Me,Ue,nt,Ze,ht,Bt,Vt,an=(K=K||{}).scope||this;if(typeof v=="number"&&typeof L=="number"&&(typeof U=="string"||Array.isArray(U))){var On=U;U=L,L=v,v=On}if(arguments[3]instanceof He?(R("The transform parameter of text() with a Matrix value"),Vt=se):(Me=arguments[4],Ue=arguments[5],yt(ht=arguments[3])==="object"&&ht!==null||(typeof Me=="string"&&(Ue=Me,Me=null),typeof ht=="string"&&(Ue=ht,ht=null),typeof ht=="number"&&(Me=ht,ht=null),K={flags:ht,angle:Me,align:Ue})),isNaN(L)||isNaN(U)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return an;var yn="",Yr=!1,fr=typeof K.lineHeightFactor=="number"?K.lineHeightFactor:da,xi=an.internal.scaleFactor;function Cu(Et){return Et=Et.split("	").join(Array(K.TabLen||9).join(" ")),Zn(Et,ht)}function Ol(Et){for(var It,Xt=Et.concat(),fn=[],Ui=Xt.length;Ui--;)typeof(It=Xt.shift())=="string"?fn.push(It):Array.isArray(Et)&&(It.length===1||It[1]===void 0&&It[2]===void 0)?fn.push(It[0]):fn.push([It[0],It[1],It[2]]);return fn}function Dl(Et,It){var Xt;if(typeof Et=="string")Xt=It(Et)[0];else if(Array.isArray(Et)){for(var fn,Ui,ql=Et.concat(),mo=[],Ou=ql.length;Ou--;)typeof(fn=ql.shift())=="string"?mo.push(It(fn)[0]):Array.isArray(fn)&&typeof fn[0]=="string"&&(Ui=It(fn[0],fn[1],fn[2]),mo.push([Ui[0],Ui[1],Ui[2]]));Xt=mo}return Xt}var ao=!1,Ml=!0;if(typeof v=="string")ao=!0;else if(Array.isArray(v)){var Rl=v.concat();Se=[];for(var oo,_n=Rl.length;_n--;)(typeof(oo=Rl.shift())!="string"||Array.isArray(oo)&&typeof oo[0]!="string")&&(Ml=!1);ao=Ml}if(ao===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var lo=Pe/an.internal.scaleFactor,co=lo*(fr-1);switch(K.baseline){case"bottom":U-=co;break;case"top":U+=lo-co;break;case"hanging":U+=lo-2*co;break;case"middle":U+=lo/2-co}if((Ze=K.maxWidth||0)>0&&(typeof v=="string"?v=an.splitTextToSize(v,Ze):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(Et,It){return Et.concat(an.splitTextToSize(It,Ze))},[]))),me={text:v,x:L,y:U,options:K,mutex:{pdfEscape:Zn,activeFontKey:lt,fonts:Pt,activeFontSize:Pe}},bt.publish("preProcessText",me),v=me.text,Me=(K=me.options).angle,!(Vt instanceof He)&&Me&&typeof Me=="number"){Me*=Math.PI/180,K.rotationDirection===0&&(Me=-Me),N===w.ADVANCED&&(Me=-Me);var uo=Math.cos(Me),Fl=Math.sin(Me);Vt=new He(uo,Fl,-Fl,uo,0,0)}else Me&&Me instanceof He&&(Vt=Me);N!==w.ADVANCED||Vt||(Vt=gi),(nt=K.charSpace||ro)!==void 0&&(yn+=F(M(nt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Bt=K.horizontalScale)!==void 0&&(yn+=F(100*Bt)+` Tz
`),K.lang;var er=-1,Pf=K.renderingMode!==void 0?K.renderingMode:K.stroke,$l=an.internal.getCurrentPageInfo().pageContext;switch(Pf){case 0:case!1:case"fill":er=0;break;case 1:case!0:case"stroke":er=1;break;case 2:case"fillThenStroke":er=2;break;case 3:case"invisible":er=3;break;case 4:case"fillAndAddForClipping":er=4;break;case 5:case"strokeAndAddPathForClipping":er=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":er=6;break;case 7:case"addToPathForClipping":er=7}var Au=$l.usedRenderingMode!==void 0?$l.usedRenderingMode:-1;er!==-1?yn+=er+` Tr
`:Au!==-1&&(yn+=`0 Tr
`),er!==-1&&($l.usedRenderingMode=er),Ue=K.align||"left";var jr,ho=Pe*fr,Eu=an.internal.pageSize.getWidth(),Iu=Pt[lt];nt=K.charSpace||ro,Ze=K.maxWidth||0,ht=Object.assign({autoencode:!0,noBOM:!0},K.flags);var fs=[],pa=function(Et){return an.getStringUnitWidth(Et,{font:Iu,charSpace:nt,fontSize:Pe,doKerning:!1})*Pe/xi};if(Object.prototype.toString.call(v)==="[object Array]"){var tr;Se=Ol(v),Ue!=="left"&&(jr=Se.map(pa));var Wn,ps=0;if(Ue==="right"){L-=jr[0],v=[],_n=Se.length;for(var $i=0;$i<_n;$i++)$i===0?(Wn=wi(L),tr=Fi(U)):(Wn=M(ps-jr[$i]),tr=-ho),v.push([Se[$i],Wn,tr]),ps=jr[$i]}else if(Ue==="center"){L-=jr[0]/2,v=[],_n=Se.length;for(var Bi=0;Bi<_n;Bi++)Bi===0?(Wn=wi(L),tr=Fi(U)):(Wn=M((ps-jr[Bi])/2),tr=-ho),v.push([Se[Bi],Wn,tr]),ps=jr[Bi]}else if(Ue==="left"){v=[],_n=Se.length;for(var fo=0;fo<_n;fo++)v.push(Se[fo])}else if(Ue==="justify"&&Iu.encoding==="Identity-H"){v=[],_n=Se.length,Ze=Ze!==0?Ze:Eu;for(var zi=0,Qt=0;Qt<_n;Qt++)if(tr=Qt===0?Fi(U):-ho,Wn=Qt===0?wi(L):zi,Qt<_n-1){var Bl=M((Ze-jr[Qt])/(Se[Qt].split(" ").length-1)),Hn=Se[Qt].split(" ");v.push([Hn[0]+" ",Wn,tr]),zi=0;for(var Lr=1;Lr<Hn.length;Lr++){var po=(pa(Hn[Lr-1]+" "+Hn[Lr])-pa(Hn[Lr]))*xi+Bl;Lr==Hn.length-1?v.push([Hn[Lr],po,0]):v.push([Hn[Lr]+" ",po,0]),zi-=po}}else v.push([Se[Qt],Wn,tr]);v.push(["",zi,0])}else{if(Ue!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],_n=Se.length,Ze=Ze!==0?Ze:Eu,Qt=0;Qt<_n;Qt++)tr=Qt===0?Fi(U):-ho,Wn=Qt===0?wi(L):0,Qt<_n-1?fs.push(F(M((Ze-jr[Qt])/(Se[Qt].split(" ").length-1)))):fs.push(0),v.push([Se[Qt],Wn,tr])}}var Tu=typeof K.R2L=="boolean"?K.R2L:ze;Tu===!0&&(v=Dl(v,function(Et,It,Xt){return[Et.split("").reverse().join(""),It,Xt]})),me={text:v,x:L,y:U,options:K,mutex:{pdfEscape:Zn,activeFontKey:lt,fonts:Pt,activeFontSize:Pe}},bt.publish("postProcessText",me),v=me.text,Yr=me.mutex.isHex||!1;var zl=Pt[lt].encoding;zl!=="WinAnsiEncoding"&&zl!=="StandardEncoding"||(v=Dl(v,function(Et,It,Xt){return[Cu(Et),It,Xt]})),Se=Ol(v),v=[];for(var ga,ma,gs,va=0,go=1,ya=Array.isArray(Se[0])?go:va,ms="",Ul=function(Et,It,Xt){var fn="";return Xt instanceof He?(Xt=typeof K.angle=="number"?Wr(Xt,new He(1,0,0,1,Et,It)):Wr(new He(1,0,0,1,Et,It),Xt),N===w.ADVANCED&&(Xt=Wr(new He(1,0,0,-1,0,0),Xt)),fn=Xt.join(" ")+` Tm
`):fn=F(Et)+" "+F(It)+` Td
`,fn},Pr=0;Pr<Se.length;Pr++){switch(ms="",ya){case go:gs=(Yr?"<":"(")+Se[Pr][0]+(Yr?">":")"),ga=parseFloat(Se[Pr][1]),ma=parseFloat(Se[Pr][2]);break;case va:gs=(Yr?"<":"(")+Se[Pr]+(Yr?">":")"),ga=wi(L),ma=Fi(U)}fs!==void 0&&fs[Pr]!==void 0&&(ms=fs[Pr]+` Tw
`),Pr===0?v.push(ms+Ul(ga,ma,Vt)+gs):ya===va?v.push(ms+gs):ya===go&&v.push(ms+Ul(ga,ma,Vt)+gs)}v=ya===va?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var Cr=`BT
/`;return Cr+=lt+" "+Pe+` Tf
`,Cr+=F(Pe*fr)+` TL
`,Cr+=ha+`
`,Cr+=yn,Cr+=v,H(Cr+="ET"),m[lt]=!0,an};var wf=g.__private__.clip=g.clip=function(v){return H(v==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return wf("evenodd")},g.__private__.discardPath=g.discardPath=function(){return H("n"),this};var yi=g.__private__.isValidStyle=function(v){var L=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(L=!0),L};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(v){return yi(v)&&(u=v),this};var bu=g.__private__.getStyle=g.getStyle=function(v){var L=u;switch(v){case"D":case"S":L="S";break;case"F":L="f";break;case"FD":case"DF":L="B";break;case"f":case"f*":case"B":case"B*":L=v}return L},Su=g.close=function(){return H("h"),this};g.stroke=function(){return H("S"),this},g.fill=function(v){return to("f",v),this},g.fillEvenOdd=function(v){return to("f*",v),this},g.fillStroke=function(v){return to("B",v),this},g.fillStrokeEvenOdd=function(v){return to("B*",v),this};var to=function(v,L){yt(L)==="object"?bf(L,v):H(v)},kl=function(v){v===null||N===w.ADVANCED&&v===void 0||(v=bu(v),H(v))};function xf(v,L,U,K,se){var me=new Go(L||this.boundingBox,U||this.xStep,K||this.yStep,this.gState,se||this.matrix);me.stream=this.stream;var Se=v+"$$"+this.cloneIndex+++"$$";return Xn(Se,me),me}var bf=function(v,L){var U=oa[v.key],K=xt[U];if(K instanceof Pa)H("q"),H(Sf(L)),K.gState&&g.setGState(K.gState),H(v.matrix.toString()+" cm"),H("/"+U+" sh"),H("Q");else if(K instanceof Go){var se=new He(1,0,0,-1,0,hs());v.matrix&&(se=se.multiply(v.matrix||gi),U=xf.call(K,v.key,v.boundingBox,v.xStep,v.yStep,se).id),H("q"),H("/Pattern cs"),H("/"+U+" scn"),K.gState&&g.setGState(K.gState),H(L),H("Q")}},Sf=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},_l=g.moveTo=function(v,L){return H(F(M(v))+" "+F(W(L))+" m"),this},ua=g.lineTo=function(v,L){return H(F(M(v))+" "+F(W(L))+" l"),this},us=g.curveTo=function(v,L,U,K,se,me){return H([F(M(v)),F(W(L)),F(M(U)),F(W(K)),F(M(se)),F(W(me)),"c"].join(" ")),this};g.__private__.line=g.line=function(v,L,U,K,se){if(isNaN(v)||isNaN(L)||isNaN(U)||isNaN(K)||!yi(se))throw new Error("Invalid arguments passed to jsPDF.line");return N===w.COMPAT?this.lines([[U-v,K-L]],v,L,[1,1],se||"S"):this.lines([[U-v,K-L]],v,L,[1,1]).stroke()},g.__private__.lines=g.lines=function(v,L,U,K,se,me){var Se,Me,Ue,nt,Ze,ht,Bt,Vt,an,On,yn,Yr;if(typeof v=="number"&&(Yr=U,U=L,L=v,v=Yr),K=K||[1,1],me=me||!1,isNaN(L)||isNaN(U)||!Array.isArray(v)||!Array.isArray(K)||!yi(se)||typeof me!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(_l(L,U),Se=K[0],Me=K[1],nt=v.length,On=L,yn=U,Ue=0;Ue<nt;Ue++)(Ze=v[Ue]).length===2?(On=Ze[0]*Se+On,yn=Ze[1]*Me+yn,ua(On,yn)):(ht=Ze[0]*Se+On,Bt=Ze[1]*Me+yn,Vt=Ze[2]*Se+On,an=Ze[3]*Me+yn,On=Ze[4]*Se+On,yn=Ze[5]*Me+yn,us(ht,Bt,Vt,an,On,yn));return me&&Su(),kl(se),this},g.path=function(v){for(var L=0;L<v.length;L++){var U=v[L],K=U.c;switch(U.op){case"m":_l(K[0],K[1]);break;case"l":ua(K[0],K[1]);break;case"c":us.apply(this,K);break;case"h":Su()}}return this},g.__private__.rect=g.rect=function(v,L,U,K,se){if(isNaN(v)||isNaN(L)||isNaN(U)||isNaN(K)||!yi(se))throw new Error("Invalid arguments passed to jsPDF.rect");return N===w.COMPAT&&(K=-K),H([F(M(v)),F(W(L)),F(M(U)),F(M(K)),"re"].join(" ")),kl(se),this},g.__private__.triangle=g.triangle=function(v,L,U,K,se,me,Se){if(isNaN(v)||isNaN(L)||isNaN(U)||isNaN(K)||isNaN(se)||isNaN(me)||!yi(Se))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[U-v,K-L],[se-U,me-K],[v-se,L-me]],v,L,[1,1],Se,!0),this},g.__private__.roundedRect=g.roundedRect=function(v,L,U,K,se,me,Se){if(isNaN(v)||isNaN(L)||isNaN(U)||isNaN(K)||isNaN(se)||isNaN(me)||!yi(Se))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Me=4/3*(Math.SQRT2-1);return se=Math.min(se,.5*U),me=Math.min(me,.5*K),this.lines([[U-2*se,0],[se*Me,0,se,me-me*Me,se,me],[0,K-2*me],[0,me*Me,-se*Me,me,-se,me],[2*se-U,0],[-se*Me,0,-se,-me*Me,-se,-me],[0,2*me-K],[0,-me*Me,se*Me,-me,se,-me]],v+se,L,[1,1],Se,!0),this},g.__private__.ellipse=g.ellipse=function(v,L,U,K,se){if(isNaN(v)||isNaN(L)||isNaN(U)||isNaN(K)||!yi(se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var me=4/3*(Math.SQRT2-1)*U,Se=4/3*(Math.SQRT2-1)*K;return _l(v+U,L),us(v+U,L-Se,v+me,L-K,v,L-K),us(v-me,L-K,v-U,L-Se,v-U,L),us(v-U,L+Se,v-me,L+K,v,L+K),us(v+me,L+K,v+U,L+Se,v+U,L),kl(se),this},g.__private__.circle=g.circle=function(v,L,U,K){if(isNaN(v)||isNaN(L)||isNaN(U)||!yi(K))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,L,U,U,K)},g.setFont=function(v,L,U){return U&&(L=B(L,U)),lt=yu(v,L,{disableWarning:!1}),this};var Nf=g.__private__.getFont=g.getFont=function(){return Pt[yu.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var v,L,U={};for(v in Ft)if(Ft.hasOwnProperty(v))for(L in U[v]=[],Ft[v])Ft[v].hasOwnProperty(L)&&U[v].push(L);return U},g.addFont=function(v,L,U,K,se){var me=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&me.indexOf(arguments[3])!==-1?se=arguments[3]:arguments[3]&&me.indexOf(arguments[3])==-1&&(U=B(U,K)),se=se||"Identity-H",bl.call(this,v,L,U,se)};var da,jl=t.lineWidth||.200025,no=g.__private__.getLineWidth=g.getLineWidth=function(){return jl},Nu=g.__private__.setLineWidth=g.setLineWidth=function(v){return jl=v,H(F(M(v))+" w"),this};g.__private__.setLineDash=We.API.setLineDash=We.API.setLineDashPattern=function(v,L){if(v=v||[],L=L||0,isNaN(L)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(U){return F(M(U))}).join(" "),L=F(M(L)),H("["+v+"] "+L+" d"),this};var ku=g.__private__.getLineHeight=g.getLineHeight=function(){return Pe*da};g.__private__.getLineHeight=g.getLineHeight=function(){return Pe*da};var _u=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(da=v),this},ju=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return da};_u(t.lineHeight);var wi=g.__private__.getHorizontalCoordinate=function(v){return M(v)},Fi=g.__private__.getVerticalCoordinate=function(v){return N===w.ADVANCED?v:Xe[z].mediaBox.topRightY-Xe[z].mediaBox.bottomLeftY-M(v)},kf=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(v){return F(wi(v))},ds=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(v){return F(Fi(v))},Jr=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Vr(Jr)},g.__private__.setStrokeColor=g.setDrawColor=function(v,L,U,K){return Jr=Gr({ch1:v,ch2:L,ch3:U,ch4:K,pdfColorType:"draw",precision:2}),H(Jr),this};var Ll=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Vr(Ll)},g.__private__.setFillColor=g.setFillColor=function(v,L,U,K){return Ll=Gr({ch1:v,ch2:L,ch3:U,ch4:K,pdfColorType:"fill",precision:2}),H(Ll),this};var ha=t.textColor||"0 g",_f=g.__private__.getTextColor=g.getTextColor=function(){return Vr(ha)};g.__private__.setTextColor=g.setTextColor=function(v,L,U,K){return ha=Gr({ch1:v,ch2:L,ch3:U,ch4:K,pdfColorType:"text",precision:3}),this};var ro=t.charSpace,jf=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(ro||0)};g.__private__.setCharSpace=g.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ro=v,this};var Pl=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(v){var L=g.CapJoinStyles[v];if(L===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pl=L,H(L+" J"),this};var Cl=0;g.__private__.setLineJoin=g.setLineJoin=function(v){var L=g.CapJoinStyles[v];if(L===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Cl=L,H(L+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return H(F(M(v))+" M"),this},g.GState=bh,g.setGState=function(v){(v=typeof v=="string"?Wt[qr[v]]:Lu(null,v)).equals(Di)||(H("/"+v.id+" gs"),Di=v)};var Lu=function(v,L){if(!v||!qr[v]){var U=!1;for(var K in Wt)if(Wt.hasOwnProperty(K)&&Wt[K].equals(L)){U=!0;break}if(U)L=Wt[K];else{var se="GS"+(Object.keys(Wt).length+1).toString(10);Wt[se]=L,L.id=se}return v&&(qr[v]=L.id),bt.publish("addGState",L),L}};g.addGState=function(v,L){return Lu(v,L),this},g.saveGraphicsState=function(){return H("q"),hi.push({key:lt,size:Pe,color:ha}),this},g.restoreGraphicsState=function(){H("Q");var v=hi.pop();return lt=v.key,Pe=v.size,ha=v.color,Di=null,this},g.setCurrentTransformationMatrix=function(v){return H(v.toString()+" cm"),this},g.comment=function(v){return H("#"+v),this};var io=function(v,L){var U=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return U},set:function(me){isNaN(me)||(U=parseFloat(me))}});var K=L||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return K},set:function(me){isNaN(me)||(K=parseFloat(me))}});var se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return se},set:function(me){se=me.toString()}}),this},Al=function(v,L,U,K){io.call(this,v,L),this.type="rect";var se=U||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return se},set:function(Se){isNaN(Se)||(se=parseFloat(Se))}});var me=K||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return me},set:function(Se){isNaN(Se)||(me=parseFloat(Se))}}),this},El=function(){this.page=Ht,this.currentPage=z,this.pages=je.slice(0),this.pagesContext=Xe.slice(0),this.x=In,this.y=vt,this.matrix=Ur,this.width=fa(z),this.height=hs(z),this.outputDestination=Ae,this.id="",this.objectNumber=-1};El.prototype.restore=function(){Ht=this.page,z=this.currentPage,Xe=this.pagesContext,je=this.pages,In=this.x,vt=this.y,Ur=this.matrix,Il(z,this.width),Tl(z,this.height),Ae=this.outputDestination};var Pu=function(v,L,U,K,se){pi.push(new El),Ht=z=0,je=[],In=v,vt=L,Ur=se,Sl([U,K])},Lf=function(v){if(fi[v])pi.pop().restore();else{var L=new El,U="Xo"+(Object.keys(kn).length+1).toString(10);L.id=U,fi[v]=U,kn[U]=L,bt.publish("addFormObject",L),pi.pop().restore()}};for(var so in g.beginFormObject=function(v,L,U,K,se){return Pu(v,L,U,K,se),this},g.endFormObject=function(v){return Lf(v),this},g.doFormObject=function(v,L){var U=kn[fi[v]];return H("q"),H(L.toString()+" cm"),H("/"+U.id+" Do"),H("Q"),this},g.getFormObject=function(v){var L=kn[fi[v]];return{x:L.x,y:L.y,width:L.width,height:L.height,matrix:L.matrix}},g.save=function(v,L){return v=v||"generated.pdf",(L=L||{}).returnPromise=L.returnPromise||!1,L.returnPromise===!1?(_a(Za(Ri()),v),typeof _a.unload=="function"&&Ge.setTimeout&&setTimeout(_a.unload,911),this):new Promise(function(U,K){try{var se=_a(Za(Ri()),v);typeof _a.unload=="function"&&Ge.setTimeout&&setTimeout(_a.unload,911),U(se)}catch(me){K(me.message)}})},We.API)We.API.hasOwnProperty(so)&&(so==="events"&&We.API.events.length?function(v,L){var U,K,se;for(se=L.length-1;se!==-1;se--)U=L[se][0],K=L[se][1],v.subscribe.apply(v,[U].concat(typeof K=="function"?[K]:K))}(bt,We.API.events):g[so]=We.API[so]);var fa=g.getPageWidth=function(v){return(Xe[v=v||z].mediaBox.topRightX-Xe[v].mediaBox.bottomLeftX)/De},Il=g.setPageWidth=function(v,L){Xe[v].mediaBox.topRightX=L*De+Xe[v].mediaBox.bottomLeftX},hs=g.getPageHeight=function(v){return(Xe[v=v||z].mediaBox.topRightY-Xe[v].mediaBox.bottomLeftY)/De},Tl=g.setPageHeight=function(v,L){Xe[v].mediaBox.topRightY=L*De+Xe[v].mediaBox.bottomLeftY};return g.internal={pdfEscape:Zn,getStyle:bu,getFont:Nf,getFontSize:Ie,getCharSpace:jf,getTextColor:_f,getLineHeight:ku,getLineHeightFactor:ju,getLineWidth:no,write:tt,getHorizontalCoordinate:wi,getVerticalCoordinate:Fi,getCoordinateString:kf,getVerticalCoordinateString:ds,collections:{},newObject:hn,newAdditionalObject:Ha,newObjectDeferred:sn,newObjectDeferredBegin:hr,getFilters:mi,putStream:_r,events:bt,scaleFactor:De,pageSize:{getWidth:function(){return fa(z)},setWidth:function(v){Il(z,v)},getHeight:function(){return hs(z)},setHeight:function(v){Tl(z,v)}},encryptionOptions:f,encryption:Tn,getEncryptor:vf,output:eo,getNumberOfPages:hf,pages:je,out:H,f2:ne,f3:O,getPageInfo:xu,getPageInfoByObjId:Je,getCurrentPageInfo:yf,getPDFVersion:k,Point:io,Rectangle:Al,Matrix:He,hasHotfix:wu},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return fa(z)},set:function(v){Il(z,v)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return hs(z)},set:function(v){Tl(z,v)},enumerable:!0,configurable:!0}),uf.call(g,ke),lt="F1",mu(i,n),bt.publish("initialized"),g}To.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},To.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},To.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},To.prototype.processOwnerPassword=function(t,e){return nm(tm(e).substr(0,5),t)},To.prototype.encryptor=function(t,e){var n=tm(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return nm(n,r)}},bh.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||yt(t)!==yt(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},We.API={events:[]},We.version="2.5.2";var Kt=We.API,g0=1,Wa=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Lo=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},et=function(t){return t.toFixed(2)},Ls=function(t){return t.toFixed(5)};Kt.__acroform__={};var dr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},R2=function(t){return t*g0},ki=function(t){var e=new $w,n=$e.internal.getHeight(t)||0,r=$e.internal.getWidth(t)||0;return e.BBox=[0,0,Number(et(r)),Number(et(n))],e},X_=Kt.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Z_=Kt.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},ej=Kt.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},en=Kt.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ej(t,e-1)},tn=Kt.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return X_(t,e-1)},nn=Kt.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Z_(t,e-1)},tj=Kt.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(et(l.lowerLeft_X)),Number(et(l.lowerLeft_Y)),Number(et(l.upperRight_X)),Number(et(l.upperRight_Y))]},nj=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=rm(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+et(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ki(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},rm=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var s=n,a=$e.internal.getHeight(t)||0;a=a<0?-a:a;var o=$e.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(O,M,G){if(O+1<i.length){var W=M+" "+i[O+1][0];return Nd(W,t,G).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,f,p=Nd("3",t,s).height,m=t.multiline?a-s:(a-p)/2,g=m+=2,b=0,k=0,_=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Nd(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var x="",w=0,N=0;N<i.length;N++)if(i.hasOwnProperty(N)){var A=!1;if(i[N].length!==1&&_!==i[N].length-1){if((p+2)*(w+2)+2>a)continue e;x+=i[N][_],A=!0,k=N,N--}else{x=(x+=i[N][_]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var E=parseInt(N),B=l(E,x,s),F=N>=i.length-1;if(B&&!F){x+=" ",_=0;continue}if(B||F){if(F)k=E;else if(t.multiline&&(p+2)*(w+2)+2>a)continue e}else{if(!t.multiline||(p+2)*(w+2)+2>a)continue e;k=E}}for(var R="",J=b;J<=k;J++){var ne=i[J];if(t.multiline){if(J===k){R+=ne[_]+" ",_=(_+1)%ne.length;continue}if(J===b){R+=ne[ne.length-1]+" ";continue}}R+=ne[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,f=Nd(R,t,s).width,t.textAlign){case"right":u=o-f-2;break;case"center":u=(o-f)/2;break;case"left":default:u=2}e+=et(u)+" "+et(g)+` Td
`,e+="("+Wa(R)+`) Tj
`,e+=-et(u)+` 0 Td
`,g=-(s+2),f=0,b=A?k:k+1,w++,x=""}break}return r.text=e,r.fontSize=s,r},Nd=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},rj={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ij=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},sj=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),yt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},aj=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ui.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(rj)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");g0=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Bw,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&ij(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=tj(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=$e.createDefaultAppearanceStream(o),yt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var f=nj(o);l.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(o.appearanceStreamContent){var p="";for(var m in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(m)){var g=o.appearanceStreamContent[m];if(p+="/"+m+" ",p+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var a in g)if(g.hasOwnProperty(a)){var b=g[a];typeof b=="function"&&(b=b.call(i,o)),p+="/"+a+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=g)=="function"&&(b=b.call(i,o)),p+="/"+a+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&sj(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},Fw=Kt.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),yt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Wa(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Tp=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Wa(r(t))+")"},Ci=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ci.prototype.toString=function(){return this.objId+" 0 R"},Ci.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ci.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:Fw(i,this.objId,this.scope)}):i instanceof Ci?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var $w=function(){Ci.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};dr($w,Ci);var Bw=function(){Ci.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Wa(n(t))+")"}},set:function(n){t=n}})};dr(Bw,Ci);var ui=function t(){Ci.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!en(e,3)},set:function(x){x?this.F=tn(e,3):this.F=nn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Sh)return;s="FieldObject"+t.FieldNum++}var x=function(w){return w};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Wa(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/g0:u},set:function(x){u=x}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(x){f=x}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Sh||this instanceof Oa))return Tp(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=x}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Sn?m:Tp(m,this.objId,this.scope)},set:function(x){x=x.toString(),m=this instanceof Sn?x:x.substr(0,1)==="("?Lo(x.substr(1,x.length-2)):Lo(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Sn?Lo(m.substr(1,m.length-1)):m},set:function(x){x=x.toString(),m=this instanceof Sn?"/"+x:x}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Sn?g:Tp(g,this.objId,this.scope)},set:function(x){x=x.toString(),g=this instanceof Sn?x:x.substr(0,1)==="("?Lo(x.substr(1,x.length-2)):Lo(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Sn?Lo(g.substr(1,g.length-1)):g},set:function(x){x=x.toString(),g=this instanceof Sn?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(x){x=!!x,k=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(x){b=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,1)},set:function(x){x?this.Ff=tn(this.Ff,1):this.Ff=nn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,2)},set:function(x){x?this.Ff=tn(this.Ff,2):this.Ff=nn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,3)},set:function(x){x?this.Ff=tn(this.Ff,3):this.Ff=nn(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');_=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(_){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:_=2;break;case"center":case 1:_=1;break;case"left":case 0:default:_=0}}})};dr(ui,Ci);var el=function(){ui.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Fw(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,18)},set:function(n){n?this.Ff=tn(this.Ff,18):this.Ff=nn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=tn(this.Ff,19):this.Ff=nn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,20)},set:function(n){n?(this.Ff=tn(this.Ff,20),e.sort()):this.Ff=nn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,22)},set:function(n){n?this.Ff=tn(this.Ff,22):this.Ff=nn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,23)},set:function(n){n?this.Ff=tn(this.Ff,23):this.Ff=nn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,27)},set:function(n){n?this.Ff=tn(this.Ff,27):this.Ff=nn(this.Ff,27)}}),this.hasAppearanceStream=!1};dr(el,ui);var tl=function(){el.call(this),this.fontName="helvetica",this.combo=!1};dr(tl,el);var nl=function(){tl.call(this),this.combo=!0};dr(nl,tl);var Bd=function(){nl.call(this),this.edit=!0};dr(Bd,nl);var Sn=function(){ui.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,15)},set:function(n){n?this.Ff=tn(this.Ff,15):this.Ff=nn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,16)},set:function(n){n?this.Ff=tn(this.Ff,16):this.Ff=nn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,17)},set:function(n){n?this.Ff=tn(this.Ff,17):this.Ff=nn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,26)},set:function(n){n?this.Ff=tn(this.Ff,26):this.Ff=nn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Wa(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){yt(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};dr(Sn,ui);var zd=function(){Sn.call(this),this.pushButton=!0};dr(zd,Sn);var rl=function(){Sn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};dr(rl,Sn);var Sh=function(){var t,e;ui.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Wa(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){yt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$e.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};dr(Sh,ui),rl.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},rl.prototype.createOption=function(t){var e=new Sh;return e.Parent=this,e.optionName=t,this.Kids.push(e),oj.call(this.scope,e),e};var Ud=function(){Sn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$e.CheckBox.createAppearanceStream()};dr(Ud,Sn);var Oa=function(){ui.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,13)},set:function(e){e?this.Ff=tn(this.Ff,13):this.Ff=nn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,21)},set:function(e){e?this.Ff=tn(this.Ff,21):this.Ff=nn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,23)},set:function(e){e?this.Ff=tn(this.Ff,23):this.Ff=nn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,24)},set:function(e){e?this.Ff=tn(this.Ff,24):this.Ff=nn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,25)},set:function(e){e?this.Ff=tn(this.Ff,25):this.Ff=nn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,26)},set:function(e){e?this.Ff=tn(this.Ff,26):this.Ff=nn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};dr(Oa,ui);var qd=function(){Oa.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,14)},set:function(t){t?this.Ff=tn(this.Ff,14):this.Ff=nn(this.Ff,14)}}),this.password=!0};dr(qd,Oa);var $e={CheckBox:{createAppearanceStream:function(){return{N:{On:$e.CheckBox.YesNormal},D:{On:$e.CheckBox.YesPushDown,Off:$e.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ki(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=rm(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+et($e.internal.getWidth(t))+" "+et($e.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+et(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=ki(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=$e.internal.getHeight(t),a=$e.internal.getWidth(t),o=rm(t,t.caption);return i.push("1 g"),i.push("0 0 "+et(a)+" "+et(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+et(a-1)+" "+et(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+et(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ki(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+et($e.internal.getWidth(t))+" "+et($e.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:$e.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=$e.RadioButton.Circle.YesNormal,e.D[t]=$e.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ki(t);e.scope=t.scope;var n=[],r=$e.internal.getWidth(t)<=$e.internal.getHeight(t)?$e.internal.getWidth(t)/4:$e.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=$e.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ls($e.internal.getWidth(t)/2)+" "+Ls($e.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ki(t);e.scope=t.scope;var n=[],r=$e.internal.getWidth(t)<=$e.internal.getHeight(t)?$e.internal.getWidth(t)/4:$e.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*$e.internal.Bezier_C).toFixed(5)),a=Number((r*$e.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ls($e.internal.getWidth(t)/2)+" "+Ls($e.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ls($e.internal.getWidth(t)/2)+" "+Ls($e.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ki(t);e.scope=t.scope;var n=[],r=$e.internal.getWidth(t)<=$e.internal.getHeight(t)?$e.internal.getWidth(t)/4:$e.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*$e.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ls($e.internal.getWidth(t)/2)+" "+Ls($e.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:$e.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=$e.RadioButton.Cross.YesNormal,e.D[t]=$e.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ki(t);e.scope=t.scope;var n=[],r=$e.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+et($e.internal.getWidth(t)-2)+" "+et($e.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(et(r.x1.x)+" "+et(r.x1.y)+" m"),n.push(et(r.x2.x)+" "+et(r.x2.y)+" l"),n.push(et(r.x4.x)+" "+et(r.x4.y)+" m"),n.push(et(r.x3.x)+" "+et(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ki(t);e.scope=t.scope;var n=$e.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+et($e.internal.getWidth(t))+" "+et($e.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+et($e.internal.getWidth(t)-2)+" "+et($e.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(et(n.x1.x)+" "+et(n.x1.y)+" m"),r.push(et(n.x2.x)+" "+et(n.x2.y)+" l"),r.push(et(n.x4.x)+" "+et(n.x4.y)+" m"),r.push(et(n.x3.x)+" "+et(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ki(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+et($e.internal.getWidth(t))+" "+et($e.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};$e.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=$e.internal.getWidth(t),n=$e.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},$e.internal.getWidth=function(t){var e=0;return yt(t)==="object"&&(e=R2(t.Rect[2])),e},$e.internal.getHeight=function(t){var e=0;return yt(t)==="object"&&(e=R2(t.Rect[3])),e};var oj=Kt.addField=function(t){if(aj(this,t),!(t instanceof ui))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Kt.AcroFormChoiceField=el,Kt.AcroFormListBox=tl,Kt.AcroFormComboBox=nl,Kt.AcroFormEditBox=Bd,Kt.AcroFormButton=Sn,Kt.AcroFormPushButton=zd,Kt.AcroFormRadioButton=rl,Kt.AcroFormCheckBox=Ud,Kt.AcroFormTextField=Oa,Kt.AcroFormPasswordField=qd,Kt.AcroFormAppearance=$e,Kt.AcroForm={ChoiceField:el,ListBox:tl,ComboBox:nl,EditBox:Bd,Button:Sn,PushButton:zd,RadioButton:rl,CheckBox:Ud,TextField:Oa,PasswordField:qd,Appearance:$e},We.AcroForm={ChoiceField:el,ListBox:tl,ComboBox:nl,EditBox:Bd,Button:Sn,PushButton:zd,RadioButton:rl,CheckBox:Ud,TextField:Oa,PasswordField:qd,Appearance:$e};We.AcroForm;function zw(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(O,M){var G,W,de,ue,pe,V=e;if((M=M||e)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(B(O))for(pe in n)for(de=n[pe],G=0;G<de.length;G+=1){for(ue=!0,W=0;W<de[G].length;W+=1)if(de[G][W]!==void 0&&de[G][W]!==O[W]){ue=!1;break}if(ue===!0){V=pe;break}}else for(pe in n)for(de=n[pe],G=0;G<de.length;G+=1){for(ue=!0,W=0;W<de[G].length;W+=1)if(de[G][W]!==void 0&&de[G][W]!==O.charCodeAt(W)){ue=!1;break}if(ue===!0){V=pe;break}}return V===e&&M!==e&&(V=M),V},i=function O(M){for(var G=this.internal.write,W=this.internal.putStream,de=(0,this.internal.getFilters)();de.indexOf("FlateEncode")!==-1;)de.splice(de.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var ue=[];if(ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Image"}),ue.push({key:"Width",value:M.width}),ue.push({key:"Height",value:M.height}),M.colorSpace===_.INDEXED?ue.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(ue.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===_.DEVICE_CMYK&&ue.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ue.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&ue.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var pe="",V=0,ie=M.transparency.length;V<ie;V++)pe+=M.transparency[V]+" "+M.transparency[V]+" ";ue.push({key:"Mask",value:"["+pe+"]"})}M.sMask!==void 0&&ue.push({key:"SMask",value:M.objectId+1+" 0 R"});var ae=M.filter!==void 0?["/"+M.filter]:void 0;if(W({data:M.data,additionalKeyValues:ue,alreadyAppliedFilters:ae,objectId:M.objectId}),G("endobj"),"sMask"in M&&M.sMask!==void 0){var Ne="/Predictor "+M.predictor+" /Colors 1 /BitsPerComponent "+M.bitsPerComponent+" /Columns "+M.width,P={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:Ne,data:M.sMask};"filter"in M&&(P.filter=M.filter),O.call(this,P)}if(M.colorSpace===_.INDEXED){var z=this.internal.newObject();W({data:R(new Uint8Array(M.palette)),objectId:z}),G("endobj")}},s=function(){var O=this.internal.collections.addImage_images;for(var M in O)i.call(this,O[M])},a=function(){var O,M=this.internal.collections.addImage_images,G=this.internal.write;for(var W in M)G("/I"+(O=M[W]).index,O.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var O=this.internal.collections.addImage_images;return o.call(this),O},u=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(O){return typeof t["process"+O.toUpperCase()]=="function"},p=function(O){return yt(O)==="object"&&O.nodeType===1},m=function(O,M){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var G=""+O.getAttribute("src");if(G.indexOf("data:image/")===0)return Ac(unescape(G).split("base64,").pop());var W=t.loadFile(G,!0);if(W!==void 0)return W}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var de;switch(M){case"PNG":de="image/png";break;case"WEBP":de="image/webp";break;case"JPEG":case"JPG":default:de="image/jpeg"}return Ac(O.toDataURL(de,1).split("base64,").pop())}},g=function(O){var M=this.internal.collections.addImage_images;if(M){for(var G in M)if(O===M[G].alias)return M[G]}},b=function(O,M,G){return O||M||(O=-96,M=-96),O<0&&(O=-1*G.width*72/O/this.internal.scaleFactor),M<0&&(M=-1*G.height*72/M/this.internal.scaleFactor),O===0&&(O=M*G.width/G.height),M===0&&(M=O*G.height/G.width),[O,M]},k=function(O,M,G,W,de,ue){var pe=b.call(this,G,W,de),V=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,ae=l.call(this);if(G=pe[0],W=pe[1],ae[de.index]=de,ue){ue*=Math.PI/180;var Ne=Math.cos(ue),P=Math.sin(ue),z=function(Y){return Y.toFixed(4)},q=[z(Ne),z(P),z(-1*P),z(Ne),0,0,"cm"]}this.internal.write("q"),ue?(this.internal.write([1,"0","0",1,V(O),ie(M+W),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([V(G),"0","0",V(W),"0","0","cm"].join(" "))):this.internal.write([V(G),"0","0",V(W),V(O),ie(M+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+de.index+" Do"),this.internal.write("Q")},_=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(O){var M,G,W=0;if(typeof O=="string")for(G=O.length,M=0;M<G;M++)W=(W<<5)-W+O.charCodeAt(M),W|=0;else if(B(O))for(G=O.byteLength/2,M=0;M<G;M++)W=(W<<5)-W+O[M],W|=0;return W},N=t.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var M=!0;return O.length===0&&(M=!1),O.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(M=!1),M},A=t.__addimage__.extractImageFromDataUrl=function(O){var M=(O=O||"").split("base64,"),G=null;if(M.length===2){var W=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(M[0]);Array.isArray(W)&&(G={mimeType:W[1],charset:W[2],data:M[1]})}return G},E=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(O){return E()&&O instanceof ArrayBuffer};var B=t.__addimage__.isArrayBufferView=function(O){return E()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},F=t.__addimage__.binaryStringToUint8Array=function(O){for(var M=O.length,G=new Uint8Array(M),W=0;W<M;W++)G[W]=O.charCodeAt(W);return G},R=t.__addimage__.arrayBufferToBinaryString=function(O){for(var M="",G=B(O)?O:new Uint8Array(O),W=0;W<G.length;W+=8192)M+=String.fromCharCode.apply(null,G.subarray(W,W+8192));return M};t.addImage=function(){var O,M,G,W,de,ue,pe,V,ie;if(typeof arguments[1]=="number"?(M=e,G=arguments[1],W=arguments[2],de=arguments[3],ue=arguments[4],pe=arguments[5],V=arguments[6],ie=arguments[7]):(M=arguments[1],G=arguments[2],W=arguments[3],de=arguments[4],ue=arguments[5],pe=arguments[6],V=arguments[7],ie=arguments[8]),yt(O=arguments[0])==="object"&&!p(O)&&"imageData"in O){var ae=O;O=ae.imageData,M=ae.format||M||e,G=ae.x||G||0,W=ae.y||W||0,de=ae.w||ae.width||de,ue=ae.h||ae.height||ue,pe=ae.alias||pe,V=ae.compression||V,ie=ae.rotation||ae.angle||ie}var Ne=this.internal.getFilters();if(V===void 0&&Ne.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(G)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var P=J.call(this,O,M,pe,V);return k.call(this,G,W,de,ue,P,ie),this};var J=function(O,M,G,W){var de,ue,pe;if(typeof O=="string"&&r(O)===e){O=unescape(O);var V=ne(O,!1);(V!==""||(V=t.loadFile(O,!0))!==void 0)&&(O=V)}if(p(O)&&(O=m(O,M)),M=r(O,M),!f(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((pe=G)==null||pe.length===0)&&(G=function(ie){return typeof ie=="string"||B(ie)?w(ie):B(ie.data)?w(ie.data):null}(O)),(de=g.call(this,G))||(E()&&(O instanceof Uint8Array||M==="RGBA"||(ue=O,O=F(O))),de=this["process"+M.toUpperCase()](O,u.call(this),G,function(ie){return ie&&typeof ie=="string"&&(ie=ie.toUpperCase()),ie in t.image_compression?ie:x.NONE}(W),ue)),!de)throw new Error("An unknown error occurred whilst processing the image.");return de},ne=t.__addimage__.convertBase64ToBinaryString=function(O,M){var G;M=typeof M!="boolean"||M;var W,de="";if(typeof O=="string"){W=(G=A(O))!==null?G.data:O;try{de=Ac(W)}catch(ue){if(M)throw N(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ue.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return de};t.getImageProperties=function(O){var M,G,W="";if(p(O)&&(O=m(O)),typeof O=="string"&&r(O)===e&&((W=ne(O,!1))===""&&(W=t.loadFile(O)||""),O=W),G=r(O),!f(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(!E()||O instanceof Uint8Array||(O=F(O)),!(M=this["process"+G.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=G,M}})(We.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};We.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,f=!1,p=0;p<u.length&&!f;p++)switch((r=u[p]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){r=u[m];var g=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(k.objId),w=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+g(x(r.contents))+")",s+=" /Popup "+_.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+g(x(w))+") >>",k.content=s;var N=k.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+N,r.open&&(s+=" /Open true"),s+=" >>",_.content=s,this.internal.write(k.objId,"0 R",_.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var A=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(b(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var E=this.annotations._nameMap[r.options.name];r.options.pageNumber=E.page,r.options.top=E.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var B=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+B+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,o,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var f=this.splitTextToSize(n,o).length;a=Math.ceil(u*f)}else o=l,a=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,o,a,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(We.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(k){return e[k.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},o=t.__arabicParser__.isArabicEndLetter=function(k){return a(k)&&s(k)&&e[k.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(k){return a(k)&&i.indexOf(k.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return a(k)&&s(k)&&e[k.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(k){return a(k)&&s(k)&&e[k.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(k){return a(k)&&s(k)&&e[k.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(k){return a(k)&&s(k)&&e[k.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(k){var _=0,x=n,w="",N=0;for(_=0;_<k.length;_+=1)x[k.charCodeAt(_)]!==void 0?(N++,typeof(x=x[k.charCodeAt(_)])=="number"&&(w+=String.fromCharCode(x),x=n,N=0),_===k.length-1&&(x=n,w+=k.charAt(_-(N-1)),_-=N-1,N=0)):(x=n,w+=k.charAt(_-N),_-=N,N=0);return w};t.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&r[k.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(k,_,x){return a(k)?s(k)===!1?-1:!u(k)||!a(_)&&!a(x)||!a(x)&&o(_)||o(k)&&!a(_)||o(k)&&l(_)||o(k)&&o(_)?0:f(k)&&a(_)&&!o(_)&&a(x)&&u(x)?3:o(k)||!a(x)?1:2:-1},g=function(k){var _=0,x=0,w=0,N="",A="",E="",B=(k=k||"").split("\\s+"),F=[];for(_=0;_<B.length;_+=1){for(F.push(""),x=0;x<B[_].length;x+=1)N=B[_][x],A=B[_][x-1],E=B[_][x+1],a(N)?(w=m(N,A,E),F[_]+=w!==-1?String.fromCharCode(e[N.charCodeAt(0)][w]):N):F[_]+=N;F[_]=p(F[_])}return F.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var k,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(_)){var w=0;for(x=[],w=0;w<_.length;w+=1)Array.isArray(_[w])?x.push([g(_[w][0]),_[w][1],_[w][2]]):x.push([g(_[w])]);k=x}else k=g(_);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};t.events.push(["preProcessText",b])}(We.API),We.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(We.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(k){l=k}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(k){u=k}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(k){f=k}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(k){p=k}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(k){m=k}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(k){g=k}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(k){b=k}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),p=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,g=0,b=0,k=0,_=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=u.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(N,A){return N.concat(_.splitTextToSize(A,x))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)g<(k=this.getStringUnitWidth(l[w],{font:p})*f)&&(g=k);return g!==0&&(b=l.length),{w:g/=m,h:Math.max((b*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,g&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,f,p,m){if(r.call(this),!f)throw new Error("No data for PDF table.");var g,b,k,_,x=[],w=[],N=[],A={},E={},B=[],F=[],R=(m=m||{}).autoSize||!1,J=m.printHeaders!==!1,ne=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,O=m.margins||Object.assign({width:this.getPageWidth()},e),M=typeof m.padding=="number"?m.padding:3,G=m.headerBackgroundColor||"#c8c8c8",W=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=J,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=ne,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=W,this.setFontSize(ne),p==null)w=x=Object.keys(f[0]),N=x.map(function(){return"left"});else if(Array.isArray(p)&&yt(p[0])==="object")for(x=p.map(function(ae){return ae.name}),w=p.map(function(ae){return ae.prompt||ae.name||""}),N=p.map(function(ae){return ae.align||"left"}),g=0;g<p.length;g+=1)E[p[g].name]=p[g].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(w=x=p,N=x.map(function(){return"left"}));if(R||Array.isArray(p)&&typeof p[0]=="string")for(g=0;g<x.length;g+=1){for(A[_=x[g]]=f.map(function(ae){return ae[_]}),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(w[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=A[_],this.setFont(void 0,"normal"),k=0;k<b.length;k+=1)B.push(this.getTextDimensions(b[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[_]=Math.max.apply(null,B)+M+M,B=[]}if(J){var de={};for(g=0;g<x.length;g+=1)de[x[g]]={},de[x[g]].text=w[g],de[x[g]].align=N[g];var ue=o.call(this,de,E);F=x.map(function(ae){return new s(l,u,E[ae],ue,de[ae].text,void 0,de[ae].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var pe=p.reduce(function(ae,Ne){return ae[Ne.name]=Ne.align,ae},{});for(g=0;g<f.length;g+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:g,data:f[g]},this);var V=o.call(this,f[g],E);for(k=0;k<x.length;k+=1){var ie=f[g][x[k]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:g,col:k,data:ie},this),a.call(this,new s(l,u,E[x[k]],V,ie,g+2,pe[x[k]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(g){var b=l[g];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,u[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*p/m+f+f},this).reduce(function(g,b){return Math.max(g,b)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,m.push(f)),f.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(b)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}}(We.API);var Uw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},qw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],im=zw(qw),Ww=[100,200,300,400,500,600,700,800,900],lj=zw(Ww);function sm(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return Uw[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof im[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function F2(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var cj={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function B2(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function uj(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},cj,n.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=sm(e[o])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[r]))throw new Error("Could not find a font-family for the rule '"+B2(s)+"' and default family '"+r+"'.");if(a=function(l,u){if(u[l])return u[l];var f=im[l],p=f<=im.normal?-1:1,m=F2(u,qw,f,p);if(!m)throw new Error("Could not find a matching font-stretch value for "+l);return m}(s.stretch,a),a=function(l,u){if(u[l])return u[l];for(var f=Uw[l],p=0;p<f.length;++p)if(u[f[p]])return u[f[p]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var f=lj[l],p=F2(u,Ww,f,l<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+l);return p}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+B2(s)+"'.");return a}function z2(t){return t.trimLeft()}function dj(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function hj(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var kd,U2,q2,Op=["times"];(function(t){var e,n,r,i,s,a,o,l,u,f=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new l,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new a,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new a,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new f}]);var p=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=P;Object.defineProperty(this,"pdf",{get:function(){return z}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(ve){q=!!ve}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(ve){Y=!!ve}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(ve){isNaN(ve)||(te=ve)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(ve){isNaN(ve)||(ce=ve)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ve){var H;typeof ve=="number"?H=[ve,ve,ve,ve]:((H=new Array(4))[0]=ve[0],H[1]=ve.length>=2?ve[1]:H[0],H[2]=ve.length>=3?ve[2]:H[0],H[3]=ve.length>=4?ve[3]:H[1]),u.margin=H}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(ve){he=ve}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(ve){fe=ve}});var Le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Le},set:function(ve){Le=ve}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ve){ve instanceof f&&(u=ve)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ve){u.path=ve}});var je=[];Object.defineProperty(this,"ctxStack",{get:function(){return je},set:function(ve){je=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var H;H=m(ve),this.ctx.fillStyle=H.style,this.ctx.isFillTransparent=H.a===0,this.ctx.fillOpacity=H.a,this.pdf.setFillColor(H.r,H.g,H.b,{a:H.a}),this.pdf.setTextColor(H.r,H.g,H.b,{a:H.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var H=m(ve);this.ctx.strokeStyle=H.style,this.ctx.isStrokeTransparent=H.a===0,this.ctx.strokeOpacity=H.a,H.a===0?this.pdf.setDrawColor(255,255,255):(H.a,this.pdf.setDrawColor(H.r,H.g,H.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var Te=null;function Ae(ve,H){if(Te===null){var tt=function(Be){var ke=[];return Object.keys(Be).forEach(function(Pe){Be[Pe].forEach(function(Oe){var Ie=null;switch(Oe){case"bold":Ie={family:Pe,weight:"bold"};break;case"italic":Ie={family:Pe,style:"italic"};break;case"bolditalic":Ie={family:Pe,weight:"bold",style:"italic"};break;case"":case"normal":Ie={family:Pe}}Ie!==null&&(Ie.ref={name:Pe,style:Oe},ke.push(Ie))})}),ke}(ve.getFontList());Te=function(Be){for(var ke={},Pe=0;Pe<Be.length;++Pe){var Oe=sm(Be[Pe]),Ie=Oe.family,ze=Oe.stretch,Qe=Oe.style,st=Oe.weight;ke[Ie]=ke[Ie]||{},ke[Ie][ze]=ke[Ie][ze]||{},ke[Ie][ze][Qe]=ke[Ie][ze][Qe]||{},ke[Ie][ze][Qe][st]=Oe}return ke}(tt.concat(H))}return Te}var Ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ve},set:function(ve){Te=null,Ve=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var H;if(this.ctx.font=ve,(H=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var tt=H[1],Be=(H[2],H[3]),ke=H[4],Pe=(H[5],H[6]),Oe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(Oe==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:Oe==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var Ie=function(Ke){var lt,De,In=[],vt=Ke.trim();if(vt==="")return Op;if(vt in $2)return[$2[vt]];for(;vt!=="";){switch(De=null,lt=(vt=z2(vt)).charAt(0)){case'"':case"'":De=dj(vt.substring(1),lt);break;default:De=hj(vt)}if(De===null||(In.push(De[0]),(vt=z2(De[1]))!==""&&vt.charAt(0)!==","))return Op;vt=vt.replace(/^,/,"")}return In}(Pe);if(this.fontFaces){var ze=uj(Ae(this.pdf,this.fontFaces),Ie.map(function(Ke){return{family:Ke,stretch:"normal",weight:Be,style:tt}}));this.pdf.setFont(ze.ref.name,ze.ref.style)}else{var Qe="";(Be==="bold"||parseInt(Be,10)>=700||tt==="bold")&&(Qe="bold"),tt==="italic"&&(Qe+="italic"),Qe.length===0&&(Qe="normal");for(var st="",at={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},pt=0;pt<Ie.length;pt++){if(this.pdf.internal.getFont(Ie[pt],Qe,{noFallback:!0,disableWarning:!0})!==void 0){st=Ie[pt];break}if(Qe==="bolditalic"&&this.pdf.internal.getFont(Ie[pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)st=Ie[pt],Qe="bold";else if(this.pdf.internal.getFont(Ie[pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){st=Ie[pt],Qe="normal";break}}if(st===""){for(var _t=0;_t<Ie.length;_t++)if(at[Ie[_t]]){st=at[Ie[_t]];break}}st=st===""?"Times":st,this.pdf.setFont(st,Qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,Ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,Ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};p.prototype.setLineDash=function(P){this.lineDash=P},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){A.call(this,"fill",!1)},p.prototype.stroke=function(){A.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(P,z){if(isNaN(P)||isNaN(z))throw At.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new a(P,z));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new a(P,z)},p.prototype.closePath=function(){var P=new a(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&yt(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){P=new a(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(P.x,P.y)},p.prototype.lineTo=function(P,z){if(isNaN(P)||isNaN(z))throw At.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new a(P,z));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new a(q.x,q.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},p.prototype.quadraticCurveTo=function(P,z,q,Y){if(isNaN(q)||isNaN(Y)||isNaN(P)||isNaN(z))throw At.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new a(q,Y)),ce=this.ctx.transform.applyToPoint(new a(P,z));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:te.x,y:te.y}),this.ctx.lastPoint=new a(te.x,te.y)},p.prototype.bezierCurveTo=function(P,z,q,Y,te,ce){if(isNaN(te)||isNaN(ce)||isNaN(P)||isNaN(z)||isNaN(q)||isNaN(Y))throw At.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new a(te,ce)),fe=this.ctx.transform.applyToPoint(new a(P,z)),Le=this.ctx.transform.applyToPoint(new a(q,Y));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:Le.x,y2:Le.y,x:he.x,y:he.y}),this.ctx.lastPoint=new a(he.x,he.y)},p.prototype.arc=function(P,z,q,Y,te,ce){if(isNaN(P)||isNaN(z)||isNaN(q)||isNaN(Y)||isNaN(te))throw At.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new a(P,z));P=he.x,z=he.y;var fe=this.ctx.transform.applyToPoint(new a(0,q)),Le=this.ctx.transform.applyToPoint(new a(0,0));q=Math.sqrt(Math.pow(fe.x-Le.x,2)+Math.pow(fe.y-Le.y,2))}Math.abs(te-Y)>=2*Math.PI&&(Y=0,te=2*Math.PI),this.path.push({type:"arc",x:P,y:z,radius:q,startAngle:Y,endAngle:te,counterclockwise:ce})},p.prototype.arcTo=function(P,z,q,Y,te){throw new Error("arcTo not implemented.")},p.prototype.rect=function(P,z,q,Y){if(isNaN(P)||isNaN(z)||isNaN(q)||isNaN(Y))throw At.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,z),this.lineTo(P+q,z),this.lineTo(P+q,z+Y),this.lineTo(P,z+Y),this.lineTo(P,z),this.lineTo(P+q,z),this.lineTo(P,z)},p.prototype.fillRect=function(P,z,q,Y){if(isNaN(P)||isNaN(z)||isNaN(q)||isNaN(Y))throw At.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,z,q,Y),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},p.prototype.strokeRect=function(P,z,q,Y){if(isNaN(P)||isNaN(z)||isNaN(q)||isNaN(Y))throw At.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(P,z,q,Y),this.stroke())},p.prototype.clearRect=function(P,z,q,Y){if(isNaN(P)||isNaN(z)||isNaN(q)||isNaN(Y))throw At.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,z,q,Y))},p.prototype.save=function(P){P=typeof P!="boolean"||P;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},p.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(z),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(P){var z,q,Y,te;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))z=0,q=0,Y=0,te=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(ce!==null)z=parseInt(ce[1]),q=parseInt(ce[2]),Y=parseInt(ce[3]),te=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)z=parseInt(ce[1]),q=parseInt(ce[2]),Y=parseInt(ce[3]),te=parseFloat(ce[4]);else{if(te=1,typeof P=="string"&&P.charAt(0)!=="#"){var he=new Dw(P);P=he.ok?he.toHex():"#000000"}P.length===4?(z=P.substring(1,2),z+=z,q=P.substring(2,3),q+=q,Y=P.substring(3,4),Y+=Y):(z=P.substring(1,3),q=P.substring(3,5),Y=P.substring(5,7)),z=parseInt(z,16),q=parseInt(q,16),Y=parseInt(Y,16)}}return{r:z,g:q,b:Y,a:te,style:P}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(P,z,q,Y){if(isNaN(z)||isNaN(q)||typeof P!="string")throw At.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!g.call(this)){var te=V(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;M.call(this,{text:P,x:z,y:q,scale:ce,angle:te,align:this.textAlign,maxWidth:Y})}},p.prototype.strokeText=function(P,z,q,Y){if(isNaN(z)||isNaN(q)||typeof P!="string")throw At.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){Y=isNaN(Y)?void 0:Y;var te=V(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;M.call(this,{text:P,x:z,y:q,scale:ce,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:Y})}},p.prototype.measureText=function(P){if(typeof P!="string")throw At.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,q=this.pdf.internal.scaleFactor,Y=z.internal.getFontSize(),te=z.getStringUnitWidth(P)*Y/z.internal.scaleFactor,ce=function(he){var fe=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this};return new ce({width:te*=Math.round(96*q/72*1e4)/1e4})},p.prototype.scale=function(P,z){if(isNaN(P)||isNaN(z))throw At.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new l(P,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},p.prototype.rotate=function(P){if(isNaN(P))throw At.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new l(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},p.prototype.translate=function(P,z){if(isNaN(P)||isNaN(z))throw At.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new l(1,0,0,1,P,z);this.ctx.transform=this.ctx.transform.multiply(q)},p.prototype.transform=function(P,z,q,Y,te,ce){if(isNaN(P)||isNaN(z)||isNaN(q)||isNaN(Y)||isNaN(te)||isNaN(ce))throw At.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new l(P,z,q,Y,te,ce);this.ctx.transform=this.ctx.transform.multiply(he)},p.prototype.setTransform=function(P,z,q,Y,te,ce){P=isNaN(P)?1:P,z=isNaN(z)?0:z,q=isNaN(q)?0:q,Y=isNaN(Y)?1:Y,te=isNaN(te)?0:te,ce=isNaN(ce)?0:ce,this.ctx.transform=new l(P,z,q,Y,te,ce)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(P,z,q,Y,te,ce,he,fe,Le){var je=this.pdf.getImageProperties(P),Te=1,Ae=1,Ve=1,ve=1;Y!==void 0&&fe!==void 0&&(Ve=fe/Y,ve=Le/te,Te=je.width/Y*fe/Y,Ae=je.height/te*Le/te),ce===void 0&&(ce=z,he=q,z=0,q=0),Y!==void 0&&fe===void 0&&(fe=Y,Le=te),Y===void 0&&fe===void 0&&(fe=je.width,Le=je.height);for(var H,tt=this.ctx.transform.decompose(),Be=V(tt.rotate.shx),ke=new l,Pe=(ke=(ke=(ke=ke.multiply(tt.translate)).multiply(tt.skew)).multiply(tt.scale)).applyToRectangle(new o(ce-z*Ve,he-q*ve,Y*Te,te*Ae)),Oe=_.call(this,Pe),Ie=[],ze=0;ze<Oe.length;ze+=1)Ie.indexOf(Oe[ze])===-1&&Ie.push(Oe[ze]);if(N(Ie),this.autoPaging)for(var Qe=Ie[0],st=Ie[Ie.length-1],at=Qe;at<st+1;at++){this.pdf.setPage(at);var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=at===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],De=at===1?0:Ke+(at-2)*lt;if(this.ctx.clip_path.length!==0){var In=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(H,this.posX+this.margin[3],-De+_t+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=In}var vt=JSON.parse(JSON.stringify(Pe));vt=w([vt],this.posX+this.margin[3],-De+_t+this.ctx.prevPageLastElemOffset)[0];var Ur=(at>Qe||at<st)&&k.call(this);Ur&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,lt,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",vt.x,vt.y,vt.w,vt.h,null,null,Be),Ur&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",Pe.x,Pe.y,Pe.w,Pe.h,null,null,Be)};var _=function(P,z,q){var Y=[];z=z||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":Y.push(Math.floor((P.y+te)/q)+1);break;case"arc":Y.push(Math.floor((P.y+te-P.radius)/q)+1),Y.push(Math.floor((P.y+te+P.radius)/q)+1);break;case"qct":var ce=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);Y.push(Math.floor((ce.y+te)/q)+1),Y.push(Math.floor((ce.y+ce.h+te)/q)+1);break;case"bct":var he=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);Y.push(Math.floor((he.y+te)/q)+1),Y.push(Math.floor((he.y+he.h+te)/q)+1);break;case"rect":Y.push(Math.floor((P.y+te)/q)+1),Y.push(Math.floor((P.y+P.h+te)/q)+1)}for(var fe=0;fe<Y.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<Y[fe];)x.call(this);return Y},x=function(){var P=this.fillStyle,z=this.strokeStyle,q=this.font,Y=this.lineCap,te=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=z,this.font=q,this.lineCap=Y,this.lineWidth=te,this.lineJoin=ce},w=function(P,z,q){for(var Y=0;Y<P.length;Y++)switch(P[Y].type){case"bct":P[Y].x2+=z,P[Y].y2+=q;case"qct":P[Y].x1+=z,P[Y].y1+=q;case"mt":case"lt":case"arc":default:P[Y].x+=z,P[Y].y+=q}return P},N=function(P){return P.sort(function(z,q){return z-q})},A=function(P,z){for(var q,Y,te=this.fillStyle,ce=this.strokeStyle,he=this.lineCap,fe=this.lineWidth,Le=Math.abs(fe*this.ctx.transform.scaleX),je=this.lineJoin,Te=JSON.parse(JSON.stringify(this.path)),Ae=JSON.parse(JSON.stringify(this.path)),Ve=[],ve=0;ve<Ae.length;ve++)if(Ae[ve].x!==void 0)for(var H=_.call(this,Ae[ve]),tt=0;tt<H.length;tt+=1)Ve.indexOf(H[tt])===-1&&Ve.push(H[tt]);for(var Be=0;Be<Ve.length;Be++)for(;this.pdf.internal.getNumberOfPages()<Ve[Be];)x.call(this);if(N(Ve),this.autoPaging)for(var ke=Ve[0],Pe=Ve[Ve.length-1],Oe=ke;Oe<Pe+1;Oe++){this.pdf.setPage(Oe),this.fillStyle=te,this.strokeStyle=ce,this.lineCap=he,this.lineWidth=Le,this.lineJoin=je;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ze=Oe===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=Oe===1?0:Qe+(Oe-2)*st;if(this.ctx.clip_path.length!==0){var pt=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(q,this.posX+this.margin[3],-at+ze+this.ctx.prevPageLastElemOffset),E.call(this,P,!0),this.path=pt}if(Y=JSON.parse(JSON.stringify(Te)),this.path=w(Y,this.posX+this.margin[3],-at+ze+this.ctx.prevPageLastElemOffset),z===!1||Oe===0){var _t=(Oe>ke||Oe<Pe)&&k.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,st,null).clip().discardPath()),E.call(this,P,z),_t&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}else this.lineWidth=Le,E.call(this,P,z),this.lineWidth=fe;this.path=Te},E=function(P,z){if((P!=="stroke"||z||!b.call(this))&&(P==="stroke"||z||!g.call(this))){for(var q,Y,te=[],ce=this.path,he=0;he<ce.length;he++){var fe=ce[he];switch(fe.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:fe,deltas:[],abs:[]});break;case"lt":var Le=te.length;if(ce[he-1]&&!isNaN(ce[he-1].x)&&(q=[fe.x-ce[he-1].x,fe.y-ce[he-1].y],Le>0)){for(;Le>=0;Le--)if(te[Le-1].close!==!0&&te[Le-1].begin!==!0){te[Le-1].deltas.push(q),te[Le-1].abs.push(fe);break}}break;case"bct":q=[fe.x1-ce[he-1].x,fe.y1-ce[he-1].y,fe.x2-ce[he-1].x,fe.y2-ce[he-1].y,fe.x-ce[he-1].x,fe.y-ce[he-1].y],te[te.length-1].deltas.push(q);break;case"qct":var je=ce[he-1].x+2/3*(fe.x1-ce[he-1].x),Te=ce[he-1].y+2/3*(fe.y1-ce[he-1].y),Ae=fe.x+2/3*(fe.x1-fe.x),Ve=fe.y+2/3*(fe.y1-fe.y),ve=fe.x,H=fe.y;q=[je-ce[he-1].x,Te-ce[he-1].y,Ae-ce[he-1].x,Ve-ce[he-1].y,ve-ce[he-1].x,H-ce[he-1].y],te[te.length-1].deltas.push(q);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(fe)}}Y=z?null:P==="stroke"?"stroke":"fill";for(var tt=!1,Be=0;Be<te.length;Be++)if(te[Be].arc)for(var ke=te[Be].abs,Pe=0;Pe<ke.length;Pe++){var Oe=ke[Pe];Oe.type==="arc"?R.call(this,Oe.x,Oe.y,Oe.radius,Oe.startAngle,Oe.endAngle,Oe.counterclockwise,void 0,z,!tt):G.call(this,Oe.x,Oe.y),tt=!0}else if(te[Be].close===!0)this.pdf.internal.out("h"),tt=!1;else if(te[Be].begin!==!0){var Ie=te[Be].start.x,ze=te[Be].start.y;W.call(this,te[Be].deltas,Ie,ze),tt=!0}Y&&J.call(this,Y),z&&ne.call(this)}},B=function(P){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-q;case"top":return P+z-q;case"hanging":return P+z-2*q;case"middle":return P+z/2-q;case"ideographic":return P;case"alphabetic":default:return P}},F=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(z,q){this.colorStops.push([z,q])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(P,z,q,Y,te,ce,he,fe,Le){for(var je=ue.call(this,q,Y,te,ce),Te=0;Te<je.length;Te++){var Ae=je[Te];Te===0&&(Le?O.call(this,Ae.x1+P,Ae.y1+z):G.call(this,Ae.x1+P,Ae.y1+z)),de.call(this,P,z,Ae.x2,Ae.y2,Ae.x3,Ae.y3,Ae.x4,Ae.y4)}fe?ne.call(this):J.call(this,he)},J=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ne=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(P,z){this.pdf.internal.out(n(P)+" "+r(z)+" m")},M=function(P){var z;switch(P.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var q=this.pdf.getTextDimensions(P.text),Y=B.call(this,P.y),te=F.call(this,Y)-q.h,ce=this.ctx.transform.applyToPoint(new a(P.x,Y)),he=this.ctx.transform.decompose(),fe=new l;fe=(fe=(fe=fe.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var Le,je,Te,Ae=this.ctx.transform.applyToRectangle(new o(P.x,Y,q.w,q.h)),Ve=fe.applyToRectangle(new o(P.x,te,q.w,q.h)),ve=_.call(this,Ve),H=[],tt=0;tt<ve.length;tt+=1)H.indexOf(ve[tt])===-1&&H.push(ve[tt]);if(N(H),this.autoPaging)for(var Be=H[0],ke=H[H.length-1],Pe=Be;Pe<ke+1;Pe++){this.pdf.setPage(Pe);var Oe=Pe===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[2],Qe=ze-this.margin[0],st=this.pdf.internal.pageSize.width-this.margin[1],at=st-this.margin[3],pt=Pe===1?0:Ie+(Pe-2)*Qe;if(this.ctx.clip_path.length!==0){var _t=this.path;Le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Le,this.posX+this.margin[3],-1*pt+Oe),E.call(this,"fill",!0),this.path=_t}var Ke=w([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-pt+Oe+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*P.scale),Te=this.lineWidth,this.lineWidth=Te*P.scale);var lt=this.autoPaging!=="text";if(lt||Ke.y+Ke.h<=ze){if(lt||Ke.y>=Oe&&Ke.x<=st){var De=lt?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||st-Ke.x)[0],In=w([JSON.parse(JSON.stringify(Ae))],this.posX+this.margin[3],-pt+Oe+this.ctx.prevPageLastElemOffset)[0],vt=lt&&(Pe>Be||Pe<ke)&&k.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Qe,null).clip().discardPath()),this.pdf.text(De,In.x,In.y,{angle:P.angle,align:z,renderingMode:P.renderingMode}),vt&&this.pdf.restoreGraphicsState()}}else Ke.y<ze&&(this.ctx.prevPageLastElemOffset+=ze-Ke.y);P.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=Te)}else P.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*P.scale),Te=this.lineWidth,this.lineWidth=Te*P.scale),this.pdf.text(P.text,ce.x+this.posX,ce.y+this.posY,{angle:P.angle,align:z,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=Te)},G=function(P,z,q,Y){q=q||0,Y=Y||0,this.pdf.internal.out(n(P+q)+" "+r(z+Y)+" l")},W=function(P,z,q){return this.pdf.lines(P,z,q,null,null)},de=function(P,z,q,Y,te,ce,he,fe){this.pdf.internal.out([e(i(q+P)),e(s(Y+z)),e(i(te+P)),e(s(ce+z)),e(i(he+P)),e(s(fe+z)),"c"].join(" "))},ue=function(P,z,q,Y){for(var te=2*Math.PI,ce=Math.PI/2;z>q;)z-=te;var he=Math.abs(q-z);he<te&&Y&&(he=te-he);for(var fe=[],Le=Y?-1:1,je=z;he>1e-5;){var Te=je+Le*Math.min(he,ce);fe.push(pe.call(this,P,je,Te)),he-=Math.abs(Te-je),je=Te}return fe},pe=function(P,z,q){var Y=(q-z)/2,te=P*Math.cos(Y),ce=P*Math.sin(Y),he=te,fe=-ce,Le=he*he+fe*fe,je=Le+he*te+fe*ce,Te=4/3*(Math.sqrt(2*Le*je)-je)/(he*ce-fe*te),Ae=he-Te*fe,Ve=fe+Te*he,ve=Ae,H=-Ve,tt=Y+z,Be=Math.cos(tt),ke=Math.sin(tt);return{x1:P*Math.cos(z),y1:P*Math.sin(z),x2:Ae*Be-Ve*ke,y2:Ae*ke+Ve*Be,x3:ve*Be-H*ke,y3:ve*ke+H*Be,x4:P*Math.cos(q),y4:P*Math.sin(q)}},V=function(P){return 180*P/Math.PI},ie=function(P,z,q,Y,te,ce){var he=P+.5*(q-P),fe=z+.5*(Y-z),Le=te+.5*(q-te),je=ce+.5*(Y-ce),Te=Math.min(P,te,he,Le),Ae=Math.max(P,te,he,Le),Ve=Math.min(z,ce,fe,je),ve=Math.max(z,ce,fe,je);return new o(Te,Ve,Ae-Te,ve-Ve)},ae=function(P,z,q,Y,te,ce,he,fe){var Le,je,Te,Ae,Ve,ve,H,tt,Be,ke,Pe,Oe,Ie,ze,Qe=q-P,st=Y-z,at=te-q,pt=ce-Y,_t=he-te,Ke=fe-ce;for(je=0;je<41;je++)Be=(H=(Te=P+(Le=je/40)*Qe)+Le*((Ve=q+Le*at)-Te))+Le*(Ve+Le*(te+Le*_t-Ve)-H),ke=(tt=(Ae=z+Le*st)+Le*((ve=Y+Le*pt)-Ae))+Le*(ve+Le*(ce+Le*Ke-ve)-tt),je==0?(Pe=Be,Oe=ke,Ie=Be,ze=ke):(Pe=Math.min(Pe,Be),Oe=Math.min(Oe,ke),Ie=Math.max(Ie,Be),ze=Math.max(ze,ke));return new o(Math.round(Pe),Math.round(Oe),Math.round(Ie-Pe),Math.round(ze-Oe))},Ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,z,q=(P=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:z}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(We.API),function(t){var e=function(s){var a,o,l,u,f,p,m,g,b,k;for(o=[],l=0,u=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(f=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(p=(f=((f=((f=((f=(f-(k=f%85))/85)-(b=f%85))/85)-(g=f%85))/85)-(m=f%85))/85)%85,o.push(p+33,m+33,g+33,b+33,k+33)):o.push(122);return function(_,x){for(var w=x;w>0;w--)_.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},n=function(s){var a,o,l,u,f,p=String,m="length",g=255,b="charCodeAt",k="slice",_="replace";for(s[k](-2),s=s[k](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),l=[],u=0,f=(s+=a="uuuuu"[k](s[m]%5||5))[m];f>u;u+=5)o=52200625*(s[b](u)-33)+614125*(s[b](u+1)-33)+7225*(s[b](u+2)-33)+85*(s[b](u+3)-33)+(s[b](u+4)-33),l.push(g&o>>24,g&o>>16,g&o>>8,g&o);return function(x,w){for(var N=w;N>0;N--)x.pop()}(l,a[m]),p.fromCharCode.apply(p,l)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=Zg(a)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,a){var o=0,l=s||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(We.API),function(t){t.loadFile=function(e,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,f){var p=new XMLHttpRequest,m=0,g=function(b){var k=b.length,_=[],x=String.fromCharCode;for(m=0;m<k;m+=1)_.push(x(255&b.charCodeAt(m)));return _.join("")};if(p.open("GET",l,!u),p.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(p.onload=function(){p.status===200?f(g(this.responseText)):f(void 0)}),p.send(null),u&&p.status===200)return g(p.responseText)}(i,s,a)}catch{}return o}(e,n,r)},t.loadImageFile=t.loadFile}(We.API),function(t){function e(){return(Ge.html2canvas?Promise.resolve(Ge.html2canvas):Ys(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(Ge.DOMPurify?Promise.resolve(Ge.DOMPurify):Ys(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var o=yt(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var u in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[u]=o.style[u];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(u,f){for(var p=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)f!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||p.appendChild(l(m,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(p.width=u.width,p.height=u.height,p.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(p.value=u.value),p.addEventListener("load",function(){p.scrollTop=u.scrollTop,p.scrollLeft=u.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var g=u[m],b=g.src.find(function(k){return k.format==="truetype"});b&&l.addFont(b.url,g.ref.name,g.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,l.context2d.save(!0),o(this.prop.container,p)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(a=a||We.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,u){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,u){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(u,f){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return l.updateProgress(null,u),p}).then(u,f).then(function(p){return l.updateProgress(1),p})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),f=l.call(u,a,o);return s.convert(f,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,We.getPageSize=function(a,o,l){if(yt(a)==="object"){var u=a;a=u.orientation,o=u.unit||o,l=u.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var f,p=(""+l).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+o}var g,b=0,k=0;if(m.hasOwnProperty(p))b=m[p][1]/f,k=m[p][0]/f;else try{b=l[1],k=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",k>b&&(g=k,k=b,b=g);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",b>k&&(g=k,k=b,b=g)}return{width:k,height:b,unit:o,k:f,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(sm):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}(We.API),We.API.addJS=function(t){return q2=t,this.internal.events.subscribe("postPutResources",function(){kd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(kd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),U2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+q2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){kd!==void 0&&U2!==void 0&&this.internal.out("/Names <</JavaScript "+kd+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(s=0;s<u;s++){var p=n.internal.newObject();f.push(p);var m=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<f.length;s++)n.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(We.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,o){var l,u=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(p){for(var m,g=256*p.charCodeAt(4)+p.charCodeAt(5),b=p.length,k={width:0,height:0,numcomponents:1},_=4;_<b;_+=2){if(_+=g,e.indexOf(p.charCodeAt(_+1))!==-1){m=256*p.charCodeAt(_+5)+p.charCodeAt(_+6),k={width:256*p.charCodeAt(_+7)+p.charCodeAt(_+8),height:m,numcomponents:p.charCodeAt(_+9)};break}g=256*p.charCodeAt(_+2)+p.charCodeAt(_+3)}return k}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}f={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:i}}return f}}(We.API);var Po,_d,W2,H2,V2,fj=function(){var t,e,n;function r(s){var a,o,l,u,f,p,m,g,b,k,_,x,w,N;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(a=this.readUInt32(),b=(function(){var A,E;for(E=[],A=0;A<4;++A)E.push(String.fromCharCode(this.data[this.pos++]));return E}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),u=this.readUInt16()||100,p.delay=1e3*f/u,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,a-=4),s=(p!=null?p.data:void 0)||this.imgData,x=0;0<=a?x<a:x>a;0<=a?++x:--x)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((k=l-this.transparency.indexed.length)>0)for(w=0;0<=k?w<k:w>k;0<=k?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":m=(_=this.read(a)).indexOf(0),g=String.fromCharCode.apply(String,_.slice(0,m)),this.text[g]=String.fromCharCode.apply(String,_.slice(m+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function f(p,m,g,b){var k,_,x,w,N,A,E,B,F,R,J,ne,O,M,G,W,de,ue,pe,V,ie,ae=Math.ceil((u.width-p)/g),Ne=Math.ceil((u.height-m)/b),P=u.width==ae&&u.height==Ne;for(M=a*ae,ne=P?o:new Uint8Array(M*Ne),A=s.length,O=0,_=0;O<Ne&&l<A;){switch(s[l++]){case 0:for(w=de=0;de<M;w=de+=1)ne[_++]=s[l++];break;case 1:for(w=ue=0;ue<M;w=ue+=1)k=s[l++],N=w<a?0:ne[_-a],ne[_++]=(k+N)%256;break;case 2:for(w=pe=0;pe<M;w=pe+=1)k=s[l++],x=(w-w%a)/a,G=O&&ne[(O-1)*M+x*a+w%a],ne[_++]=(G+k)%256;break;case 3:for(w=V=0;V<M;w=V+=1)k=s[l++],x=(w-w%a)/a,N=w<a?0:ne[_-a],G=O&&ne[(O-1)*M+x*a+w%a],ne[_++]=(k+Math.floor((N+G)/2))%256;break;case 4:for(w=ie=0;ie<M;w=ie+=1)k=s[l++],x=(w-w%a)/a,N=w<a?0:ne[_-a],O===0?G=W=0:(G=ne[(O-1)*M+x*a+w%a],W=x&&ne[(O-1)*M+(x-1)*a+w%a]),E=N+G-W,B=Math.abs(E-N),R=Math.abs(E-G),J=Math.abs(E-W),F=B<=R&&B<=J?N:R<=J?G:W,ne[_++]=(k+F)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!P){var z=((m+O*b)*u.width+p)*a,q=O*M;for(w=0;w<ae;w+=1){for(var Y=0;Y<a;Y+=1)o[z++]=ne[q++];z+=(g-1)*a}}O++}}return s=H_(s),u.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),o},r.prototype.decodePalette=function(){var s,a,o,l,u,f,p,m,g;for(o=this.palette,f=this.transparency.indexed||[],u=new Uint8Array((f.length||0)+o.length),l=0,s=0,a=p=0,m=o.length;p<m;a=p+=3)u[l++]=o[a],u[l++]=o[a+1],u[l++]=o[a+2],u[l++]=(g=f[s++])!=null?g:255;return u},r.prototype.copyToImageData=function(s,a){var o,l,u,f,p,m,g,b,k,_,x;if(l=this.colors,k=null,o=this.hasAlphaChannel,this.palette.length&&(k=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),l=4,o=!0),b=(u=s.data||s).length,p=k||a,f=m=0,l===1)for(;f<b;)g=k?4*a[f/4]:m,_=p[g++],u[f++]=_,u[f++]=_,u[f++]=_,u[f++]=o?p[g++]:255,m=g;else for(;f<b;)g=k?4*a[f/4]:m,u[f++]=p[g++],u[f++]=p[g++],u[f++]=p[g++],u[f++]=o?p[g++]:255,m=g},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Ge)==="[object Window]"){try{e=Ge.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,o,l,u,f,p,m,g;if(this.animation){for(g=[],o=f=0,p=(m=this.animation.frames).length;f<p;o=++f)a=m[o],l=s.createImageData(a.width,a.height),u=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,u),a.imageData=l,g.push(a.image=t(l));return g}},r.prototype.renderFrame=function(s,a){var o,l,u;return o=(l=this.animation.frames)[a],u=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},r.prototype.animate=function(s){var a,o,l,u,f,p,m=this;return o=0,p=this.animation,u=p.numFrames,l=p.frames,f=p.numPlays,(a=function(){var g,b;if(g=o++%u,b=l[g],m.renderFrame(s,g),u>1&&o/u<f)return m.animation._timeout=setTimeout(a,b.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function pj(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var u=!0,f=[],p=0,m=null,g=0,b=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var k=t[e++];p=t[e++]|t[e++]<<8,m=t[e++],!(1&k)&&(m=null),g=k>>2&7,e++;break;case 254:for(;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var _=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,A=t[e++],E=A>>6&1,B=1<<(7&A)+1,F=o,R=l,J=!1;A>>7&&(J=!0,F=e,R=B,e+=3*B);var ne=e;for(e++;;){var O;if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}f.push({x:_,y:x,width:w,height:N,has_local_palette:J,palette_offset:F,palette_size:R,data_offset:ne,data_length:e-ne,transparent_index:m,interlaced:!!E,delay:p,disposal:g});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return b},this.frameInfo=function(M){if(M<0||M>=f.length)throw new Error("Frame index out of range.");return f[M]},this.decodeAndBlitFrameBGRA=function(M,G){var W=this.frameInfo(M),de=W.width*W.height,ue=new Uint8Array(de);G2(t,W.data_offset,ue,de);var pe=W.palette_offset,V=W.transparent_index;V===null&&(V=256);var ie=W.width,ae=n-ie,Ne=ie,P=4*(W.y*n+W.x),z=4*((W.y+W.height)*n+W.x),q=P,Y=4*ae;W.interlaced===!0&&(Y+=4*n*7);for(var te=8,ce=0,he=ue.length;ce<he;++ce){var fe=ue[ce];if(Ne===0&&(Ne=ie,(q+=Y)>=z&&(Y=4*ae+4*n*(te-1),q=P+(ie+ae)*(te<<1),te>>=1)),fe===V)q+=4;else{var Le=t[pe+3*fe],je=t[pe+3*fe+1],Te=t[pe+3*fe+2];G[q++]=Te,G[q++]=je,G[q++]=Le,G[q++]=255}--Ne}},this.decodeAndBlitFrameRGBA=function(M,G){var W=this.frameInfo(M),de=W.width*W.height,ue=new Uint8Array(de);G2(t,W.data_offset,ue,de);var pe=W.palette_offset,V=W.transparent_index;V===null&&(V=256);var ie=W.width,ae=n-ie,Ne=ie,P=4*(W.y*n+W.x),z=4*((W.y+W.height)*n+W.x),q=P,Y=4*ae;W.interlaced===!0&&(Y+=4*n*7);for(var te=8,ce=0,he=ue.length;ce<he;++ce){var fe=ue[ce];if(Ne===0&&(Ne=ie,(q+=Y)>=z&&(Y=4*ae+4*n*(te-1),q=P+(ie+ae)*(te<<1),te>>=1)),fe===V)q+=4;else{var Le=t[pe+3*fe],je=t[pe+3*fe+1],Te=t[pe+3*fe+2];G[q++]=Le,G[q++]=je,G[q++]=Te,G[q++]=255}--Ne}}}function G2(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,f=0,p=0,m=0,g=t[e++],b=new Int32Array(4096),k=null;;){for(;f<16&&g!==0;)p|=t[e++]<<f,f+=8,g===1?g=t[e++]:--g;if(f<l)break;var _=p&u;if(p>>=l,f-=l,_!==s){if(_===a)break;for(var x=_<o?_:k,w=0,N=x;N>s;)N=b[N]>>8,++w;var A=N;if(m+w+(x!==_?1:0)>r)return void At.log("Warning, gif stream longer than expected.");n[m++]=A;var E=m+=w;for(x!==_&&(n[m++]=A),N=x;w--;)N=b[N],n[--E]=255&N,N>>=8;k!==null&&o<4096&&(b[o++]=k<<8|A,o>=u+1&&l<12&&(++l,u=u<<1|1)),k=_}else o=a+1,u=(1<<(l=i+1))-1,k=null}return m!==r&&At.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Dp(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),f=new Array(64),p=new Array(65535),m=new Array(65535),g=new Array(64),b=new Array(64),k=[],_=0,x=7,w=new Array(64),N=new Array(64),A=new Array(64),E=new Array(256),B=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ue(P,z){for(var q=0,Y=0,te=new Array,ce=1;ce<=16;ce++){for(var he=1;he<=P[ce];he++)te[z[Y]]=[],te[z[Y]][0]=q,te[z[Y]][1]=ce,Y++,q++;q*=2}return te}function pe(P){for(var z=P[0],q=P[1]-1;q>=0;)z&1<<q&&(_|=1<<x),q--,--x<0&&(_==255?(V(255),V(0)):V(_),x=7,_=0)}function V(P){k.push(P)}function ie(P){V(P>>8&255),V(255&P)}function ae(P,z,q,Y,te){for(var ce,he=te[0],fe=te[240],Le=function(ke,Pe){var Oe,Ie,ze,Qe,st,at,pt,_t,Ke,lt,De=0;for(Ke=0;Ke<8;++Ke){Oe=ke[De],Ie=ke[De+1],ze=ke[De+2],Qe=ke[De+3],st=ke[De+4],at=ke[De+5],pt=ke[De+6];var In=Oe+(_t=ke[De+7]),vt=Oe-_t,Ur=Ie+pt,Pt=Ie-pt,Ft=ze+at,hi=ze-at,xt=Qe+st,oa=Qe-st,Wt=In+xt,qr=In-xt,Di=Ur+Ft,Ht=Ur-Ft;ke[De]=Wt+Di,ke[De+4]=Wt-Di;var Xe=.707106781*(Ht+qr);ke[De+2]=qr+Xe,ke[De+6]=qr-Xe;var bt=.382683433*((Wt=oa+hi)-(Ht=Pt+vt)),la=.5411961*Wt+bt,kn=1.306562965*Ht+bt,fi=.707106781*(Di=hi+Pt),pi=vt+fi,He=vt-fi;ke[De+5]=He+la,ke[De+3]=He-la,ke[De+1]=pi+kn,ke[De+7]=pi-kn,De+=8}for(De=0,Ke=0;Ke<8;++Ke){Oe=ke[De],Ie=ke[De+8],ze=ke[De+16],Qe=ke[De+24],st=ke[De+32],at=ke[De+40],pt=ke[De+48];var Wr=Oe+(_t=ke[De+56]),gi=Oe-_t,Xn=Ie+pt,hn=Ie-pt,sn=ze+at,hr=ze-at,Ha=Qe+st,Mi=Qe-st,Hr=Wr+Ha,Vr=Wr-Ha,Gr=Xn+sn,mi=Xn-sn;ke[De]=Hr+Gr,ke[De+32]=Hr-Gr;var _r=.707106781*(mi+Vr);ke[De+16]=Vr+_r,ke[De+48]=Vr-_r;var vi=.382683433*((Hr=Mi+hr)-(mi=hn+gi)),ca=.5411961*Hr+vi,Va=1.306562965*mi+vi,Ga=.707106781*(Gr=hr+hn),Ka=gi+Ga,Ja=gi-Ga;ke[De+40]=Ja+ca,ke[De+24]=Ja-ca,ke[De+8]=Ka+Va,ke[De+56]=Ka-Va,De++}for(Ke=0;Ke<64;++Ke)lt=ke[Ke]*Pe[Ke],g[Ke]=lt>0?lt+.5|0:lt-.5|0;return g}(P,z),je=0;je<64;++je)b[F[je]]=Le[je];var Te=b[0]-q;q=b[0],Te==0?pe(Y[0]):(pe(Y[m[ce=32767+Te]]),pe(p[ce]));for(var Ae=63;Ae>0&&b[Ae]==0;)Ae--;if(Ae==0)return pe(he),q;for(var Ve,ve=1;ve<=Ae;){for(var H=ve;b[ve]==0&&ve<=Ae;)++ve;var tt=ve-H;if(tt>=16){Ve=tt>>4;for(var Be=1;Be<=Ve;++Be)pe(fe);tt&=15}ce=32767+b[ve],pe(te[(tt<<4)+m[ce]]),pe(p[ce]),ve++}return Ae!=63&&pe(he),q}function Ne(P){P=Math.min(Math.max(P,1),100),s!=P&&(function(z){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var te=a((q[Y]*z+50)/100);te=Math.min(Math.max(te,1),255),o[F[Y]]=te}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var fe=a((ce[he]*z+50)/100);fe=Math.min(Math.max(fe,1),255),l[F[he]]=fe}for(var Le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,Te=0;Te<8;Te++)for(var Ae=0;Ae<8;Ae++)u[je]=1/(o[F[je]]*Le[Te]*Le[Ae]*8),f[je]=1/(l[F[je]]*Le[Te]*Le[Ae]*8),je++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),s=P)}this.encode=function(P,z){z&&Ne(z),k=new Array,_=0,x=7,ie(65496),ie(65504),ie(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),ie(1),ie(1),V(0),V(0),function(){ie(65499),ie(132),V(0);for(var Ie=0;Ie<64;Ie++)V(o[Ie]);V(1);for(var ze=0;ze<64;ze++)V(l[ze])}(),function(Ie,ze){ie(65472),ie(17),V(8),ie(ze),ie(Ie),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(P.width,P.height),function(){ie(65476),ie(418),V(0);for(var Ie=0;Ie<16;Ie++)V(R[Ie+1]);for(var ze=0;ze<=11;ze++)V(J[ze]);V(16);for(var Qe=0;Qe<16;Qe++)V(ne[Qe+1]);for(var st=0;st<=161;st++)V(O[st]);V(1);for(var at=0;at<16;at++)V(M[at+1]);for(var pt=0;pt<=11;pt++)V(G[pt]);V(17);for(var _t=0;_t<16;_t++)V(W[_t+1]);for(var Ke=0;Ke<=161;Ke++)V(de[Ke])}(),ie(65498),ie(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var q=0,Y=0,te=0;_=0,x=7,this.encode.displayName="_encode_";for(var ce,he,fe,Le,je,Te,Ae,Ve,ve,H=P.data,tt=P.width,Be=P.height,ke=4*tt,Pe=0;Pe<Be;){for(ce=0;ce<ke;){for(je=ke*Pe+ce,Ae=-1,Ve=0,ve=0;ve<64;ve++)Te=je+(Ve=ve>>3)*ke+(Ae=4*(7&ve)),Pe+Ve>=Be&&(Te-=ke*(Pe+1+Ve-Be)),ce+Ae>=ke&&(Te-=ce+Ae-ke+4),he=H[Te++],fe=H[Te++],Le=H[Te++],w[ve]=(B[he]+B[fe+256>>0]+B[Le+512>>0]>>16)-128,N[ve]=(B[he+768>>0]+B[fe+1024>>0]+B[Le+1280>>0]>>16)-128,A[ve]=(B[he+1280>>0]+B[fe+1536>>0]+B[Le+1792>>0]>>16)-128;q=ae(w,u,q,e,r),Y=ae(N,f,Y,n,i),te=ae(A,f,te,n,i),ce+=32}Pe+=8}if(x>=0){var Oe=[];Oe[1]=x+1,Oe[0]=(1<<x+1)-1,pe(Oe)}return ie(65497),new Uint8Array(k)},t=t||50,function(){for(var P=String.fromCharCode,z=0;z<256;z++)E[z]=P(z)}(),e=ue(R,J),n=ue(M,G),r=ue(ne,O),i=ue(W,de),function(){for(var P=1,z=2,q=1;q<=15;q++){for(var Y=P;Y<z;Y++)m[32767+Y]=q,p[32767+Y]=[],p[32767+Y][1]=q,p[32767+Y][0]=Y;for(var te=-(z-1);te<=-P;te++)m[32767+te]=q,p[32767+te]=[],p[32767+te][1]=q,p[32767+te][0]=z-1+te;P<<=1,z<<=1}}(),function(){for(var P=0;P<256;P++)B[P]=19595*P,B[P+256>>0]=38470*P,B[P+512>>0]=7471*P+32768,B[P+768>>0]=-11059*P,B[P+1024>>0]=-21709*P,B[P+1280>>0]=32768*P+8421375,B[P+1536>>0]=-27439*P,B[P+1792>>0]=-5329*P}(),Ne(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ti(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function K2(t){function e(R){if(!R)throw Error("assert :P")}function n(R,J,ne){for(var O=0;4>O;O++)if(R[J+O]!=ne.charCodeAt(O))return!0;return!1}function r(R,J,ne,O,M){for(var G=0;G<M;G++)R[J+G]=ne[O+G]}function i(R,J,ne,O){for(var M=0;M<O;M++)R[J+M]=ne}function s(R){return new Int32Array(R)}function a(R,J){for(var ne=[],O=0;O<R;O++)ne.push(new J);return ne}function o(R,J){var ne=[];return function O(M,G,W){for(var de=W[G],ue=0;ue<de&&(M.push(W.length>G+1?[]:new J),!(W.length<G+1));ue++)O(M[ue],G+1,W)}(ne,0,R),ne}var l=function(){var R=this;function J(c,h){for(var y=1<<h-1>>>0;c&y;)y>>>=1;return y?(c&y-1)+y:c}function ne(c,h,y,S,j){e(!(S%y));do c[h+(S-=y)]=j;while(0<S)}function O(c,h,y,S,j){if(e(2328>=j),512>=j)var C=s(512);else if((C=s(j))==null)return 0;return function(I,T,D,$,Q,oe){var le,re,xe=T,ge=1<<D,X=s(16),ee=s(16);for(e(Q!=0),e($!=null),e(I!=null),e(0<D),re=0;re<Q;++re){if(15<$[re])return 0;++X[$[re]]}if(X[0]==Q)return 0;for(ee[1]=0,le=1;15>le;++le){if(X[le]>1<<le)return 0;ee[le+1]=ee[le]+X[le]}for(re=0;re<Q;++re)le=$[re],0<$[re]&&(oe[ee[le]++]=re);if(ee[15]==1)return($=new M).g=0,$.value=oe[0],ne(I,xe,1,ge,$),ge;var ye,be=-1,we=ge-1,Re=0,Ce=1,qe=1,Ee=1<<D;for(re=0,le=1,Q=2;le<=D;++le,Q<<=1){if(Ce+=qe<<=1,0>(qe-=X[le]))return 0;for(;0<X[le];--X[le])($=new M).g=le,$.value=oe[re++],ne(I,xe+Re,Q,Ee,$),Re=J(Re,le)}for(le=D+1,Q=2;15>=le;++le,Q<<=1){if(Ce+=qe<<=1,0>(qe-=X[le]))return 0;for(;0<X[le];--X[le]){if($=new M,(Re&we)!=be){for(xe+=Ee,ye=1<<(be=le)-D;15>be&&!(0>=(ye-=X[be]));)++be,ye<<=1;ge+=Ee=1<<(ye=be-D),I[T+(be=Re&we)].g=ye+D,I[T+be].value=xe-T-be}$.g=le-D,$.value=oe[re++],ne(I,xe+(Re>>D),Q,Ee,$),Re=J(Re,le)}}return Ce!=2*ee[15]-1?0:ge}(c,h,y,S,j,C)}function M(){this.value=this.g=0}function G(){this.value=this.g=0}function W(){this.G=a(5,M),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(_n,G)}function de(c,h,y,S){e(c!=null),e(h!=null),e(2147483648>S),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=h,c.pa=y,c.Jd=h,c.Yc=y+S,c.Zc=4<=S?y+S-4+1:y,ce(c)}function ue(c,h){for(var y=0;0<h--;)y|=fe(c,128)<<h;return y}function pe(c,h){var y=ue(c,h);return he(c)?-y:y}function V(c,h,y,S){var j,C=0;for(e(c!=null),e(h!=null),e(4294967288>S),c.Sb=S,c.Ra=0,c.u=0,c.h=0,4<S&&(S=4),j=0;j<S;++j)C+=h[y+j]<<8*j;c.Ra=C,c.bb=S,c.oa=h,c.pa=y}function ie(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<uo-8>>>0,++c.bb,c.u-=8;q(c)&&(c.h=1,c.u=0)}function ae(c,h){if(e(0<=h),!c.h&&h<=co){var y=z(c)&lo[h];return c.u+=h,ie(c),y}return c.h=1,c.u=0}function Ne(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(c){return c.Ra>>>(c.u&uo-1)>>>0}function q(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>uo}function Y(c,h){c.u=h,c.h=q(c)}function te(c){c.u>=Fl&&(e(c.u>=Fl),ie(c))}function ce(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function he(c){return ue(c,1)}function fe(c,h){var y=c.Ca;0>c.b&&ce(c);var S=c.b,j=y*h>>>8,C=(c.I>>>S>j)+0;for(C?(y-=j,c.I-=j+1<<S>>>0):y=j+1,S=y,j=0;256<=S;)j+=8,S>>=8;return S=7^j+er[S],c.b-=S,c.Ca=(y<<S)-1,C}function Le(c,h,y){c[h+0]=y>>24&255,c[h+1]=y>>16&255,c[h+2]=y>>8&255,c[h+3]=y>>0&255}function je(c,h){return c[h+0]<<0|c[h+1]<<8}function Te(c,h){return je(c,h)|c[h+2]<<16}function Ae(c,h){return je(c,h)|je(c,h+2)<<16}function Ve(c,h){var y=1<<h;return e(c!=null),e(0<h),c.X=s(y),c.X==null?0:(c.Mb=32-h,c.Xa=h,1)}function ve(c,h){e(c!=null),e(h!=null),e(c.Xa==h.Xa),r(h.X,0,c.X,0,1<<h.Xa)}function H(){this.X=[],this.Xa=this.Mb=0}function tt(c,h,y,S){e(y!=null),e(S!=null);var j=y[0],C=S[0];return j==0&&(j=(c*C+h/2)/h),C==0&&(C=(h*j+c/2)/c),0>=j||0>=C?0:(y[0]=j,S[0]=C,1)}function Be(c,h){return c+(1<<h)-1>>>h}function ke(c,h){return((4278255360&c)+(4278255360&h)>>>0&4278255360)+((16711935&c)+(16711935&h)>>>0&16711935)>>>0}function Pe(c,h){R[h]=function(y,S,j,C,I,T,D){var $;for($=0;$<I;++$){var Q=R[c](T[D+$-1],j,C+$);T[D+$]=ke(y[S+$],Q)}}}function Oe(){this.ud=this.hd=this.jd=0}function Ie(c,h){return((4278124286&(c^h))>>>1)+(c&h)>>>0}function ze(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function Qe(c,h){return ze(c+(c-h+.5>>1))}function st(c,h,y){return Math.abs(h-y)-Math.abs(c-y)}function at(c,h,y,S,j,C,I){for(S=C[I-1],y=0;y<j;++y)C[I+y]=S=ke(c[h+y],S)}function pt(c,h,y,S,j){var C;for(C=0;C<y;++C){var I=c[h+C],T=I>>8&255,D=16711935&(D=(D=16711935&I)+((T<<16)+T));S[j+C]=(4278255360&I)+D>>>0}}function _t(c,h){h.jd=c>>0&255,h.hd=c>>8&255,h.ud=c>>16&255}function Ke(c,h,y,S,j,C){var I;for(I=0;I<S;++I){var T=h[y+I],D=T>>>8,$=T,Q=255&(Q=(Q=T>>>16)+((c.jd<<24>>24)*(D<<24>>24)>>>5));$=255&($=($=$+((c.hd<<24>>24)*(D<<24>>24)>>>5))+((c.ud<<24>>24)*(Q<<24>>24)>>>5)),j[C+I]=(4278255360&T)+(Q<<16)+$}}function lt(c,h,y,S,j){R[h]=function(C,I,T,D,$,Q,oe,le,re){for(D=oe;D<le;++D)for(oe=0;oe<re;++oe)$[Q++]=j(T[S(C[I++])])},R[c]=function(C,I,T,D,$,Q,oe){var le=8>>C.b,re=C.Ea,xe=C.K[0],ge=C.w;if(8>le)for(C=(1<<C.b)-1,ge=(1<<le)-1;I<T;++I){var X,ee=0;for(X=0;X<re;++X)X&C||(ee=S(D[$++])),Q[oe++]=j(xe[ee&ge]),ee>>=le}else R["VP8LMapColor"+y](D,$,xe,ge,Q,oe,I,T,re)}}function De(c,h,y,S,j){for(y=h+y;h<y;){var C=c[h++];S[j++]=C>>16&255,S[j++]=C>>8&255,S[j++]=C>>0&255}}function In(c,h,y,S,j){for(y=h+y;h<y;){var C=c[h++];S[j++]=C>>16&255,S[j++]=C>>8&255,S[j++]=C>>0&255,S[j++]=C>>24&255}}function vt(c,h,y,S,j){for(y=h+y;h<y;){var C=(I=c[h++])>>16&240|I>>12&15,I=I>>0&240|I>>28&15;S[j++]=C,S[j++]=I}}function Ur(c,h,y,S,j){for(y=h+y;h<y;){var C=(I=c[h++])>>16&248|I>>13&7,I=I>>5&224|I>>3&31;S[j++]=C,S[j++]=I}}function Pt(c,h,y,S,j){for(y=h+y;h<y;){var C=c[h++];S[j++]=C>>0&255,S[j++]=C>>8&255,S[j++]=C>>16&255}}function Ft(c,h,y,S,j,C){if(C==0)for(y=h+y;h<y;)Le(S,((C=c[h++])[0]>>24|C[1]>>8&65280|C[2]<<8&16711680|C[3]<<24)>>>0),j+=32;else r(S,j,c,h,y)}function hi(c,h){R[h][0]=R[c+"0"],R[h][1]=R[c+"1"],R[h][2]=R[c+"2"],R[h][3]=R[c+"3"],R[h][4]=R[c+"4"],R[h][5]=R[c+"5"],R[h][6]=R[c+"6"],R[h][7]=R[c+"7"],R[h][8]=R[c+"8"],R[h][9]=R[c+"9"],R[h][10]=R[c+"10"],R[h][11]=R[c+"11"],R[h][12]=R[c+"12"],R[h][13]=R[c+"13"],R[h][14]=R[c+"0"],R[h][15]=R[c+"0"]}function xt(c){return c==Ef||c==If||c==Bu||c==Tf}function oa(){this.eb=[],this.size=this.A=this.fb=0}function Wt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function qr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new oa,this.f.kb=new Wt,this.sd=null}function Di(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ht(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Xe(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function bt(c,h){var y=c.T,S=h.ba.f.RGBA,j=S.eb,C=S.fb+c.ka*S.A,I=Er[h.ba.S],T=c.y,D=c.O,$=c.f,Q=c.N,oe=c.ea,le=c.W,re=h.cc,xe=h.dc,ge=h.Mc,X=h.Nc,ee=c.ka,ye=c.ka+c.T,be=c.U,we=be+1>>1;for(ee==0?I(T,D,null,null,$,Q,oe,le,$,Q,oe,le,j,C,null,null,be):(I(h.ec,h.fc,T,D,re,xe,ge,X,$,Q,oe,le,j,C-S.A,j,C,be),++y);ee+2<ye;ee+=2)re=$,xe=Q,ge=oe,X=le,Q+=c.Rc,le+=c.Rc,C+=2*S.A,I(T,(D+=2*c.fa)-c.fa,T,D,re,xe,ge,X,$,Q,oe,le,j,C-S.A,j,C,be);return D+=c.fa,c.j+ye<c.o?(r(h.ec,h.fc,T,D,be),r(h.cc,h.dc,$,Q,we),r(h.Mc,h.Nc,oe,le,we),y--):1&ye||I(T,D,null,null,$,Q,oe,le,$,Q,oe,le,j,C+S.A,null,null,be),y}function la(c,h,y){var S=c.F,j=[c.J];if(S!=null){var C=c.U,I=h.ba.S,T=I==$u||I==Bu;h=h.ba.f.RGBA;var D=[0],$=c.ka;D[0]=c.T,c.Kb&&($==0?--D[0]:(--$,j[0]-=c.width),c.j+c.ka+c.T==c.o&&(D[0]=c.o-c.j-$));var Q=h.eb;$=h.fb+$*h.A,c=It(S,j[0],c.width,C,D,Q,$+(T?0:3),h.A),e(y==D),c&&xt(I)&&Cr(Q,$,T,C,D,h.A)}return 0}function kn(c){var h=c.ma,y=h.ba.S,S=11>y,j=y==Ru||y==Fu||y==$u||y==Af||y==12||xt(y);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!Ml(h.Oa,c,j?11:12))return 0;if(j&&xt(y)&&Se(),c.da)alert("todo:use_scaling");else{if(S){if(h.Ib=Xe,c.Kb){if(y=c.U+1>>1,h.memory=s(c.U+2*y),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+c.U,h.Mc=h.cc,h.Nc=h.dc+y,h.Ib=bt,Se()}}else alert("todo:EmitYUV");j&&(h.Jb=la,S&&se())}if(S&&!_0){for(c=0;256>c;++c)yx[c]=89858*(c-128)+Uu>>zu,bx[c]=-22014*(c-128)+Uu,xx[c]=-45773*(c-128),wx[c]=113618*(c-128)+Uu>>zu;for(c=Hl;c<Mf;++c)h=76283*(c-16)+Uu>>zu,Sx[c-Hl]=fr(h,255),Nx[c-Hl]=fr(h+8>>4,15);_0=1}return 1}function fi(c){var h=c.ma,y=c.U,S=c.T;return e(!(1&c.ka)),0>=y||0>=S?0:(y=h.Ib(c,h),h.Jb!=null&&h.Jb(c,h,y),h.Dc+=y,1)}function pi(c){c.ma.memory=null}function He(c,h,y,S){return ae(c,8)!=47?0:(h[0]=ae(c,14)+1,y[0]=ae(c,14)+1,S[0]=ae(c,1),ae(c,3)!=0?0:!c.h)}function Wr(c,h){if(4>c)return c+1;var y=c-2>>1;return(2+(1&c)<<y)+ae(h,y)+1}function gi(c,h){return 120<h?h-120:1<=(y=((y=ix[h-1])>>4)*c+(8-(15&y)))?y:1;var y}function Xn(c,h,y){var S=z(y),j=c[h+=255&S].g-8;return 0<j&&(Y(y,y.u+8),S=z(y),h+=c[h].value,h+=S&(1<<j)-1),Y(y,y.u+c[h].g),c[h].value}function hn(c,h,y){return y.g+=c.g,y.value+=c.value<<h>>>0,e(8>=y.g),c.g}function sn(c,h,y){var S=c.xc;return e((h=S==0?0:c.vc[c.md*(y>>S)+(h>>S)])<c.Wb),c.Ya[h]}function hr(c,h,y,S){var j=c.ab,C=c.c*h,I=c.C;h=I+h;var T=y,D=S;for(S=c.Ta,y=c.Ua;0<j--;){var $=c.gc[j],Q=I,oe=h,le=T,re=D,xe=(D=S,T=y,$.Ea);switch(e(Q<oe),e(oe<=$.nc),$.hc){case 2:Au(le,re,(oe-Q)*xe,D,T);break;case 0:var ge=Q,X=oe,ee=D,ye=T,be=(Ee=$).Ea;ge==0&&(Pf(le,re,null,null,1,ee,ye),at(le,re+1,0,0,be-1,ee,ye+1),re+=be,ye+=be,++ge);for(var we=1<<Ee.b,Re=we-1,Ce=Be(be,Ee.b),qe=Ee.K,Ee=Ee.w+(ge>>Ee.b)*Ce;ge<X;){var wt=qe,St=Ee,gt=1;for($l(le,re,ee,ye-be,1,ee,ye);gt<be;){var dt=(gt&~Re)+we;dt>be&&(dt=be),(0,fs[wt[St++]>>8&15])(le,re+ +gt,ee,ye+gt-be,dt-gt,ee,ye+gt),gt=dt}re+=be,ye+=be,++ge&Re||(Ee+=Ce)}oe!=$.nc&&r(D,T-xe,D,T+(oe-Q-1)*xe,xe);break;case 1:for(xe=le,X=re,be=(le=$.Ea)-(ye=le&~(ee=(re=1<<$.b)-1)),ge=Be(le,$.b),we=$.K,$=$.w+(Q>>$.b)*ge;Q<oe;){for(Re=we,Ce=$,qe=new Oe,Ee=X+ye,wt=X+le;X<Ee;)_t(Re[Ce++],qe),pa(qe,xe,X,re,D,T),X+=re,T+=re;X<wt&&(_t(Re[Ce++],qe),pa(qe,xe,X,be,D,T),X+=be,T+=be),++Q&ee||($+=ge)}break;case 3:if(le==D&&re==T&&0<$.b){for(X=D,le=xe=T+(oe-Q)*xe-(ye=(oe-Q)*Be($.Ea,$.b)),re=D,ee=T,ge=[],ye=(be=ye)-1;0<=ye;--ye)ge[ye]=re[ee+ye];for(ye=be-1;0<=ye;--ye)X[le+ye]=ge[ye];jr($,Q,oe,D,xe,D,T)}else jr($,Q,oe,le,re,D,T)}T=S,D=y}D!=y&&r(S,y,T,D,C)}function Ha(c,h){var y=c.V,S=c.Ba+c.c*c.C,j=h-c.C;if(e(h<=c.l.o),e(16>=j),0<j){var C=c.l,I=c.Ta,T=c.Ua,D=C.width;if(hr(c,j,y,S),j=T=[T],e((y=c.C)<(S=h)),e(C.v<C.va),S>C.o&&(S=C.o),y<C.j){var $=C.j-y;y=C.j,j[0]+=$*D}if(y>=S?y=0:(j[0]+=4*C.v,C.ka=y-C.j,C.U=C.va-C.v,C.T=S-y,y=1),y){if(T=T[0],11>(y=c.ca).S){var Q=y.f.RGBA,oe=(S=y.S,j=C.U,C=C.T,$=Q.eb,Q.A),le=C;for(Q=Q.fb+c.Ma*Q.A;0<le--;){var re=I,xe=T,ge=j,X=$,ee=Q;switch(S){case Mu:tr(re,xe,ge,X,ee);break;case Ru:Wn(re,xe,ge,X,ee);break;case Ef:Wn(re,xe,ge,X,ee),Cr(X,ee,0,ge,1,0);break;case m0:Bi(re,xe,ge,X,ee);break;case Fu:Ft(re,xe,ge,X,ee,1);break;case If:Ft(re,xe,ge,X,ee,1),Cr(X,ee,0,ge,1,0);break;case $u:Ft(re,xe,ge,X,ee,0);break;case Bu:Ft(re,xe,ge,X,ee,0),Cr(X,ee,1,ge,1,0);break;case Af:ps(re,xe,ge,X,ee);break;case Tf:ps(re,xe,ge,X,ee),Et(X,ee,ge,1,0);break;case v0:$i(re,xe,ge,X,ee);break;default:e(0)}T+=D,Q+=oe}c.Ma+=C}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=y.height)}}c.C=h,e(c.C<=c.i)}function Mi(c){var h;if(0<c.ua)return 0;for(h=0;h<c.Wb;++h){var y=c.Ya[h].G,S=c.Ya[h].H;if(0<y[1][S[1]+0].g||0<y[2][S[2]+0].g||0<y[3][S[3]+0].g)return 0}return 1}function Hr(c,h,y,S,j,C){if(c.Z!=0){var I=c.qd,T=c.rd;for(e(ys[c.Z]!=null);h<y;++h)ys[c.Z](I,T,S,j,S,j,C),I=S,T=j,j+=C;c.qd=I,c.rd=T}}function Vr(c,h){var y=c.l.ma,S=y.Z==0||y.Z==1?c.l.j:c.C;if(S=c.C<S?S:c.C,e(h<=c.l.o),h>S){var j=c.l.width,C=y.ca,I=y.tb+j*S,T=c.V,D=c.Ba+c.c*S,$=c.gc;e(c.ab==1),e($[0].hc==3),Eu($[0],S,h,T,D,C,I),Hr(y,S,h,C,I,j)}c.C=c.Ma=h}function Gr(c,h,y,S,j,C,I){var T=c.$/S,D=c.$%S,$=c.m,Q=c.s,oe=y+c.$,le=oe;j=y+S*j;var re=y+S*C,xe=280+Q.ua,ge=c.Pb?T:16777216,X=0<Q.ua?Q.Wa:null,ee=Q.wc,ye=oe<re?sn(Q,D,T):null;e(c.C<C),e(re<=j);var be=!1;e:for(;;){for(;be||oe<re;){var we=0;if(T>=ge){var Re=oe-y;e((ge=c).Pb),ge.wd=ge.m,ge.xd=Re,0<ge.s.ua&&ve(ge.s.Wa,ge.s.vb),ge=T+ax}if(D&ee||(ye=sn(Q,D,T)),e(ye!=null),ye.Qb&&(h[oe]=ye.qb,be=!0),!be)if(te($),ye.jc){we=$,Re=h;var Ce=oe,qe=ye.pd[z(we)&_n-1];e(ye.jc),256>qe.g?(Y(we,we.u+qe.g),Re[Ce]=qe.value,we=0):(Y(we,we.u+qe.g-256),e(256<=qe.value),we=qe.value),we==0&&(be=!0)}else we=Xn(ye.G[0],ye.H[0],$);if($.h)break;if(be||256>we){if(!be)if(ye.nd)h[oe]=(ye.qb|we<<8)>>>0;else{if(te($),be=Xn(ye.G[1],ye.H[1],$),te($),Re=Xn(ye.G[2],ye.H[2],$),Ce=Xn(ye.G[3],ye.H[3],$),$.h)break;h[oe]=(Ce<<24|be<<16|we<<8|Re)>>>0}if(be=!1,++oe,++D>=S&&(D=0,++T,I!=null&&T<=C&&!(T%16)&&I(c,T),X!=null))for(;le<oe;)we=h[le++],X.X[(506832829*we&4294967295)>>>X.Mb]=we}else if(280>we){if(we=Wr(we-256,$),Re=Xn(ye.G[4],ye.H[4],$),te($),Re=gi(S,Re=Wr(Re,$)),$.h)break;if(oe-y<Re||j-oe<we)break e;for(Ce=0;Ce<we;++Ce)h[oe+Ce]=h[oe+Ce-Re];for(oe+=we,D+=we;D>=S;)D-=S,++T,I!=null&&T<=C&&!(T%16)&&I(c,T);if(e(oe<=j),D&ee&&(ye=sn(Q,D,T)),X!=null)for(;le<oe;)we=h[le++],X.X[(506832829*we&4294967295)>>>X.Mb]=we}else{if(!(we<xe))break e;for(be=we-280,e(X!=null);le<oe;)we=h[le++],X.X[(506832829*we&4294967295)>>>X.Mb]=we;we=oe,e(!(be>>>(Re=X).Xa)),h[we]=Re.X[be],be=!0}be||e($.h==q($))}if(c.Pb&&$.h&&oe<j)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&ve(c.s.vb,c.s.Wa);else{if($.h)break e;I!=null&&I(c,T>C?C:T),c.a=0,c.$=oe-y}return 1}return c.a=3,0}function mi(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var h=c.Wa;h!=null&&(h.X=null),c.vb=null,e(c!=null)}function _r(){var c=new Lf;return c==null?null:(c.a=0,c.xb=x0,hi("Predictor","VP8LPredictors"),hi("Predictor","VP8LPredictors_C"),hi("PredictorAdd","VP8LPredictorsAdd"),hi("PredictorAdd","VP8LPredictorsAdd_C"),Au=pt,pa=Ke,tr=De,Wn=In,ps=vt,$i=Ur,Bi=Pt,R.VP8LMapColor32b=ho,R.VP8LMapColor8b=Iu,c)}function vi(c,h,y,S,j){var C=1,I=[c],T=[h],D=S.m,$=S.s,Q=null,oe=0;e:for(;;){if(y)for(;C&&ae(D,1);){var le=I,re=T,xe=S,ge=1,X=xe.m,ee=xe.gc[xe.ab],ye=ae(X,2);if(xe.Oc&1<<ye)C=0;else{switch(xe.Oc|=1<<ye,ee.hc=ye,ee.Ea=le[0],ee.nc=re[0],ee.K=[null],++xe.ab,e(4>=xe.ab),ye){case 0:case 1:ee.b=ae(X,3)+2,ge=vi(Be(ee.Ea,ee.b),Be(ee.nc,ee.b),0,xe,ee.K),ee.K=ee.K[0];break;case 3:var be,we=ae(X,8)+1,Re=16<we?0:4<we?1:2<we?2:3;if(le[0]=Be(ee.Ea,Re),ee.b=Re,be=ge=vi(we,1,0,xe,ee.K)){var Ce,qe=we,Ee=ee,wt=1<<(8>>Ee.b),St=s(wt);if(St==null)be=0;else{var gt=Ee.K[0],dt=Ee.w;for(St[0]=Ee.K[0][0],Ce=1;Ce<1*qe;++Ce)St[Ce]=ke(gt[dt+Ce],St[Ce-1]);for(;Ce<4*wt;++Ce)St[Ce]=0;Ee.K[0]=null,Ee.K[0]=St,be=1}}ge=be;break;case 2:break;default:e(0)}C=ge}}if(I=I[0],T=T[0],C&&ae(D,1)&&!(C=1<=(oe=ae(D,4))&&11>=oe)){S.a=3;break e}var Ct;if(Ct=C)t:{var jt,it,on,nr=S,ln=I,rr=T,Nt=oe,gr=y,mr=nr.m,wn=nr.s,jn=[null],Vn=1,Ir=0,bi=sx[Nt];n:for(;;){if(gr&&ae(mr,1)){var xn=ae(mr,3)+2,Wi=Be(ln,xn),wa=Be(rr,xn),vo=Wi*wa;if(!vi(Wi,wa,0,nr,jn))break n;for(jn=jn[0],wn.xc=xn,jt=0;jt<vo;++jt){var ws=jn[jt]>>8&65535;jn[jt]=ws,ws>=Vn&&(Vn=ws+1)}}if(mr.h)break n;for(it=0;5>it;++it){var Gt=y0[it];!it&&0<Nt&&(Gt+=1<<Nt),Ir<Gt&&(Ir=Gt)}var Rf=a(Vn*bi,M),P0=Vn,C0=a(P0,W);if(C0==null)var Wu=null;else e(65536>=P0),Wu=C0;var Vl=s(Ir);if(Wu==null||Vl==null||Rf==null){nr.a=1;break n}var Hu=Rf;for(jt=on=0;jt<Vn;++jt){var Xr=Wu[jt],yo=Xr.G,wo=Xr.H,A0=0,Vu=1,E0=0;for(it=0;5>it;++it){Gt=y0[it],yo[it]=Hu,wo[it]=on,!it&&0<Nt&&(Gt+=1<<Nt);i:{var Gu,Ff=Gt,Ku=nr,Gl=Vl,jx=Hu,Lx=on,$f=0,xs=Ku.m,Px=ae(xs,1);if(i(Gl,0,0,Ff),Px){var Cx=ae(xs,1)+1,Ax=ae(xs,1),I0=ae(xs,Ax==0?1:8);Gl[I0]=1,Cx==2&&(Gl[I0=ae(xs,8)]=1);var Ju=1}else{var T0=s(19),O0=ae(xs,4)+4;if(19<O0){Ku.a=3;var Yu=0;break i}for(Gu=0;Gu<O0;++Gu)T0[rx[Gu]]=ae(xs,3);var Bf=void 0,Kl=void 0,D0=Ku,Ex=T0,Qu=Ff,M0=Gl,zf=0,bs=D0.m,R0=8,F0=a(128,M);r:for(;O(F0,0,7,Ex,19);){if(ae(bs,1)){var Ix=2+2*ae(bs,3);if((Bf=2+ae(bs,Ix))>Qu)break r}else Bf=Qu;for(Kl=0;Kl<Qu&&Bf--;){te(bs);var $0=F0[0+(127&z(bs))];Y(bs,bs.u+$0.g);var xo=$0.value;if(16>xo)M0[Kl++]=xo,xo!=0&&(R0=xo);else{var Tx=xo==16,B0=xo-16,Ox=tx[B0],z0=ae(bs,ex[B0])+Ox;if(Kl+z0>Qu)break r;for(var Dx=Tx?R0:0;0<z0--;)M0[Kl++]=Dx}}zf=1;break r}zf||(D0.a=3),Ju=zf}(Ju=Ju&&!xs.h)&&($f=O(jx,Lx,8,Gl,Ff)),Ju&&$f!=0?Yu=$f:(Ku.a=3,Yu=0)}if(Yu==0)break n;if(Vu&&nx[it]==1&&(Vu=Hu[on].g==0),A0+=Hu[on].g,on+=Yu,3>=it){var Jl,Uf=Vl[0];for(Jl=1;Jl<Gt;++Jl)Vl[Jl]>Uf&&(Uf=Vl[Jl]);E0+=Uf}}if(Xr.nd=Vu,Xr.Qb=0,Vu&&(Xr.qb=(yo[3][wo[3]+0].value<<24|yo[1][wo[1]+0].value<<16|yo[2][wo[2]+0].value)>>>0,A0==0&&256>yo[0][wo[0]+0].value&&(Xr.Qb=1,Xr.qb+=yo[0][wo[0]+0].value<<8)),Xr.jc=!Xr.Qb&&6>E0,Xr.jc){var Xu,Hi=Xr;for(Xu=0;Xu<_n;++Xu){var Ss=Xu,Ns=Hi.pd[Ss],Zu=Hi.G[0][Hi.H[0]+Ss];256<=Zu.value?(Ns.g=Zu.g+256,Ns.value=Zu.value):(Ns.g=0,Ns.value=0,Ss>>=hn(Zu,8,Ns),Ss>>=hn(Hi.G[1][Hi.H[1]+Ss],16,Ns),Ss>>=hn(Hi.G[2][Hi.H[2]+Ss],0,Ns),hn(Hi.G[3][Hi.H[3]+Ss],24,Ns))}}}wn.vc=jn,wn.Wb=Vn,wn.Ya=Wu,wn.yc=Rf,Ct=1;break t}Ct=0}if(!(C=Ct)){S.a=3;break e}if(0<oe){if($.ua=1<<oe,!Ve($.Wa,oe)){S.a=1,C=0;break e}}else $.ua=0;var qf=S,U0=I,Mx=T,Wf=qf.s,Hf=Wf.xc;if(qf.c=U0,qf.i=Mx,Wf.md=Be(U0,Hf),Wf.wc=Hf==0?-1:(1<<Hf)-1,y){S.xb=fx;break e}if((Q=s(I*T))==null){S.a=1,C=0;break e}C=(C=Gr(S,Q,0,I,T,T,null))&&!D.h;break e}return C?(j!=null?j[0]=Q:(e(Q==null),e(y)),S.$=0,y||mi($)):mi($),C}function ca(c,h){var y=c.c*c.i,S=y+h+16*h;return e(c.c<=h),c.V=s(S),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+y+h,1)}function Va(c,h){var y=c.C,S=h-y,j=c.V,C=c.Ba+c.c*y;for(e(h<=c.l.o);0<S;){var I=16<S?16:S,T=c.l.ma,D=c.l.width,$=D*I,Q=T.ca,oe=T.tb+D*y,le=c.Ta,re=c.Ua;hr(c,I,j,C),Xt(le,re,Q,oe,$),Hr(T,y,y+I,Q,oe,D),S-=I,j+=I*c.c,y+=I}e(y==h),c.C=c.Ma=h}function Ga(){this.ub=this.yd=this.td=this.Rb=0}function Ka(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ja(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function uu(){this.Yb=function(){var c=[];return function h(y,S,j){for(var C=j[S],I=0;I<C&&(y.push(j.length>S+1?[]:0),!(j.length<S+1));I++)h(y[I],S+1,j)}(c,0,[3,11]),c}()}function rf(){this.jb=s(3),this.Wc=o([4,8],uu),this.Xc=o([4,17],uu)}function sf(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ya(){this.ld=this.La=this.dd=this.tc=0}function du(){this.Na=this.la=0}function af(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function of(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ya),this.Y=0,this.ya=Array(new xl),this.aa=0,this.l=new Qa}function hu(){this.y=s(16),this.f=s(8),this.ea=s(8)}function lf(){this.cb=this.a=0,this.sc="",this.m=new Ne,this.Od=new Ga,this.Kc=new Ka,this.ed=new sf,this.Qa=new Ja,this.Ic=this.$c=this.Aa=0,this.D=new of,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,Ne),this.ia=0,this.pb=a(4,af),this.Pa=new rf,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new hu),this.Hd=0,this.rb=Array(new du),this.sb=0,this.wa=Array(new Ya),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xl),this.L=this.aa=0,this.gd=o([4,2],Ya),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Qa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function cf(){var c=new lf;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,Wl||(Wl=gu)),c}function Yt(c,h,y){return c.a==0&&(c.a=h,c.sc=y,c.cb=0),0}function fu(c,h,y){return 3<=y&&c[h+0]==157&&c[h+1]==1&&c[h+2]==42}function pu(c,h){if(c==null)return 0;if(c.a=0,c.sc="OK",h==null)return Yt(c,2,"null VP8Io passed to VP8GetHeaders()");var y=h.data,S=h.w,j=h.ha;if(4>j)return Yt(c,7,"Truncated header.");var C=y[S+0]|y[S+1]<<8|y[S+2]<<16,I=c.Od;if(I.Rb=!(1&C),I.td=C>>1&7,I.yd=C>>4&1,I.ub=C>>5,3<I.td)return Yt(c,3,"Incorrect keyframe parameters.");if(!I.yd)return Yt(c,4,"Frame not displayable.");S+=3,j-=3;var T=c.Kc;if(I.Rb){if(7>j)return Yt(c,7,"cannot parse picture header");if(!fu(y,S,j))return Yt(c,3,"Bad code word");T.c=16383&(y[S+4]<<8|y[S+3]),T.Td=y[S+4]>>6,T.i=16383&(y[S+6]<<8|y[S+5]),T.Ud=y[S+6]>>6,S+=7,j-=7,c.za=T.c+15>>4,c.Ub=T.i+15>>4,h.width=T.c,h.height=T.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,i((C=c.Pa).jb,0,255,C.jb.length),e((C=c.Qa)!=null),C.Cb=0,C.Bb=0,C.Fb=1,i(C.Zb,0,0,C.Zb.length),i(C.Lb,0,0,C.Lb)}if(I.ub>j)return Yt(c,7,"bad partition length");de(C=c.m,y,S,I.ub),S+=I.ub,j-=I.ub,I.Rb&&(T.Ld=he(C),T.Kd=he(C)),T=c.Qa;var D,$=c.Pa;if(e(C!=null),e(T!=null),T.Cb=he(C),T.Cb){if(T.Bb=he(C),he(C)){for(T.Fb=he(C),D=0;4>D;++D)T.Zb[D]=he(C)?pe(C,7):0;for(D=0;4>D;++D)T.Lb[D]=he(C)?pe(C,6):0}if(T.Bb)for(D=0;3>D;++D)$.jb[D]=he(C)?ue(C,8):255}else T.Bb=0;if(C.Ka)return Yt(c,3,"cannot parse segment header");if((T=c.ed).zd=he(C),T.Tb=ue(C,6),T.wb=ue(C,3),T.Pc=he(C),T.Pc&&he(C)){for($=0;4>$;++$)he(C)&&(T.vd[$]=pe(C,6));for($=0;4>$;++$)he(C)&&(T.od[$]=pe(C,6))}if(c.L=T.Tb==0?0:T.zd?1:2,C.Ka)return Yt(c,3,"cannot parse filter header");var Q=j;if(j=D=S,S=D+Q,T=Q,c.Xb=(1<<ue(c.m,2))-1,Q<3*($=c.Xb))y=7;else{for(D+=3*$,T-=3*$,Q=0;Q<$;++Q){var oe=y[j+0]|y[j+1]<<8|y[j+2]<<16;oe>T&&(oe=T),de(c.Jc[+Q],y,D,oe),D+=oe,T-=oe,j+=3}de(c.Jc[+$],y,D,T),y=D<S?0:5}if(y!=0)return Yt(c,y,"cannot parse partitions");for(y=ue(D=c.m,7),j=he(D)?pe(D,4):0,S=he(D)?pe(D,4):0,T=he(D)?pe(D,4):0,$=he(D)?pe(D,4):0,D=he(D)?pe(D,4):0,Q=c.Qa,oe=0;4>oe;++oe){if(Q.Cb){var le=Q.Zb[oe];Q.Fb||(le+=y)}else{if(0<oe){c.pb[oe]=c.pb[0];continue}le=y}var re=c.pb[oe];re.Sc[0]=Of[fr(le+j,127)],re.Sc[1]=Df[fr(le+0,127)],re.Eb[0]=2*Of[fr(le+S,127)],re.Eb[1]=101581*Df[fr(le+T,127)]>>16,8>re.Eb[1]&&(re.Eb[1]=8),re.Qc[0]=Of[fr(le+$,117)],re.Qc[1]=Df[fr(le+D,127)],re.lc=le+D}if(!I.Rb)return Yt(c,4,"Not a key frame.");for(he(C),I=c.Pa,y=0;4>y;++y){for(j=0;8>j;++j)for(S=0;3>S;++S)for(T=0;11>T;++T)$=fe(C,dx[y][j][S][T])?ue(C,8):cx[y][j][S][T],I.Wc[y][j].Yb[S][T]=$;for(j=0;17>j;++j)I.Xc[y][j]=I.Wc[y][hx[j]]}return c.kc=he(C),c.kc&&(c.Bd=ue(C,8)),c.cb=1}function gu(c,h,y,S,j,C,I){var T=h[j].Yb[y];for(y=0;16>j;++j){if(!fe(c,T[y+0]))return j;for(;!fe(c,T[y+1]);)if(T=h[++j].Yb[0],y=0,j==16)return 16;var D=h[j+1].Yb;if(fe(c,T[y+2])){var $=c,Q=0;if(fe($,(le=T)[(oe=y)+3]))if(fe($,le[oe+6])){for(T=0,oe=2*(Q=fe($,le[oe+8]))+(le=fe($,le[oe+9+Q])),Q=0,le=ox[oe];le[T];++T)Q+=Q+fe($,le[T]);Q+=3+(8<<oe)}else fe($,le[oe+7])?(Q=7+2*fe($,165),Q+=fe($,145)):Q=5+fe($,159);else Q=fe($,le[oe+4])?3+fe($,le[oe+5]):2;T=D[2]}else Q=1,T=D[1];D=I+lx[j],0>($=c).b&&ce($);var oe,le=$.b,re=(oe=$.Ca>>1)-($.I>>le)>>31;--$.b,$.Ca+=re,$.Ca|=1,$.I-=(oe+1&re)<<le,C[D]=((Q^re)-re)*S[(0<j)+0]}return 16}function bl(c){var h=c.rb[c.sb-1];h.la=0,h.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function uf(c,h){if(c==null)return 0;if(h==null)return Yt(c,2,"NULL VP8Io parameter in VP8Decode().");if(!c.cb&&!pu(c,h))return 0;if(e(c.cb),h.ac==null||h.ac(h)){h.ob&&(c.L=0);var y=qu[c.L];if(c.L==2?(c.yb=0,c.zb=0):(c.yb=h.v-y>>4,c.zb=h.j-y>>4,0>c.yb&&(c.yb=0),0>c.zb&&(c.zb=0)),c.Va=h.o+15+y>>4,c.Hb=h.va+15+y>>4,c.Hb>c.za&&(c.Hb=c.za),c.Va>c.Ub&&(c.Va=c.Ub),0<c.L){var S=c.ed;for(y=0;4>y;++y){var j;if(c.Qa.Cb){var C=c.Qa.Lb[y];c.Qa.Fb||(C+=S.Tb)}else C=S.Tb;for(j=0;1>=j;++j){var I=c.gd[y][j],T=C;if(S.Pc&&(T+=S.vd[0],j&&(T+=S.od[0])),0<(T=0>T?0:63<T?63:T)){var D=T;0<S.wb&&(D=4<S.wb?D>>2:D>>1)>9-S.wb&&(D=9-S.wb),1>D&&(D=1),I.dd=D,I.tc=2*T+D,I.ld=40<=T?2:15<=T?1:0}else I.tc=0;I.La=j}}}y=0}else Yt(c,6,"Frame setup failed"),y=c.a;if(y=y==0){if(y){c.$c=0,0<c.Aa||(c.Ic=_x);e:{y=c.Ic,S=4*(D=c.za);var $=32*D,Q=D+1,oe=0<c.L?D*(0<c.Aa?2:1):0,le=(c.Aa==2?2:1)*D;if((I=S+832+(j=3*(16*y+qu[c.L])/2*$)+(C=c.Fa!=null&&0<c.Fa.length?c.Kc.c*c.Kc.i:0))!=I)y=0;else{if(I>c.Vb){if(c.Vb=0,c.Ec=s(I),c.Fc=0,c.Ec==null){y=Yt(c,1,"no memory during frame initialization.");break e}c.Vb=I}I=c.Ec,T=c.Fc,c.Ac=I,c.Bc=T,T+=S,c.Gd=a($,hu),c.Hd=0,c.rb=a(Q+1,du),c.sb=1,c.wa=oe?a(oe,Ya):null,c.Y=0,c.D.Nb=0,c.D.wa=c.wa,c.D.Y=c.Y,0<c.Aa&&(c.D.Y+=D),e(!0),c.oc=I,c.pc=T,T+=832,c.ya=a(le,xl),c.aa=0,c.D.ya=c.ya,c.D.aa=c.aa,c.Aa==2&&(c.D.aa+=D),c.R=16*D,c.B=8*D,D=($=qu[c.L])*c.R,$=$/2*c.B,c.sa=I,c.ta=T+D,c.qa=c.sa,c.ra=c.ta+16*y*c.R+$,c.Ha=c.qa,c.Ia=c.ra+8*y*c.B+$,c.$c=0,T+=j,c.mb=C?I:null,c.nb=C?T:null,e(T+C<=c.Fc+c.Vb),bl(c),i(c.Ac,c.Bc,0,S),y=1}}if(y){if(h.ka=0,h.y=c.sa,h.O=c.ta,h.f=c.qa,h.N=c.ra,h.ea=c.Ha,h.Vd=c.Ia,h.fa=c.R,h.Rc=c.B,h.F=null,h.J=0,!Ou){for(y=-255;255>=y;++y)fn[255+y]=0>y?-y:y;for(y=-1020;1020>=y;++y)Ui[1020+y]=-128>y?-128:127<y?127:y;for(y=-112;112>=y;++y)ql[112+y]=-16>y?-16:15<y?15:y;for(y=-255;510>=y;++y)mo[255+y]=0>y?0:255<y?255:y;Ou=1}fo=ff,zi=df,Bl=vu,Hn=hf,Lr=yu,Qt=mu,po=Ll,Tu=ha,zl=jf,ga=Pl,ma=_f,gs=ro,va=Cl,go=Lu,ya=ju,ms=wi,Ul=Fi,Pr=kf,Qr[0]=yi,Qr[1]=pf,Qr[2]=yf,Qr[3]=wf,Qr[4]=bu,Qr[5]=to,Qr[6]=Su,Qr[7]=kl,Qr[8]=bf,Qr[9]=xf,vs[0]=wu,vs[1]=mf,vs[2]=Ri,vs[3]=Za,vs[4]=Tn,vs[5]=vf,vs[6]=xu,qi[0]=us,qi[1]=gf,qi[2]=Sf,qi[3]=_l,qi[4]=da,qi[5]=Nf,qi[6]=jl,y=1}else y=0}y&&(y=function(re,xe){for(re.M=0;re.M<re.Va;++re.M){var ge,X=re.Jc[re.M&re.Xb],ee=re.m,ye=re;for(ge=0;ge<ye.za;++ge){var be=ee,we=ye,Re=we.Ac,Ce=we.Bc+4*ge,qe=we.zc,Ee=we.ya[we.aa+ge];if(we.Qa.Bb?Ee.$b=fe(be,we.Pa.jb[0])?2+fe(be,we.Pa.jb[2]):fe(be,we.Pa.jb[1]):Ee.$b=0,we.kc&&(Ee.Ad=fe(be,we.Bd)),Ee.Za=!fe(be,145)+0,Ee.Za){var wt=Ee.Ob,St=0;for(we=0;4>we;++we){var gt,dt=qe[0+we];for(gt=0;4>gt;++gt){dt=ux[Re[Ce+gt]][dt];for(var Ct=w0[fe(be,dt[0])];0<Ct;)Ct=w0[2*Ct+fe(be,dt[Ct])];dt=-Ct,Re[Ce+gt]=dt}r(wt,St,Re,Ce,4),St+=4,qe[0+we]=dt}}else dt=fe(be,156)?fe(be,128)?1:3:fe(be,163)?2:0,Ee.Ob[0]=dt,i(Re,Ce,dt,4),i(qe,0,dt,4);Ee.Dd=fe(be,142)?fe(be,114)?fe(be,183)?1:3:2:0}if(ye.m.Ka)return Yt(re,7,"Premature end-of-partition0 encountered.");for(;re.ja<re.za;++re.ja){if(ye=X,be=(ee=re).rb[ee.sb-1],Re=ee.rb[ee.sb+ee.ja],ge=ee.ya[ee.aa+ee.ja],Ce=ee.kc?ge.Ad:0)be.la=Re.la=0,ge.Za||(be.Na=Re.Na=0),ge.Hc=0,ge.Gc=0,ge.ia=0;else{var jt,it;if(be=Re,Re=ye,Ce=ee.Pa.Xc,qe=ee.ya[ee.aa+ee.ja],Ee=ee.pb[qe.$b],we=qe.ad,wt=0,St=ee.rb[ee.sb-1],dt=gt=0,i(we,wt,0,384),qe.Za)var on=0,nr=Ce[3];else{Ct=s(16);var ln=be.Na+St.Na;if(ln=Wl(Re,Ce[1],ln,Ee.Eb,0,Ct,0),be.Na=St.Na=(0<ln)+0,1<ln)fo(Ct,0,we,wt);else{var rr=Ct[0]+3>>3;for(Ct=0;256>Ct;Ct+=16)we[wt+Ct]=rr}on=1,nr=Ce[0]}var Nt=15&be.la,gr=15&St.la;for(Ct=0;4>Ct;++Ct){var mr=1&gr;for(rr=it=0;4>rr;++rr)Nt=Nt>>1|(mr=(ln=Wl(Re,nr,ln=mr+(1&Nt),Ee.Sc,on,we,wt))>on)<<7,it=it<<2|(3<ln?3:1<ln?2:we[wt+0]!=0),wt+=16;Nt>>=4,gr=gr>>1|mr<<7,gt=(gt<<8|it)>>>0}for(nr=Nt,on=gr>>4,jt=0;4>jt;jt+=2){for(it=0,Nt=be.la>>4+jt,gr=St.la>>4+jt,Ct=0;2>Ct;++Ct){for(mr=1&gr,rr=0;2>rr;++rr)ln=mr+(1&Nt),Nt=Nt>>1|(mr=0<(ln=Wl(Re,Ce[2],ln,Ee.Qc,0,we,wt)))<<3,it=it<<2|(3<ln?3:1<ln?2:we[wt+0]!=0),wt+=16;Nt>>=2,gr=gr>>1|mr<<5}dt|=it<<4*jt,nr|=Nt<<4<<jt,on|=(240&gr)<<jt}be.la=nr,St.la=on,qe.Hc=gt,qe.Gc=dt,qe.ia=43690&dt?0:Ee.ia,Ce=!(gt|dt)}if(0<ee.L&&(ee.wa[ee.Y+ee.ja]=ee.gd[ge.$b][ge.Za],ee.wa[ee.Y+ee.ja].La|=!Ce),ye.Ka)return Yt(re,7,"Premature end-of-file encountered.")}if(bl(re),ee=xe,ye=1,ge=(X=re).D,be=0<X.L&&X.M>=X.zb&&X.M<=X.Va,X.Aa==0)e:{if(ge.M=X.M,ge.uc=be,Dl(X,ge),ye=1,ge=(it=X.D).Nb,be=(dt=qu[X.L])*X.R,Re=dt/2*X.B,Ct=16*ge*X.R,rr=8*ge*X.B,Ce=X.sa,qe=X.ta-be+Ct,Ee=X.qa,we=X.ra-Re+rr,wt=X.Ha,St=X.Ia-Re+rr,gr=(Nt=it.M)==0,gt=Nt>=X.Va-1,X.Aa==2&&Dl(X,it),it.uc)for(mr=(ln=X).D.M,e(ln.D.uc),it=ln.yb;it<ln.Hb;++it){on=it,nr=mr;var wn=(jn=(Gt=ln).D).Nb;jt=Gt.R;var jn=jn.wa[jn.Y+on],Vn=Gt.sa,Ir=Gt.ta+16*wn*jt+16*on,bi=jn.dd,xn=jn.tc;if(xn!=0)if(e(3<=xn),Gt.L==1)0<on&&ms(Vn,Ir,jt,xn+4),jn.La&&Pr(Vn,Ir,jt,xn),0<nr&&ya(Vn,Ir,jt,xn+4),jn.La&&Ul(Vn,Ir,jt,xn);else{var Wi=Gt.B,wa=Gt.qa,vo=Gt.ra+8*wn*Wi+8*on,ws=Gt.Ha,Gt=Gt.Ia+8*wn*Wi+8*on;wn=jn.ld,0<on&&(Tu(Vn,Ir,jt,xn+4,bi,wn),ga(wa,vo,ws,Gt,Wi,xn+4,bi,wn)),jn.La&&(gs(Vn,Ir,jt,xn,bi,wn),go(wa,vo,ws,Gt,Wi,xn,bi,wn)),0<nr&&(po(Vn,Ir,jt,xn+4,bi,wn),zl(wa,vo,ws,Gt,Wi,xn+4,bi,wn)),jn.La&&(ma(Vn,Ir,jt,xn,bi,wn),va(wa,vo,ws,Gt,Wi,xn,bi,wn))}}if(X.ia&&alert("todo:DitherRow"),ee.put!=null){if(it=16*Nt,Nt=16*(Nt+1),gr?(ee.y=X.sa,ee.O=X.ta+Ct,ee.f=X.qa,ee.N=X.ra+rr,ee.ea=X.Ha,ee.W=X.Ia+rr):(it-=dt,ee.y=Ce,ee.O=qe,ee.f=Ee,ee.N=we,ee.ea=wt,ee.W=St),gt||(Nt-=dt),Nt>ee.o&&(Nt=ee.o),ee.F=null,ee.J=null,X.Fa!=null&&0<X.Fa.length&&it<Nt&&(ee.J=Tl(X,ee,it,Nt-it),ee.F=X.mb,ee.F==null&&ee.F.length==0)){ye=Yt(X,3,"Could not decode alpha data.");break e}it<ee.j&&(dt=ee.j-it,it=ee.j,e(!(1&dt)),ee.O+=X.R*dt,ee.N+=X.B*(dt>>1),ee.W+=X.B*(dt>>1),ee.F!=null&&(ee.J+=ee.width*dt)),it<Nt&&(ee.O+=ee.v,ee.N+=ee.v>>1,ee.W+=ee.v>>1,ee.F!=null&&(ee.J+=ee.v),ee.ka=it-ee.j,ee.U=ee.va-ee.v,ee.T=Nt-it,ye=ee.put(ee))}ge+1!=X.Ic||gt||(r(X.sa,X.ta-be,Ce,qe+16*X.R,be),r(X.qa,X.ra-Re,Ee,we+8*X.B,Re),r(X.Ha,X.Ia-Re,wt,St+8*X.B,Re))}if(!ye)return Yt(re,6,"Output aborted.")}return 1}(c,h)),h.bc!=null&&h.bc(h),y&=1}return y?(c.cb=0,y):0}function Kr(c,h,y,S,j){j=c[h+y+32*S]+(j>>3),c[h+y+32*S]=-256&j?0>j?0:255:j}function Xa(c,h,y,S,j,C){Kr(c,h,0,y,S+j),Kr(c,h,1,y,S+C),Kr(c,h,2,y,S-C),Kr(c,h,3,y,S-j)}function Zn(c){return(20091*c>>16)+c}function Sl(c,h,y,S){var j,C=0,I=s(16);for(j=0;4>j;++j){var T=c[h+0]+c[h+8],D=c[h+0]-c[h+8],$=(35468*c[h+4]>>16)-Zn(c[h+12]),Q=Zn(c[h+4])+(35468*c[h+12]>>16);I[C+0]=T+Q,I[C+1]=D+$,I[C+2]=D-$,I[C+3]=T-Q,C+=4,h++}for(j=C=0;4>j;++j)T=(c=I[C+0]+4)+I[C+8],D=c-I[C+8],$=(35468*I[C+4]>>16)-Zn(I[C+12]),Kr(y,S,0,0,T+(Q=Zn(I[C+4])+(35468*I[C+12]>>16))),Kr(y,S,1,0,D+$),Kr(y,S,2,0,D-$),Kr(y,S,3,0,T-Q),C++,S+=32}function mu(c,h,y,S){var j=c[h+0]+4,C=35468*c[h+4]>>16,I=Zn(c[h+4]),T=35468*c[h+1]>>16;Xa(y,S,0,j+I,c=Zn(c[h+1]),T),Xa(y,S,1,j+C,c,T),Xa(y,S,2,j-C,c,T),Xa(y,S,3,j-I,c,T)}function df(c,h,y,S,j){Sl(c,h,y,S),j&&Sl(c,h+16,y,S+4)}function vu(c,h,y,S){zi(c,h+0,y,S,1),zi(c,h+32,y,S+128,1)}function hf(c,h,y,S){var j;for(c=c[h+0]+4,j=0;4>j;++j)for(h=0;4>h;++h)Kr(y,S,h,j,c)}function yu(c,h,y,S){c[h+0]&&Hn(c,h+0,y,S),c[h+16]&&Hn(c,h+16,y,S+4),c[h+32]&&Hn(c,h+32,y,S+128),c[h+48]&&Hn(c,h+48,y,S+128+4)}function ff(c,h,y,S){var j,C=s(16);for(j=0;4>j;++j){var I=c[h+0+j]+c[h+12+j],T=c[h+4+j]+c[h+8+j],D=c[h+4+j]-c[h+8+j],$=c[h+0+j]-c[h+12+j];C[0+j]=I+T,C[8+j]=I-T,C[4+j]=$+D,C[12+j]=$-D}for(j=0;4>j;++j)I=(c=C[0+4*j]+3)+C[3+4*j],T=C[1+4*j]+C[2+4*j],D=C[1+4*j]-C[2+4*j],$=c-C[3+4*j],y[S+0]=I+T>>3,y[S+16]=$+D>>3,y[S+32]=I-T>>3,y[S+48]=$-D>>3,S+=64}function Nl(c,h,y){var S,j=h-32,C=pr,I=255-c[j-1];for(S=0;S<y;++S){var T,D=C,$=I+c[h-1];for(T=0;T<y;++T)c[h+T]=D[$+c[j+T]];h+=32}}function pf(c,h){Nl(c,h,4)}function gf(c,h){Nl(c,h,8)}function mf(c,h){Nl(c,h,16)}function Ri(c,h){var y;for(y=0;16>y;++y)r(c,h+32*y,c,h-32,16)}function Za(c,h){var y;for(y=16;0<y;--y)i(c,h,c[h-1],16),h+=32}function eo(c,h,y){var S;for(S=0;16>S;++S)i(h,y+32*S,c,16)}function wu(c,h){var y,S=16;for(y=0;16>y;++y)S+=c[h-1+32*y]+c[h+y-32];eo(S>>5,c,h)}function Tn(c,h){var y,S=8;for(y=0;16>y;++y)S+=c[h-1+32*y];eo(S>>4,c,h)}function vf(c,h){var y,S=8;for(y=0;16>y;++y)S+=c[h+y-32];eo(S>>4,c,h)}function xu(c,h){eo(128,c,h)}function Je(c,h,y){return c+2*h+y+2>>2}function yf(c,h){var y,S=h-32;for(S=new Uint8Array([Je(c[S-1],c[S+0],c[S+1]),Je(c[S+0],c[S+1],c[S+2]),Je(c[S+1],c[S+2],c[S+3]),Je(c[S+2],c[S+3],c[S+4])]),y=0;4>y;++y)r(c,h+32*y,S,0,S.length)}function wf(c,h){var y=c[h-1],S=c[h-1+32],j=c[h-1+64],C=c[h-1+96];Le(c,h+0,16843009*Je(c[h-1-32],y,S)),Le(c,h+32,16843009*Je(y,S,j)),Le(c,h+64,16843009*Je(S,j,C)),Le(c,h+96,16843009*Je(j,C,C))}function yi(c,h){var y,S=4;for(y=0;4>y;++y)S+=c[h+y-32]+c[h-1+32*y];for(S>>=3,y=0;4>y;++y)i(c,h+32*y,S,4)}function bu(c,h){var y=c[h-1+0],S=c[h-1+32],j=c[h-1+64],C=c[h-1-32],I=c[h+0-32],T=c[h+1-32],D=c[h+2-32],$=c[h+3-32];c[h+0+96]=Je(S,j,c[h-1+96]),c[h+1+96]=c[h+0+64]=Je(y,S,j),c[h+2+96]=c[h+1+64]=c[h+0+32]=Je(C,y,S),c[h+3+96]=c[h+2+64]=c[h+1+32]=c[h+0+0]=Je(I,C,y),c[h+3+64]=c[h+2+32]=c[h+1+0]=Je(T,I,C),c[h+3+32]=c[h+2+0]=Je(D,T,I),c[h+3+0]=Je($,D,T)}function Su(c,h){var y=c[h+1-32],S=c[h+2-32],j=c[h+3-32],C=c[h+4-32],I=c[h+5-32],T=c[h+6-32],D=c[h+7-32];c[h+0+0]=Je(c[h+0-32],y,S),c[h+1+0]=c[h+0+32]=Je(y,S,j),c[h+2+0]=c[h+1+32]=c[h+0+64]=Je(S,j,C),c[h+3+0]=c[h+2+32]=c[h+1+64]=c[h+0+96]=Je(j,C,I),c[h+3+32]=c[h+2+64]=c[h+1+96]=Je(C,I,T),c[h+3+64]=c[h+2+96]=Je(I,T,D),c[h+3+96]=Je(T,D,D)}function to(c,h){var y=c[h-1+0],S=c[h-1+32],j=c[h-1+64],C=c[h-1-32],I=c[h+0-32],T=c[h+1-32],D=c[h+2-32],$=c[h+3-32];c[h+0+0]=c[h+1+64]=C+I+1>>1,c[h+1+0]=c[h+2+64]=I+T+1>>1,c[h+2+0]=c[h+3+64]=T+D+1>>1,c[h+3+0]=D+$+1>>1,c[h+0+96]=Je(j,S,y),c[h+0+64]=Je(S,y,C),c[h+0+32]=c[h+1+96]=Je(y,C,I),c[h+1+32]=c[h+2+96]=Je(C,I,T),c[h+2+32]=c[h+3+96]=Je(I,T,D),c[h+3+32]=Je(T,D,$)}function kl(c,h){var y=c[h+0-32],S=c[h+1-32],j=c[h+2-32],C=c[h+3-32],I=c[h+4-32],T=c[h+5-32],D=c[h+6-32],$=c[h+7-32];c[h+0+0]=y+S+1>>1,c[h+1+0]=c[h+0+64]=S+j+1>>1,c[h+2+0]=c[h+1+64]=j+C+1>>1,c[h+3+0]=c[h+2+64]=C+I+1>>1,c[h+0+32]=Je(y,S,j),c[h+1+32]=c[h+0+96]=Je(S,j,C),c[h+2+32]=c[h+1+96]=Je(j,C,I),c[h+3+32]=c[h+2+96]=Je(C,I,T),c[h+3+64]=Je(I,T,D),c[h+3+96]=Je(T,D,$)}function xf(c,h){var y=c[h-1+0],S=c[h-1+32],j=c[h-1+64],C=c[h-1+96];c[h+0+0]=y+S+1>>1,c[h+2+0]=c[h+0+32]=S+j+1>>1,c[h+2+32]=c[h+0+64]=j+C+1>>1,c[h+1+0]=Je(y,S,j),c[h+3+0]=c[h+1+32]=Je(S,j,C),c[h+3+32]=c[h+1+64]=Je(j,C,C),c[h+3+64]=c[h+2+64]=c[h+0+96]=c[h+1+96]=c[h+2+96]=c[h+3+96]=C}function bf(c,h){var y=c[h-1+0],S=c[h-1+32],j=c[h-1+64],C=c[h-1+96],I=c[h-1-32],T=c[h+0-32],D=c[h+1-32],$=c[h+2-32];c[h+0+0]=c[h+2+32]=y+I+1>>1,c[h+0+32]=c[h+2+64]=S+y+1>>1,c[h+0+64]=c[h+2+96]=j+S+1>>1,c[h+0+96]=C+j+1>>1,c[h+3+0]=Je(T,D,$),c[h+2+0]=Je(I,T,D),c[h+1+0]=c[h+3+32]=Je(y,I,T),c[h+1+32]=c[h+3+64]=Je(S,y,I),c[h+1+64]=c[h+3+96]=Je(j,S,y),c[h+1+96]=Je(C,j,S)}function Sf(c,h){var y;for(y=0;8>y;++y)r(c,h+32*y,c,h-32,8)}function _l(c,h){var y;for(y=0;8>y;++y)i(c,h,c[h-1],8),h+=32}function ua(c,h,y){var S;for(S=0;8>S;++S)i(h,y+32*S,c,8)}function us(c,h){var y,S=8;for(y=0;8>y;++y)S+=c[h+y-32]+c[h-1+32*y];ua(S>>4,c,h)}function Nf(c,h){var y,S=4;for(y=0;8>y;++y)S+=c[h+y-32];ua(S>>3,c,h)}function da(c,h){var y,S=4;for(y=0;8>y;++y)S+=c[h-1+32*y];ua(S>>3,c,h)}function jl(c,h){ua(128,c,h)}function no(c,h,y){var S=c[h-y],j=c[h+0],C=3*(j-S)+Cf[1020+c[h-2*y]-c[h+y]],I=Du[112+(C+4>>3)];c[h-y]=pr[255+S+Du[112+(C+3>>3)]],c[h+0]=pr[255+j-I]}function Nu(c,h,y,S){var j=c[h+0],C=c[h+y];return Ar[255+c[h-2*y]-c[h-y]]>S||Ar[255+C-j]>S}function ku(c,h,y,S){return 4*Ar[255+c[h-y]-c[h+0]]+Ar[255+c[h-2*y]-c[h+y]]<=S}function _u(c,h,y,S,j){var C=c[h-3*y],I=c[h-2*y],T=c[h-y],D=c[h+0],$=c[h+y],Q=c[h+2*y],oe=c[h+3*y];return 4*Ar[255+T-D]+Ar[255+I-$]>S?0:Ar[255+c[h-4*y]-C]<=j&&Ar[255+C-I]<=j&&Ar[255+I-T]<=j&&Ar[255+oe-Q]<=j&&Ar[255+Q-$]<=j&&Ar[255+$-D]<=j}function ju(c,h,y,S){var j=2*S+1;for(S=0;16>S;++S)ku(c,h+S,y,j)&&no(c,h+S,y)}function wi(c,h,y,S){var j=2*S+1;for(S=0;16>S;++S)ku(c,h+S*y,1,j)&&no(c,h+S*y,1)}function Fi(c,h,y,S){var j;for(j=3;0<j;--j)ju(c,h+=4*y,y,S)}function kf(c,h,y,S){var j;for(j=3;0<j;--j)wi(c,h+=4,y,S)}function ds(c,h,y,S,j,C,I,T){for(C=2*C+1;0<j--;){if(_u(c,h,y,C,I))if(Nu(c,h,y,T))no(c,h,y);else{var D=c,$=h,Q=y,oe=D[$-2*Q],le=D[$-Q],re=D[$+0],xe=D[$+Q],ge=D[$+2*Q],X=27*(ye=Cf[1020+3*(re-le)+Cf[1020+oe-xe]])+63>>7,ee=18*ye+63>>7,ye=9*ye+63>>7;D[$-3*Q]=pr[255+D[$-3*Q]+ye],D[$-2*Q]=pr[255+oe+ee],D[$-Q]=pr[255+le+X],D[$+0]=pr[255+re-X],D[$+Q]=pr[255+xe-ee],D[$+2*Q]=pr[255+ge-ye]}h+=S}}function Jr(c,h,y,S,j,C,I,T){for(C=2*C+1;0<j--;){if(_u(c,h,y,C,I))if(Nu(c,h,y,T))no(c,h,y);else{var D=c,$=h,Q=y,oe=D[$-Q],le=D[$+0],re=D[$+Q],xe=Du[112+((ge=3*(le-oe))+4>>3)],ge=Du[112+(ge+3>>3)],X=xe+1>>1;D[$-2*Q]=pr[255+D[$-2*Q]+X],D[$-Q]=pr[255+oe+ge],D[$+0]=pr[255+le-xe],D[$+Q]=pr[255+re-X]}h+=S}}function Ll(c,h,y,S,j,C){ds(c,h,y,1,16,S,j,C)}function ha(c,h,y,S,j,C){ds(c,h,1,y,16,S,j,C)}function _f(c,h,y,S,j,C){var I;for(I=3;0<I;--I)Jr(c,h+=4*y,y,1,16,S,j,C)}function ro(c,h,y,S,j,C){var I;for(I=3;0<I;--I)Jr(c,h+=4,1,y,16,S,j,C)}function jf(c,h,y,S,j,C,I,T){ds(c,h,j,1,8,C,I,T),ds(y,S,j,1,8,C,I,T)}function Pl(c,h,y,S,j,C,I,T){ds(c,h,1,j,8,C,I,T),ds(y,S,1,j,8,C,I,T)}function Cl(c,h,y,S,j,C,I,T){Jr(c,h+4*j,j,1,8,C,I,T),Jr(y,S+4*j,j,1,8,C,I,T)}function Lu(c,h,y,S,j,C,I,T){Jr(c,h+4,1,j,8,C,I,T),Jr(y,S+4,1,j,8,C,I,T)}function io(){this.ba=new qr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ht,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Al(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function El(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Pu(){this.ua=0,this.Wa=new H,this.vb=new H,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W,this.yc=new M}function Lf(){this.xb=this.a=0,this.l=new Qa,this.ca=new qr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Pu,this.ab=0,this.gc=a(4,El),this.Oc=0}function so(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function fa(c,h,y,S,j,C,I){for(c=c==null?0:c[h+0],h=0;h<I;++h)j[C+h]=c+y[S+h]&255,c=j[C+h]}function Il(c,h,y,S,j,C,I){var T;if(c==null)fa(null,null,y,S,j,C,I);else for(T=0;T<I;++T)j[C+T]=c[h+T]+y[S+T]&255}function hs(c,h,y,S,j,C,I){if(c==null)fa(null,null,y,S,j,C,I);else{var T,D=c[h+0],$=D,Q=D;for(T=0;T<I;++T)$=Q+(D=c[h+T])-$,Q=y[S+T]+(-256&$?0>$?0:255:$)&255,$=D,j[C+T]=Q}}function Tl(c,h,y,S){var j=h.width,C=h.o;if(e(c!=null&&h!=null),0>y||0>=S||y+S>C)return null;if(!c.Cc){if(c.ga==null){var I;if(c.ga=new so,(I=c.ga==null)||(I=h.width*h.o,e(c.Gb.length==0),c.Gb=s(I),c.Uc=0,c.Gb==null?I=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,I=1),I=!I),!I){I=c.ga;var T=c.Fa,D=c.P,$=c.qc,Q=c.mb,oe=c.nb,le=D+1,re=$-1,xe=I.l;if(e(T!=null&&Q!=null&&h!=null),ys[0]=null,ys[1]=fa,ys[2]=Il,ys[3]=hs,I.ca=Q,I.tb=oe,I.c=h.width,I.i=h.height,e(0<I.c&&0<I.i),1>=$)h=0;else if(I.$a=T[D+0]>>0&3,I.Z=T[D+0]>>2&3,I.Lc=T[D+0]>>4&3,D=T[D+0]>>6&3,0>I.$a||1<I.$a||4<=I.Z||1<I.Lc||D)h=0;else if(xe.put=fi,xe.ac=kn,xe.bc=pi,xe.ma=I,xe.width=h.width,xe.height=h.height,xe.Da=h.Da,xe.v=h.v,xe.va=h.va,xe.j=h.j,xe.o=h.o,I.$a)e:{e(I.$a==1),h=_r();t:for(;;){if(h==null){h=0;break e}if(e(I!=null),I.mc=h,h.c=I.c,h.i=I.i,h.l=I.l,h.l.ma=I,h.l.width=I.c,h.l.height=I.i,h.a=0,V(h.m,T,le,re),!vi(I.c,I.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&Mi(h.s)?(I.ic=1,T=h.c*h.i,h.Ta=null,h.Ua=0,h.V=s(T),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(I.ic=0,h=ca(h,I.c)),!h))break t;h=1;break e}I.mc=null,h=0}else h=re>=I.c*I.i;I=!h}if(I)return null;c.ga.Lc!=1?c.Ga=0:S=C-y}e(c.ga!=null),e(y+S<=C);e:{if(h=(T=c.ga).c,C=T.l.o,T.$a==0){if(le=c.rc,re=c.Vc,xe=c.Fa,D=c.P+1+y*h,$=c.mb,Q=c.nb+y*h,e(D<=c.P+c.qc),T.Z!=0)for(e(ys[T.Z]!=null),I=0;I<S;++I)ys[T.Z](le,re,xe,D,$,Q,h),le=$,re=Q,Q+=h,D+=h;else for(I=0;I<S;++I)r($,Q,xe,D,h),le=$,re=Q,Q+=h,D+=h;c.rc=le,c.Vc=re}else{if(e(T.mc!=null),h=y+S,e((I=T.mc)!=null),e(h<=I.i),I.C>=h)h=1;else if(T.ic||se(),T.ic){T=I.V,le=I.Ba,re=I.c;var ge=I.i,X=(xe=1,D=I.$/re,$=I.$%re,Q=I.m,oe=I.s,I.$),ee=re*ge,ye=re*h,be=oe.wc,we=X<ye?sn(oe,$,D):null;e(X<=ee),e(h<=ge),e(Mi(oe));t:for(;;){for(;!Q.h&&X<ye;){if($&be||(we=sn(oe,$,D)),e(we!=null),te(Q),256>(ge=Xn(we.G[0],we.H[0],Q)))T[le+X]=ge,++X,++$>=re&&($=0,++D<=h&&!(D%16)&&Vr(I,D));else{if(!(280>ge)){xe=0;break t}ge=Wr(ge-256,Q);var Re,Ce=Xn(we.G[4],we.H[4],Q);if(te(Q),!(X>=(Ce=gi(re,Ce=Wr(Ce,Q)))&&ee-X>=ge)){xe=0;break t}for(Re=0;Re<ge;++Re)T[le+X+Re]=T[le+X+Re-Ce];for(X+=ge,$+=ge;$>=re;)$-=re,++D<=h&&!(D%16)&&Vr(I,D);X<ye&&$&be&&(we=sn(oe,$,D))}e(Q.h==q(Q))}Vr(I,D>h?h:D);break t}!xe||Q.h&&X<ee?(xe=0,I.a=Q.h?5:3):I.$=X,h=xe}else h=Gr(I,I.V,I.Ba,I.c,I.i,h,Va);if(!h){S=0;break e}}y+S>=C&&(c.Cc=1),S=1}if(!S)return null;if(c.Cc&&((S=c.ga)!=null&&(S.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+y*j}function v(c,h,y,S,j,C){for(;0<j--;){var I,T=c,D=h+(y?1:0),$=c,Q=h+(y?0:3);for(I=0;I<S;++I){var oe=$[Q+4*I];oe!=255&&(oe*=32897,T[D+4*I+0]=T[D+4*I+0]*oe>>23,T[D+4*I+1]=T[D+4*I+1]*oe>>23,T[D+4*I+2]=T[D+4*I+2]*oe>>23)}h+=C}}function L(c,h,y,S,j){for(;0<S--;){var C;for(C=0;C<y;++C){var I=c[h+2*C+0],T=15&($=c[h+2*C+1]),D=4369*T,$=(240&$|$>>4)*D>>16;c[h+2*C+0]=(240&I|I>>4)*D>>16&240|(15&I|I<<4)*D>>16>>4&15,c[h+2*C+1]=240&$|T}h+=j}}function U(c,h,y,S,j,C,I,T){var D,$,Q=255;for($=0;$<j;++$){for(D=0;D<S;++D){var oe=c[h+D];C[I+4*D]=oe,Q&=oe}h+=y,I+=T}return Q!=255}function K(c,h,y,S,j){var C;for(C=0;C<j;++C)y[S+C]=c[h+C]>>8}function se(){Cr=v,Et=L,It=U,Xt=K}function me(c,h,y){R[c]=function(S,j,C,I,T,D,$,Q,oe,le,re,xe,ge,X,ee,ye,be){var we,Re=be-1>>1,Ce=T[D+0]|$[Q+0]<<16,qe=oe[le+0]|re[xe+0]<<16;e(S!=null);var Ee=3*Ce+qe+131074>>2;for(h(S[j+0],255&Ee,Ee>>16,ge,X),C!=null&&(Ee=3*qe+Ce+131074>>2,h(C[I+0],255&Ee,Ee>>16,ee,ye)),we=1;we<=Re;++we){var wt=T[D+we]|$[Q+we]<<16,St=oe[le+we]|re[xe+we]<<16,gt=Ce+wt+qe+St+524296,dt=gt+2*(wt+qe)>>3;Ee=dt+Ce>>1,Ce=(gt=gt+2*(Ce+St)>>3)+wt>>1,h(S[j+2*we-1],255&Ee,Ee>>16,ge,X+(2*we-1)*y),h(S[j+2*we-0],255&Ce,Ce>>16,ge,X+(2*we-0)*y),C!=null&&(Ee=gt+qe>>1,Ce=dt+St>>1,h(C[I+2*we-1],255&Ee,Ee>>16,ee,ye+(2*we-1)*y),h(C[I+2*we+0],255&Ce,Ce>>16,ee,ye+(2*we+0)*y)),Ce=wt,qe=St}1&be||(Ee=3*Ce+qe+131074>>2,h(S[j+be-1],255&Ee,Ee>>16,ge,X+(be-1)*y),C!=null&&(Ee=3*qe+Ce+131074>>2,h(C[I+be-1],255&Ee,Ee>>16,ee,ye+(be-1)*y)))}}function Se(){Er[Mu]=px,Er[Ru]=b0,Er[m0]=gx,Er[Fu]=S0,Er[$u]=N0,Er[Af]=k0,Er[v0]=mx,Er[Ef]=b0,Er[If]=S0,Er[Bu]=N0,Er[Tf]=k0}function Me(c){return c&-16384?0>c?0:255:c>>vx}function Ue(c,h){return Me((19077*c>>8)+(26149*h>>8)-14234)}function nt(c,h,y){return Me((19077*c>>8)-(6419*h>>8)-(13320*y>>8)+8708)}function Ze(c,h){return Me((19077*c>>8)+(33050*h>>8)-17685)}function ht(c,h,y,S,j){S[j+0]=Ue(c,y),S[j+1]=nt(c,h,y),S[j+2]=Ze(c,h)}function Bt(c,h,y,S,j){S[j+0]=Ze(c,h),S[j+1]=nt(c,h,y),S[j+2]=Ue(c,y)}function Vt(c,h,y,S,j){var C=nt(c,h,y);h=C<<3&224|Ze(c,h)>>3,S[j+0]=248&Ue(c,y)|C>>5,S[j+1]=h}function an(c,h,y,S,j){var C=240&Ze(c,h)|15;S[j+0]=240&Ue(c,y)|nt(c,h,y)>>4,S[j+1]=C}function On(c,h,y,S,j){S[j+0]=255,ht(c,h,y,S,j+1)}function yn(c,h,y,S,j){Bt(c,h,y,S,j),S[j+3]=255}function Yr(c,h,y,S,j){ht(c,h,y,S,j),S[j+3]=255}function fr(c,h){return 0>c?0:c>h?h:c}function xi(c,h,y){R[c]=function(S,j,C,I,T,D,$,Q,oe){for(var le=Q+(-2&oe)*y;Q!=le;)h(S[j+0],C[I+0],T[D+0],$,Q),h(S[j+1],C[I+0],T[D+0],$,Q+y),j+=2,++I,++D,Q+=2*y;1&oe&&h(S[j+0],C[I+0],T[D+0],$,Q)}}function Cu(c,h,y){return y==0?c==0?h==0?6:5:h==0?4:0:y}function Ol(c,h,y,S,j){switch(c>>>30){case 3:zi(h,y,S,j,0);break;case 2:Qt(h,y,S,j);break;case 1:Hn(h,y,S,j)}}function Dl(c,h){var y,S,j=h.M,C=h.Nb,I=c.oc,T=c.pc+40,D=c.oc,$=c.pc+584,Q=c.oc,oe=c.pc+600;for(y=0;16>y;++y)I[T+32*y-1]=129;for(y=0;8>y;++y)D[$+32*y-1]=129,Q[oe+32*y-1]=129;for(0<j?I[T-1-32]=D[$-1-32]=Q[oe-1-32]=129:(i(I,T-32-1,127,21),i(D,$-32-1,127,9),i(Q,oe-32-1,127,9)),S=0;S<c.za;++S){var le=h.ya[h.aa+S];if(0<S){for(y=-1;16>y;++y)r(I,T+32*y-4,I,T+32*y+12,4);for(y=-1;8>y;++y)r(D,$+32*y-4,D,$+32*y+4,4),r(Q,oe+32*y-4,Q,oe+32*y+4,4)}var re=c.Gd,xe=c.Hd+S,ge=le.ad,X=le.Hc;if(0<j&&(r(I,T-32,re[xe].y,0,16),r(D,$-32,re[xe].f,0,8),r(Q,oe-32,re[xe].ea,0,8)),le.Za){var ee=I,ye=T-32+16;for(0<j&&(S>=c.za-1?i(ee,ye,re[xe].y[15],4):r(ee,ye,re[xe+1].y,0,4)),y=0;4>y;y++)ee[ye+128+y]=ee[ye+256+y]=ee[ye+384+y]=ee[ye+0+y];for(y=0;16>y;++y,X<<=2)ee=I,ye=T+j0[y],Qr[le.Ob[y]](ee,ye),Ol(X,ge,16*+y,ee,ye)}else if(ee=Cu(S,j,le.Ob[0]),vs[ee](I,T),X!=0)for(y=0;16>y;++y,X<<=2)Ol(X,ge,16*+y,I,T+j0[y]);for(y=le.Gc,ee=Cu(S,j,le.Dd),qi[ee](D,$),qi[ee](Q,oe),X=ge,ee=D,ye=$,255&(le=y>>0)&&(170&le?Bl(X,256,ee,ye):Lr(X,256,ee,ye)),le=Q,X=oe,255&(y>>=8)&&(170&y?Bl(ge,320,le,X):Lr(ge,320,le,X)),j<c.Ub-1&&(r(re[xe].y,0,I,T+480,16),r(re[xe].f,0,D,$+224,8),r(re[xe].ea,0,Q,oe+224,8)),y=8*C*c.B,re=c.sa,xe=c.ta+16*S+16*C*c.R,ge=c.qa,le=c.ra+8*S+y,X=c.Ha,ee=c.Ia+8*S+y,y=0;16>y;++y)r(re,xe+y*c.R,I,T+32*y,16);for(y=0;8>y;++y)r(ge,le+y*c.B,D,$+32*y,8),r(X,ee+y*c.B,Q,oe+32*y,8)}}function ao(c,h,y,S,j,C,I,T,D){var $=[0],Q=[0],oe=0,le=D!=null?D.kd:0,re=D??new Al;if(c==null||12>y)return 7;re.data=c,re.w=h,re.ha=y,h=[h],y=[y],re.gb=[re.gb];e:{var xe=h,ge=y,X=re.gb;if(e(c!=null),e(ge!=null),e(X!=null),X[0]=0,12<=ge[0]&&!n(c,xe[0],"RIFF")){if(n(c,xe[0]+8,"WEBP")){X=3;break e}var ee=Ae(c,xe[0]+4);if(12>ee||4294967286<ee){X=3;break e}if(le&&ee>ge[0]-8){X=7;break e}X[0]=ee,xe[0]+=12,ge[0]-=12}X=0}if(X!=0)return X;for(ee=0<re.gb[0],y=y[0];;){e:{var ye=c;ge=h,X=y;var be=$,we=Q,Re=xe=[0];if((Ee=oe=[oe])[0]=0,8>X[0])X=7;else{if(!n(ye,ge[0],"VP8X")){if(Ae(ye,ge[0]+4)!=10){X=3;break e}if(18>X[0]){X=7;break e}var Ce=Ae(ye,ge[0]+8),qe=1+Te(ye,ge[0]+12);if(2147483648<=qe*(ye=1+Te(ye,ge[0]+15))){X=3;break e}Re!=null&&(Re[0]=Ce),be!=null&&(be[0]=qe),we!=null&&(we[0]=ye),ge[0]+=18,X[0]-=18,Ee[0]=1}X=0}}if(oe=oe[0],xe=xe[0],X!=0)return X;if(ge=!!(2&xe),!ee&&oe)return 3;if(C!=null&&(C[0]=!!(16&xe)),I!=null&&(I[0]=ge),T!=null&&(T[0]=0),I=$[0],xe=Q[0],oe&&ge&&D==null){X=0;break}if(4>y){X=7;break}if(ee&&oe||!ee&&!oe&&!n(c,h[0],"ALPH")){y=[y],re.na=[re.na],re.P=[re.P],re.Sa=[re.Sa];e:{Ce=c,X=h,ee=y;var Ee=re.gb;be=re.na,we=re.P,Re=re.Sa,qe=22,e(Ce!=null),e(ee!=null),ye=X[0];var wt=ee[0];for(e(be!=null),e(Re!=null),be[0]=null,we[0]=null,Re[0]=0;;){if(X[0]=ye,ee[0]=wt,8>wt){X=7;break e}var St=Ae(Ce,ye+4);if(4294967286<St){X=3;break e}var gt=8+St+1&-2;if(qe+=gt,0<Ee&&qe>Ee){X=3;break e}if(!n(Ce,ye,"VP8 ")||!n(Ce,ye,"VP8L")){X=0;break e}if(wt[0]<gt){X=7;break e}n(Ce,ye,"ALPH")||(be[0]=Ce,we[0]=ye+8,Re[0]=St),ye+=gt,wt-=gt}}if(y=y[0],re.na=re.na[0],re.P=re.P[0],re.Sa=re.Sa[0],X!=0)break}y=[y],re.Ja=[re.Ja],re.xa=[re.xa];e:if(Ee=c,X=h,ee=y,be=re.gb[0],we=re.Ja,Re=re.xa,Ce=X[0],ye=!n(Ee,Ce,"VP8 "),qe=!n(Ee,Ce,"VP8L"),e(Ee!=null),e(ee!=null),e(we!=null),e(Re!=null),8>ee[0])X=7;else{if(ye||qe){if(Ee=Ae(Ee,Ce+4),12<=be&&Ee>be-12){X=3;break e}if(le&&Ee>ee[0]-8){X=7;break e}we[0]=Ee,X[0]+=8,ee[0]-=8,Re[0]=qe}else Re[0]=5<=ee[0]&&Ee[Ce+0]==47&&!(Ee[Ce+4]>>5),we[0]=ee[0];X=0}if(y=y[0],re.Ja=re.Ja[0],re.xa=re.xa[0],h=h[0],X!=0)break;if(4294967286<re.Ja)return 3;if(T==null||ge||(T[0]=re.xa?2:1),I=[I],xe=[xe],re.xa){if(5>y){X=7;break}T=I,le=xe,ge=C,c==null||5>y?c=0:5<=y&&c[h+0]==47&&!(c[h+4]>>5)?(ee=[0],Ee=[0],be=[0],V(we=new P,c,h,y),He(we,ee,Ee,be)?(T!=null&&(T[0]=ee[0]),le!=null&&(le[0]=Ee[0]),ge!=null&&(ge[0]=be[0]),c=1):c=0):c=0}else{if(10>y){X=7;break}T=xe,c==null||10>y||!fu(c,h+3,y-3)?c=0:(le=c[h+0]|c[h+1]<<8|c[h+2]<<16,ge=16383&(c[h+7]<<8|c[h+6]),c=16383&(c[h+9]<<8|c[h+8]),1&le||3<(le>>1&7)||!(le>>4&1)||le>>5>=re.Ja||!ge||!c?c=0:(I&&(I[0]=ge),T&&(T[0]=c),c=1))}if(!c||(I=I[0],xe=xe[0],oe&&($[0]!=I||Q[0]!=xe)))return 3;D!=null&&(D[0]=re,D.offset=h-D.w,e(4294967286>h-D.w),e(D.offset==D.ha-y));break}return X==0||X==7&&oe&&D==null?(C!=null&&(C[0]|=re.na!=null&&0<re.na.length),S!=null&&(S[0]=I),j!=null&&(j[0]=xe),0):X}function Ml(c,h,y){var S=h.width,j=h.height,C=0,I=0,T=S,D=j;if(h.Da=c!=null&&0<c.Da,h.Da&&(T=c.cd,D=c.bd,C=c.v,I=c.j,11>y||(C&=-2,I&=-2),0>C||0>I||0>=T||0>=D||C+T>S||I+D>j))return 0;if(h.v=C,h.j=I,h.va=C+T,h.o=I+D,h.U=T,h.T=D,h.da=c!=null&&0<c.da,h.da){if(!tt(T,D,y=[c.ib],C=[c.hb]))return 0;h.ib=y[0],h.hb=C[0]}return h.ob=c!=null&&c.ob,h.Kb=c==null||!c.Sd,h.da&&(h.ob=h.ib<3*S/4&&h.hb<3*j/4,h.Kb=0),1}function Rl(c){if(c==null)return 2;if(11>c.S){var h=c.f.RGBA;h.fb+=(c.height-1)*h.A,h.A=-h.A}else h=c.f.kb,c=c.height,h.O+=(c-1)*h.fa,h.fa=-h.fa,h.N+=(c-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(c-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(c-1)*h.lb,h.lb=-h.lb);return 0}function oo(c,h,y,S){if(S==null||0>=c||0>=h)return 2;if(y!=null){if(y.Da){var j=y.cd,C=y.bd,I=-2&y.v,T=-2&y.j;if(0>I||0>T||0>=j||0>=C||I+j>c||T+C>h)return 2;c=j,h=C}if(y.da){if(!tt(c,h,j=[y.ib],C=[y.hb]))return 2;c=j[0],h=C[0]}}S.width=c,S.height=h;e:{var D=S.width,$=S.height;if(c=S.S,0>=D||0>=$||!(c>=Mu&&13>c))c=2;else{if(0>=S.Rd&&S.sd==null){I=C=j=h=0;var Q=(T=D*L0[c])*$;if(11>c||(C=($+1)/2*(h=(D+1)/2),c==12&&(I=(j=D)*$)),($=s(Q+2*C+I))==null){c=1;break e}S.sd=$,11>c?((D=S.f.RGBA).eb=$,D.fb=0,D.A=T,D.size=Q):((D=S.f.kb).y=$,D.O=0,D.fa=T,D.Fd=Q,D.f=$,D.N=0+Q,D.Ab=h,D.Cd=C,D.ea=$,D.W=0+Q+C,D.Db=h,D.Ed=C,c==12&&(D.F=$,D.J=0+Q+2*C),D.Tc=I,D.lb=j)}if(h=1,j=S.S,C=S.width,I=S.height,j>=Mu&&13>j)if(11>j)c=S.f.RGBA,h&=(T=Math.abs(c.A))*(I-1)+C<=c.size,h&=T>=C*L0[j],h&=c.eb!=null;else{c=S.f.kb,T=(C+1)/2,Q=(I+1)/2,D=Math.abs(c.fa),$=Math.abs(c.Ab);var oe=Math.abs(c.Db),le=Math.abs(c.lb),re=le*(I-1)+C;h&=D*(I-1)+C<=c.Fd,h&=$*(Q-1)+T<=c.Cd,h=(h&=oe*(Q-1)+T<=c.Ed)&D>=C&$>=T&oe>=T,h&=c.y!=null,h&=c.f!=null,h&=c.ea!=null,j==12&&(h&=le>=C,h&=re<=c.Tc,h&=c.F!=null)}else h=0;c=h?0:2}}return c!=0||y!=null&&y.fd&&(c=Rl(S)),c}var _n=64,lo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],co=24,uo=32,Fl=8,er=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pe("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(c){return c},R.Predictor2=function(c,h,y){return h[y+0]},R.Predictor3=function(c,h,y){return h[y+1]},R.Predictor4=function(c,h,y){return h[y-1]},R.Predictor5=function(c,h,y){return Ie(Ie(c,h[y+1]),h[y+0])},R.Predictor6=function(c,h,y){return Ie(c,h[y-1])},R.Predictor7=function(c,h,y){return Ie(c,h[y+0])},R.Predictor8=function(c,h,y){return Ie(h[y-1],h[y+0])},R.Predictor9=function(c,h,y){return Ie(h[y+0],h[y+1])},R.Predictor10=function(c,h,y){return Ie(Ie(c,h[y-1]),Ie(h[y+0],h[y+1]))},R.Predictor11=function(c,h,y){var S=h[y+0];return 0>=st(S>>24&255,c>>24&255,(h=h[y-1])>>24&255)+st(S>>16&255,c>>16&255,h>>16&255)+st(S>>8&255,c>>8&255,h>>8&255)+st(255&S,255&c,255&h)?S:c},R.Predictor12=function(c,h,y){var S=h[y+0];return(ze((c>>24&255)+(S>>24&255)-((h=h[y-1])>>24&255))<<24|ze((c>>16&255)+(S>>16&255)-(h>>16&255))<<16|ze((c>>8&255)+(S>>8&255)-(h>>8&255))<<8|ze((255&c)+(255&S)-(255&h)))>>>0},R.Predictor13=function(c,h,y){var S=h[y-1];return(Qe((c=Ie(c,h[y+0]))>>24&255,S>>24&255)<<24|Qe(c>>16&255,S>>16&255)<<16|Qe(c>>8&255,S>>8&255)<<8|Qe(c>>0&255,S>>0&255))>>>0};var Pf=R.PredictorAdd0;R.PredictorAdd1=at,Pe("Predictor2","PredictorAdd2"),Pe("Predictor3","PredictorAdd3"),Pe("Predictor4","PredictorAdd4"),Pe("Predictor5","PredictorAdd5"),Pe("Predictor6","PredictorAdd6"),Pe("Predictor7","PredictorAdd7"),Pe("Predictor8","PredictorAdd8"),Pe("Predictor9","PredictorAdd9"),Pe("Predictor10","PredictorAdd10"),Pe("Predictor11","PredictorAdd11"),Pe("Predictor12","PredictorAdd12"),Pe("Predictor13","PredictorAdd13");var $l=R.PredictorAdd2;lt("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),lt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var Au,jr=R.ColorIndexInverseTransform,ho=R.MapARGB,Eu=R.VP8LColorIndexInverseTransformAlpha,Iu=R.MapAlpha,fs=R.VP8LPredictorsAdd=[];fs.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var pa,tr,Wn,ps,$i,Bi,fo,zi,Qt,Bl,Hn,Lr,po,Tu,zl,ga,ma,gs,va,go,ya,ms,Ul,Pr,Cr,Et,It,Xt,fn=s(511),Ui=s(2041),ql=s(225),mo=s(767),Ou=0,Cf=Ui,Du=ql,pr=mo,Ar=fn,Mu=0,Ru=1,m0=2,Fu=3,$u=4,Af=5,v0=6,Ef=7,If=8,Bu=9,Tf=10,ex=[2,3,7],tx=[3,3,11],y0=[280,256,256,256,40],nx=[0,1,1,1,0],rx=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ix=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],sx=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ax=8,Of=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Df=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Wl=null,ox=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],lx=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],w0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],cx=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ux=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],dx=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hx=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],vs=[],Qr=[],qi=[],fx=1,x0=2,ys=[],Er=[];me("UpsampleRgbLinePair",ht,3),me("UpsampleBgrLinePair",Bt,3),me("UpsampleRgbaLinePair",Yr,4),me("UpsampleBgraLinePair",yn,4),me("UpsampleArgbLinePair",On,4),me("UpsampleRgba4444LinePair",an,2),me("UpsampleRgb565LinePair",Vt,2);var px=R.UpsampleRgbLinePair,gx=R.UpsampleBgrLinePair,b0=R.UpsampleRgbaLinePair,S0=R.UpsampleBgraLinePair,N0=R.UpsampleArgbLinePair,k0=R.UpsampleRgba4444LinePair,mx=R.UpsampleRgb565LinePair,zu=16,Uu=1<<zu-1,Hl=-227,Mf=482,vx=6,_0=0,yx=s(256),wx=s(256),xx=s(256),bx=s(256),Sx=s(Mf-Hl),Nx=s(Mf-Hl);xi("YuvToRgbRow",ht,3),xi("YuvToBgrRow",Bt,3),xi("YuvToRgbaRow",Yr,4),xi("YuvToBgraRow",yn,4),xi("YuvToArgbRow",On,4),xi("YuvToRgba4444Row",an,2),xi("YuvToRgb565Row",Vt,2);var j0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],qu=[0,2,8],kx=[8,7,6,4,4,2,2,2,1,1,1,1],_x=1;this.WebPDecodeRGBA=function(c,h,y,S,j){var C=Ru,I=new io,T=new qr;I.ba=T,T.S=C,T.width=[T.width],T.height=[T.height];var D=T.width,$=T.height,Q=new Di;if(Q==null||c==null)var oe=2;else e(Q!=null),oe=ao(c,h,y,Q.width,Q.height,Q.Pd,Q.Qd,Q.format,null);if(oe!=0?D=0:(D!=null&&(D[0]=Q.width[0]),$!=null&&($[0]=Q.height[0]),D=1),D){T.width=T.width[0],T.height=T.height[0],S!=null&&(S[0]=T.width),j!=null&&(j[0]=T.height);e:{if(S=new Qa,(j=new Al).data=c,j.w=h,j.ha=y,j.kd=1,h=[0],e(j!=null),((c=ao(j.data,j.w,j.ha,null,null,null,h,null,j))==0||c==7)&&h[0]&&(c=4),(h=c)==0){if(e(I!=null),S.data=j.data,S.w=j.w+j.offset,S.ha=j.ha-j.offset,S.put=fi,S.ac=kn,S.bc=pi,S.ma=I,j.xa){if((c=_r())==null){I=1;break e}if(function(le,re){var xe=[0],ge=[0],X=[0];t:for(;;){if(le==null)return 0;if(re==null)return le.a=2,0;if(le.l=re,le.a=0,V(le.m,re.data,re.w,re.ha),!He(le.m,xe,ge,X)){le.a=3;break t}if(le.xb=x0,re.width=xe[0],re.height=ge[0],!vi(xe[0],ge[0],1,le,null))break t;return 1}return e(le.a!=0),0}(c,S)){if(S=(h=oo(S.width,S.height,I.Oa,I.ba))==0){t:{S=c;n:for(;;){if(S==null){S=0;break t}if(e(S.s.yc!=null),e(S.s.Ya!=null),e(0<S.s.Wb),e((y=S.l)!=null),e((j=y.ma)!=null),S.xb!=0){if(S.ca=j.ba,S.tb=j.tb,e(S.ca!=null),!Ml(j.Oa,y,Fu)){S.a=2;break n}if(!ca(S,y.width)||y.da)break n;if((y.da||xt(S.ca.S))&&se(),11>S.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),S.ca.f.kb.F!=null&&se()),S.Pb&&0<S.s.ua&&S.s.vb.X==null&&!Ve(S.s.vb,S.s.Wa.Xa)){S.a=1;break n}S.xb=0}if(!Gr(S,S.V,S.Ba,S.c,S.i,y.o,Ha))break n;j.Dc=S.Ma,S=1;break t}e(S.a!=0),S=0}S=!S}S&&(h=c.a)}else h=c.a}else{if((c=new cf)==null){I=1;break e}if(c.Fa=j.na,c.P=j.P,c.qc=j.Sa,pu(c,S)){if((h=oo(S.width,S.height,I.Oa,I.ba))==0){if(c.Aa=0,y=I.Oa,e((j=c)!=null),y!=null){if(0<(D=0>(D=y.Md)?0:100<D?255:255*D/100)){for($=Q=0;4>$;++$)12>(oe=j.pb[$]).lc&&(oe.ia=D*kx[0>oe.lc?0:oe.lc]>>3),Q|=oe.ia;Q&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=y.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}uf(c,S)||(h=c.a)}}else h=c.a}h==0&&I.Oa!=null&&I.Oa.fd&&(h=Rl(I.ba))}I=h}C=I!=0?null:11>C?T.f.RGBA.eb:T.f.kb.y}else C=null;return C};var L0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(R,J){for(var ne="",O=0;O<4;O++)ne+=String.fromCharCode(R[J++]);return ne}function f(R,J){return(R[J+0]<<0|R[J+1]<<8|R[J+2]<<16)>>>0}function p(R,J){return(R[J+0]<<0|R[J+1]<<8|R[J+2]<<16|R[J+3]<<24)>>>0}new l;var m=[0],g=[0],b=[],k=new l,_=t,x=function(R,J){var ne={},O=0,M=!1,G=0,W=0;if(ne.frames=[],!function(z,q,Y,te){for(var ce=0;ce<te;ce++)if(z[q+ce]!=Y.charCodeAt(ce))return!0;return!1}(R,J,"RIFF",4)){var de,ue;for(p(R,J+=4),J+=8;J<R.length;){var pe=u(R,J),V=p(R,J+=4);J+=4;var ie=V+(1&V);switch(pe){case"VP8 ":case"VP8L":ne.frames[O]===void 0&&(ne.frames[O]={}),(P=ne.frames[O]).src_off=M?W:J-8,P.src_size=G+V+8,O++,M&&(M=!1,G=0,W=0);break;case"VP8X":(P=ne.header={}).feature_flags=R[J];var ae=J+4;P.canvas_width=1+f(R,ae),ae+=3,P.canvas_height=1+f(R,ae),ae+=3;break;case"ALPH":M=!0,G=ie+8,W=J-8;break;case"ANIM":(P=ne.header).bgcolor=p(R,J),ae=J+4,P.loop_count=(de=R)[(ue=ae)+0]<<0|de[ue+1]<<8,ae+=2;break;case"ANMF":var Ne,P;(P=ne.frames[O]={}).offset_x=2*f(R,J),J+=3,P.offset_y=2*f(R,J),J+=3,P.width=1+f(R,J),J+=3,P.height=1+f(R,J),J+=3,P.duration=f(R,J),J+=3,Ne=R[J++],P.dispose=1&Ne,P.blend=Ne>>1&1}pe!="ANMF"&&(J+=ie)}return ne}}(_,0);x.response=_,x.rgbaoutput=!0,x.dataurl=!1;var w=x.header?x.header:null,N=x.frames?x.frames:null;if(w){w.loop_counter=w.loop_count,m=[w.canvas_height],g=[w.canvas_width];for(var A=0;A<N.length&&N[A].blend!=0;A++);}var E=N[0],B=k.WebPDecodeRGBA(_,E.src_off,E.src_size,g,m);E.rgba=B,E.imgwidth=g[0],E.imgheight=m[0];for(var F=0;F<g[0]*m[0]*4;F++)b[F]=B[F];return this.width=g,this.height=m,this.data=b,this}(function(t){var e=function(){return typeof Zg=="function"},n=function(m,g,b,k){var _=4,x=a;switch(k){case t.image_compression.FAST:_=1,x=s;break;case t.image_compression.MEDIUM:_=6,x=o;break;case t.image_compression.SLOW:_=9,x=l}m=r(m,g,b,x);var w=Zg(m,{level:_});return t.__addimage__.arrayBufferToBinaryString(w)},r=function(m,g,b,k){for(var _,x,w,N=m.length/g,A=new Uint8Array(m.length+N),E=f(),B=0;B<N;B+=1){if(w=B*g,_=m.subarray(w,w+g),k)A.set(k(_,b,x),w+B);else{for(var F,R=E.length,J=[];F<R;F+=1)J[F]=E[F](_,b,x);var ne=p(J.concat());A.set(J[ne],w+B)}x=_}return A},i=function(m){var g=Array.apply([],m);return g.unshift(0),g},s=function(m,g){var b,k=[],_=m.length;k[0]=1;for(var x=0;x<_;x+=1)b=m[x-g]||0,k[x+1]=m[x]-b+256&255;return k},a=function(m,g,b){var k,_=[],x=m.length;_[0]=2;for(var w=0;w<x;w+=1)k=b&&b[w]||0,_[w+1]=m[w]-k+256&255;return _},o=function(m,g,b){var k,_,x=[],w=m.length;x[0]=3;for(var N=0;N<w;N+=1)k=m[N-g]||0,_=b&&b[N]||0,x[N+1]=m[N]+256-(k+_>>>1)&255;return x},l=function(m,g,b){var k,_,x,w,N=[],A=m.length;N[0]=4;for(var E=0;E<A;E+=1)k=m[E-g]||0,_=b&&b[E]||0,x=b&&b[E-g]||0,w=u(k,_,x),N[E+1]=m[E]-w+256&255;return N},u=function(m,g,b){if(m===g&&g===b)return m;var k=Math.abs(g-b),_=Math.abs(m-b),x=Math.abs(m+g-b-b);return k<=_&&k<=x?m:_<=x?g:b},f=function(){return[i,s,a,o,l]},p=function(m){var g=m.map(function(b){return b.reduce(function(k,_){return k+Math.abs(_)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(m,g,b,k){var _,x,w,N,A,E,B,F,R,J,ne,O,M,G,W,de=this.decode.FLATE_DECODE,ue="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(w=new fj(m)).imgData,x=w.bits,_=w.colorSpace,A=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){R=(F=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,ne=new Uint8Array(R*w.colors),J=new Uint8Array(R);var pe,V=w.pixelBitlength-w.bits;for(G=0,W=0;G<R;G++){for(M=F[G],pe=0;pe<V;)ne[W++]=M>>>pe&255,pe+=w.bits;J[G]=M>>>pe&255}}if(w.bits===16){R=(F=new Uint32Array(w.decodePixels().buffer)).length,ne=new Uint8Array(R*(32/w.pixelBitlength)*w.colors),J=new Uint8Array(R*(32/w.pixelBitlength)),O=w.colors>1,G=0,W=0;for(var ie=0;G<R;)M=F[G++],ne[W++]=M>>>0&255,O&&(ne[W++]=M>>>16&255,M=F[G++],ne[W++]=M>>>0&255),J[ie++]=M>>>16&255;x=8}k!==t.image_compression.NONE&&e()?(m=n(ne,w.width*w.colors,w.colors,k),B=n(J,w.width,1,k)):(m=ne,B=J,de=void 0)}if(w.colorType===3&&(_=this.color_spaces.INDEXED,E=w.palette,w.transparency.indexed)){var ae=w.transparency.indexed,Ne=0;for(G=0,R=ae.length;G<R;++G)Ne+=ae[G];if((Ne/=255)===R-1&&ae.indexOf(0)!==-1)N=[ae.indexOf(0)];else if(Ne!==R){for(F=w.decodePixels(),J=new Uint8Array(F.length),G=0,R=F.length;G<R;G++)J[G]=ae[F[G]];B=n(J,w.width,1)}}var P=function(z){var q;switch(z){case t.image_compression.FAST:q=11;break;case t.image_compression.MEDIUM:q=13;break;case t.image_compression.SLOW:q=14;break;default:q=12}return q}(k);return de===this.decode.FLATE_DECODE&&(ue="/Predictor "+P+" "),ue+="/Colors "+A+" /BitsPerComponent "+x+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(B&&this.__addimage__.isArrayBuffer(B)||this.__addimage__.isArrayBufferView(B))&&(B=this.__addimage__.arrayBufferToBinaryString(B)),{alias:b,data:m,index:g,filter:de,decodeParameters:ue,transparency:N,palette:E,sMask:B,predictor:P,width:w.width,height:w.height,bitsPerComponent:x,colorSpace:_}}}})(We.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new pj(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},f=new Dp(100).encode(u,100);return t.processJPEG.call(this,f,n,r,i)},t.processGIF87A=t.processGIF89A}(We.API),ti.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ti.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){At.log("bit decode error:"+n)}},ti.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},ti.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},ti.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},ti.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=l,this.data[f+1]=o,this.data[f+2]=a,this.data[f+3]=u}this.pos+=t}},ti.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,u=(a>>11)/e*255|0,f=i*this.width*4+4*s;this.data[f]=u,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=255}this.pos+=t}},ti.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},ti.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},ti.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new ti(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new Dp(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(We.API),K2.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new K2(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new Dp(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(We.API),We.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var f=r[u],p=r[u+1],m=r[u+2],g=r[u+3];s[o++]=f,s[o++]=p,s[o++]=m,a[l++]=g}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:b,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},We.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Po=We.API,_d=Po.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=u.fof?u.fof:1,p=e.doKerning!==!1,m=0,g=t.length,b=0,k=o[0]||l,_=[];for(n=0;n<g;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?_.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(m=p&&yt(u[r])==="object"&&!isNaN(parseInt(u[r][b],10))?u[r][b]/f:0,_.push((o[r]||k)/l+m)),b=r;return _},W2=Po.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Po.processArabic&&(t=Po.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:_d.apply(this,arguments).reduce(function(s,a){return s+a},0)},H2=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},V2=function(t,e,n){n||(n={});var r,i,s,a,o,l,u,f=[],p=[f],m=n.textIndent||0,g=0,b=0,k=t.split(" "),_=_d.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?k[0].length+2:n.lineIndent||0){var x=Array(l).join(" "),w=[];k.map(function(A){(A=A.split(/\s*\n/)).length>1?w=w.concat(A.map(function(E,B){return(B&&E.length?`
`:"")+E})):w.push(A[0])}),k=w,l=W2.apply(this,[x,n])}for(s=0,a=k.length;s<a;s++){var N=0;if(r=k[s],l&&r[0]==`
`&&(r=r.substr(1),N=1),m+g+(b=(i=_d.apply(this,[r,n])).reduce(function(A,E){return A+E},0))>e||N){if(b>e){for(o=H2.apply(this,[r,i,e-(m+g),e]),f.push(o.shift()),f=[o.pop()];o.length;)p.push([o.shift()]);b=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(A,E){return A+E},0)}else f=[r];p.push(f),m=b+l,g=_}else f.push(r),m+=g+b,g=_}return u=l?function(A,E){return(E?x:"")+A.join(" ")}:function(A){return A.join(" ")},p.map(u)},Po.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,u=[];for(o=0,l=r.length;o<l;o++)u=u.concat(V2.apply(this,[r[o],a,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(p){return"0x"+parseInt(p,10).toString(16)},a=t.__fontmetrics__.compress=function(p){var m,g,b,k,_=["{"];for(var x in p){if(m=p[x],isNaN(parseInt(x,10))?g="'"+x+"'":(x=parseInt(x,10),g=(g=s(x).slice(2)).slice(0,-1)+r[g.slice(-1)]),typeof m=="number")m<0?(b=s(m).slice(3),k="-"):(b=s(m).slice(2),k=""),b=k+b.slice(0,-1)+r[b.slice(-1)];else{if(yt(m)!=="object")throw new Error("Don't know what to do with value type "+yt(m)+".");b=a(m)}_.push(g+b)}return _.push("}"),_.join("")},o=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,g,b,k,_={},x=1,w=_,N=[],A="",E="",B=p.length-1,F=1;F<B;F+=1)(k=p[F])=="'"?m?(b=m.join(""),m=void 0):m=[]:m?m.push(k):k=="{"?(N.push([w,b]),w={},b=void 0):k=="}"?((g=N.pop())[0][g[1]]=w,b=void 0,w=g[0]):k=="-"?x=-1:b===void 0?n.hasOwnProperty(k)?(A+=n[k],b=parseInt(A,16)*x,x=1,A=""):A+=k:n.hasOwnProperty(k)?(E+=n[k],w[b]=parseInt(E,16)*x,x=1,b=void 0,E=""):E+=k;return _},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},f={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var m=p.font,g=f.Unicode[m.postScriptName];g&&(m.metadata.Unicode={},m.metadata.Unicode.widths=g.widths,m.metadata.Unicode.kerning=g.kerning);var b=u.Unicode[m.postScriptName];b&&(m.metadata.Unicode.encoding=b,m.encoding=b.codePages[0])}])}(We.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Ac(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(We),function(t){function e(){return(Ge.canvg?Promise.resolve(Ge.canvg):Ys(()=>import("./index.es-DrKH_O_p.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}We.API.addSvgAsImage=function(n,r,i,s,a,o,l,u){if(isNaN(r)||isNaN(i))throw At.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw At.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=a;var p=f.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(b){return b.fromString(p,n,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(m)}).then(function(){g.addImage(f.toDataURL("image/jpeg",1),r,i,s,a,l,u)})}}(),We.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},We.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,f=0,p=0;function m(b,k){var _,x=!1;for(_=0;_<b.length;_+=1)b[_]===k&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=o.length;for(p=0;p<g;p+=1)n[o[p]].value=n[o[p]].defaultValue,n[o[p]].explicitSet=!1}if(yt(t)==="object"){for(i in t)if(s=t[i],m(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&m(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(f=0;f<s[u].length;f+=1)typeof s[u][f]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,k=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?k.push("/"+b+" /"+n[b].value):k.push("/"+b+" "+n[b].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(We.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],p=0,m=s.length;p<m;++p){if(o=a.metadata.characterToGlyph(s.charCodeAt(p)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(p),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return f.join("");o=o.toString(16),f.push(u[4-o.length],o)}return f.join("")},r=function(s){var a,o,l,u,f,p,m;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,m=(o=Object.keys(s).sort(function(g,b){return g-b})).length;p<m;p++)a=o[p],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,f=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,m=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),g="",b=0;b<m.length;b++)g+=String.fromCharCode(m[b]);var k=u();f({data:g,addLength1:!0,objectId:k}),l("endobj");var _=u();f({data:r(o.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var x=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Oo(o.fontName)),l("/FontFile2 "+k+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Oo(o.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+t.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+_+" 0 R"),l("/BaseFont /"+Oo(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,f=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,m="",g=0;g<p.length;g++)m+=String.fromCharCode(p[g]);var b=u();f({data:m,addLength1:!0,objectId:b}),l("endobj");var k=u();f({data:r(o.metadata.toUnicode),addLength1:!0,objectId:k}),l("endobj");var _=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Oo(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+Oo(o.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,f=s.options||{},p=s.mutex||{},m=p.pdfEscape,g=p.activeFontKey,b=p.fonts,k=g,_="",x=0,w="",N=b[k].encoding;if(b[k].encoding!=="Identity-H")return{text:o,x:l,y:u,options:f,mutex:p};for(w=o,k=g,Array.isArray(o)&&(w=o[0]),x=0;x<w.length;x+=1)b[k].metadata.hasOwnProperty("cmap")&&(a=b[k].metadata.cmap.unicode.codeMap[w[x].charCodeAt(0)]),a||w[x].charCodeAt(0)<256&&b[k].metadata.hasOwnProperty("Unicode")?_+=w[x]:_+="";var A="";return parseInt(k.slice(1))<14||N==="WinAnsiEncoding"?A=m(_,k).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(A=n(_,b[k])),p.isHex=!0,{text:A,x:l,y:u,options:f,mutex:p}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(We),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(We.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,o,l,u,f,p=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,N=0;this.__bidiEngine__={};var A=function(O){var M=O.charCodeAt(),G=M>>8,W=k[G];return W!==void 0?p[256*W+(255&M)]:G===252||G===253?"AL":x.test(G)?"L":G===8?"R":"N"},E=function(O){for(var M,G=0;G<O.length;G++){if((M=A(O.charAt(G)))==="L")return!1;if(M==="R")return!0}return!1},B=function(O,M,G,W){var de,ue,pe,V,ie=M[W];switch(ie){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(ie="AN");break;case"AL":w=!0,ie="R";break;case"WS":ie="N";break;case"CS":W<1||W+1>=M.length||(de=G[W-1])!=="EN"&&de!=="AN"||(ue=M[W+1])!=="EN"&&ue!=="AN"?ie="N":w&&(ue="AN"),ie=ue===de?ue:"N";break;case"ES":ie=(de=W>0?G[W-1]:"B")==="EN"&&W+1<M.length&&M[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&G[W-1]==="EN"){ie="EN";break}if(w){ie="N";break}for(pe=W+1,V=M.length;pe<V&&M[pe]==="ET";)pe++;ie=pe<V&&M[pe]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(V=M.length,pe=W+1;pe<V&&M[pe]==="NSM";)pe++;if(pe<V){var ae=O[W],Ne=ae>=1425&&ae<=2303||ae===64286;if(de=M[pe],Ne&&(de==="R"||de==="AL")){ie="R";break}}}ie=W<1||(de=M[W-1])==="B"?"N":G[W-1];break;case"B":w=!1,i=!0,ie=N;break;case"S":s=!0,ie="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":ie="N"}return ie},F=function(O,M,G){var W=O.split("");return G&&R(W,G,{hiLevel:N}),W.reverse(),M&&M.reverse(),W.join("")},R=function(O,M,G){var W,de,ue,pe,V,ie=-1,ae=O.length,Ne=0,P=[],z=N?g:m,q=[];for(w=!1,i=!1,s=!1,de=0;de<ae;de++)q[de]=A(O[de]);for(ue=0;ue<ae;ue++){if(V=Ne,P[ue]=B(O,q,P,ue),W=240&(Ne=z[V][b[P[ue]]]),Ne&=15,M[ue]=pe=z[Ne][5],W>0)if(W===16){for(de=ie;de<ue;de++)M[de]=1;ie=-1}else ie=-1;if(z[Ne][6])ie===-1&&(ie=ue);else if(ie>-1){for(de=ie;de<ue;de++)M[de]=pe;ie=-1}q[ue]==="B"&&(M[ue]=0),G.hiLevel|=pe}s&&function(Y,te,ce){for(var he=0;he<ce;he++)if(Y[he]==="S"){te[he]=N;for(var fe=he-1;fe>=0&&Y[fe]==="WS";fe--)te[fe]=N}}(q,M,ae)},J=function(O,M,G,W,de){if(!(de.hiLevel<O)){if(O===1&&N===1&&!i)return M.reverse(),void(G&&G.reverse());for(var ue,pe,V,ie,ae=M.length,Ne=0;Ne<ae;){if(W[Ne]>=O){for(V=Ne+1;V<ae&&W[V]>=O;)V++;for(ie=Ne,pe=V-1;ie<pe;ie++,pe--)ue=M[ie],M[ie]=M[pe],M[pe]=ue,G&&(ue=G[ie],G[ie]=G[pe],G[pe]=ue);Ne=V}Ne++}}},ne=function(O,M,G){var W=O.split(""),de={hiLevel:N};return G||(G=[]),R(W,G,de),function(ue,pe,V){if(V.hiLevel!==0&&f)for(var ie,ae=0;ae<ue.length;ae++)pe[ae]===1&&(ie=_.indexOf(ue[ae]))>=0&&(ue[ae]=_[ie+1])}(W,G,de),J(2,W,M,G,de),J(1,W,M,G,de),W.join("")};return this.__bidiEngine__.doBidiReorder=function(O,M,G){if(function(de,ue){if(ue)for(var pe=0;pe<de.length;pe++)ue[pe]=pe;o===void 0&&(o=E(de)),u===void 0&&(u=E(de))}(O,M),a||!l||u)if(a&&l&&o^u)N=o?1:0,O=F(O,M,G);else if(!a&&l&&u)N=o?1:0,O=ne(O,M,G),O=F(O,M);else if(!a||o||l||u){if(a&&!l&&o^u)O=F(O,M),o?(N=0,O=ne(O,M,G)):(N=1,O=ne(O,M,G),O=F(O,M));else if(a&&o&&!l&&u)N=1,O=ne(O,M,G),O=F(O,M);else if(!a&&!l&&o^u){var W=f;o?(N=1,O=ne(O,M,G),N=0,f=!1,O=ne(O,M,G),f=W):(N=0,O=ne(O,M,G),O=F(O,M),N=1,f=!1,O=ne(O,M,G),f=W,O=F(O,M))}}else N=0,O=ne(O,M,G);else N=o?1:0,O=ne(O,M,G);return O},this.__bidiEngine__.setOptions=function(O){O&&(a=O.isInputVisual,l=O.isOutputVisual,o=O.isInputRtl,u=O.isOutputRtl,f=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),a=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(We),We.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Xs(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Cj(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new gj(this.contents),this.head=new vj(this),this.name=new Sj(this),this.cmap=new Hw(this),this.toUnicode={},this.hhea=new yj(this),this.maxp=new Nj(this),this.hmtx=new kj(this),this.post=new xj(this),this.os2=new wj(this),this.loca=new Pj(this),this.glyf=new _j(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var di,Xs=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),gj=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,o,l,u,f,p,m,g,b,k;for(k in g=Object.keys(n).length,l=Math.log(2),p=16*Math.floor(Math.log(g)/l),a=Math.floor(p/l),f=16*g-p,(i=new Xs).writeInt(this.scalarType),i.writeShort(g),i.writeShort(p),i.writeShort(a),i.writeShort(f),s=16*g,u=i.pos+s,o=null,b=[],n)for(m=n[k],i.writeString(k),i.writeInt(t(m)),i.writeInt(u),i.writeInt(m.length),b=b.concat(m),k==="head"&&(o=u),u+=m.length;u%4;)b.push(0),u++;return i.write(b),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=Vw.call(n);n.length%4;)n.push(0);for(s=new Xs(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),mj={}.hasOwnProperty,Oi=function(t,e){for(var n in e)mj.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};di=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var vj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Oi(e,di),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Xs).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),J2=function(){function t(e,n){var r,i,s,a,o,l,u,f,p,m,g,b,k,_,x,w,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(g=e.readUInt16(),m=g/2,e.pos+=6,s=function(){var A,E;for(E=[],l=A=0;0<=m?A<m:A>m;l=0<=m?++A:--A)E.push(e.readUInt16());return E}(),e.pos+=2,k=function(){var A,E;for(E=[],l=A=0;0<=m?A<m:A>m;l=0<=m?++A:--A)E.push(e.readUInt16());return E}(),u=function(){var A,E;for(E=[],l=A=0;0<=m?A<m:A>m;l=0<=m?++A:--A)E.push(e.readUInt16());return E}(),f=function(){var A,E;for(E=[],l=A=0;0<=m?A<m:A>m;l=0<=m?++A:--A)E.push(e.readUInt16());return E}(),i=(this.length-e.pos+this.offset)/2,o=function(){var A,E;for(E=[],l=A=0;0<=i?A<i:A>i;l=0<=i?++A:--A)E.push(e.readUInt16());return E}(),l=x=0,N=s.length;x<N;l=++x)for(_=s[l],r=w=b=k[l];b<=_?w<=_:w>=_;r=b<=_?++w:--w)f[l]===0?a=r+u[l]:(a=o[f[l]/2+(r-b)-(m-l)]||0)!==0&&(a+=u[l]),this.codeMap[r]=65535&a}e.pos=p}return t.encode=function(e,n){var r,i,s,a,o,l,u,f,p,m,g,b,k,_,x,w,N,A,E,B,F,R,J,ne,O,M,G,W,de,ue,pe,V,ie,ae,Ne,P,z,q,Y,te,ce,he,fe,Le,je,Te;switch(W=new Xs,a=Object.keys(e).sort(function(Ae,Ve){return Ae-Ve}),n){case"macroman":for(k=0,_=function(){var Ae=[];for(b=0;b<256;++b)Ae.push(0);return Ae}(),w={0:0},s={},de=0,ie=a.length;de<ie;de++)w[fe=e[i=a[de]]]==null&&(w[fe]=++k),s[i]={old:e[i],new:w[e[i]]},_[i]=w[e[i]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(_),{charMap:s,subtable:W.data,maxGlyphID:k+1};case"unicode":for(M=[],p=[],N=0,w={},r={},x=u=null,ue=0,ae=a.length;ue<ae;ue++)w[E=e[i=a[ue]]]==null&&(w[E]=++N),r[i]={old:E,new:w[E]},o=w[E]-i,x!=null&&o===u||(x&&p.push(x),M.push(i),u=o),x=i;for(x&&p.push(x),p.push(65535),M.push(65535),ne=2*(J=M.length),R=2*Math.pow(Math.log(J)/Math.LN2,2),m=Math.log(R/2)/Math.LN2,F=2*J-R,l=[],B=[],g=[],b=pe=0,Ne=M.length;pe<Ne;b=++pe){if(O=M[b],f=p[b],O===65535){l.push(0),B.push(0);break}if(O-(G=r[O].new)>=32768)for(l.push(0),B.push(2*(g.length+J-b)),i=V=O;O<=f?V<=f:V>=f;i=O<=f?++V:--V)g.push(r[i].new);else l.push(G-O),B.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*J+2*g.length),W.writeUInt16(0),W.writeUInt16(ne),W.writeUInt16(R),W.writeUInt16(m),W.writeUInt16(F),ce=0,P=p.length;ce<P;ce++)i=p[ce],W.writeUInt16(i);for(W.writeUInt16(0),he=0,z=M.length;he<z;he++)i=M[he],W.writeUInt16(i);for(Le=0,q=l.length;Le<q;Le++)o=l[Le],W.writeUInt16(o);for(je=0,Y=B.length;je<Y;je++)A=B[je],W.writeUInt16(A);for(Te=0,te=g.length;Te<te;Te++)k=g[Te],W.writeUInt16(k);return{charMap:r,subtable:W.data,maxGlyphID:N+1}}},t}(),Hw=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Oi(e,di),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new J2(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=J2.encode(n,r),(s=new Xs).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),yj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Oi(e,di),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),wj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Oi(e,di),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),xj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Oi(e,di),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var a;for(i=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,u;for(u=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)u.push(n.readUInt32());return u}).call(this)}},e}(),bj=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Sj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Oi(e,di),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,a,o,l,u,f,p,m,g;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},a=p=0,m=i.length;p<m;a=++p)s=i[a],n.pos=s.offset,f=n.readString(s.length),o=new bj(f,s),u[g=s.nameID]==null&&(u[g]=[]),u[s.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),Nj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Oi(e,di),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),kj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Oi(e,di),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,a,o,l,u;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,p;for(p=[],r=f=0;0<=s?f<s:f>s;r=0<=s?++f:--f)p.push(n.readInt16());return p}(),this.widths=(function(){var f,p,m,g;for(g=[],f=0,p=(m=this.metrics).length;f<p;f++)a=m[f],g.push(a.advance);return g}).call(this),i=this.widths[this.widths.length-1],u=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),Vw=[].slice,_j=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Oi(e,di),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,a,o,l,u,f,p,m;return n in this.cache?this.cache[n]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(n),(s=a.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,o=(l=new Xs(r.read(s))).readShort(),f=l.readShort(),m=l.readShort(),u=l.readShort(),p=l.readShort(),this.cache[n]=o===-1?new Lj(l,f,m,u,p):new jj(l,o,f,m,u,p),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,a,o,l,u;for(o=[],a=[],l=0,u=r.length;l<u;l++)s=n[r[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),jj=function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Lj=function(){function t(e,n,r,i,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Xs(Vw.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),Pj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Oi(e,di),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*n.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(n.readUInt32());return a}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<r.length&&r[a]==o){++a,i[o]=s;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(s+=u)}for(var f=new Array(4*i.length),p=0;p<i.length;++p)f[4*p+3]=255&i[p],f[4*p+2]=(65280&i[p])>>8,f[4*p+1]=(16711680&i[p])>>16,f[4*p]=(4278190080&i[p])>>24;return f},e}(),Cj=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,o,l,u,f,p,m,g,b,k,_,x;for(i in r=Hw.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),g={0:0},x=r.charMap)g[(l=x[i]).old]=l.new;for(b in m=r.maxGlyphID,a)b in g||(g[b]=m++);return f=function(w){var N,A;for(N in A={},w)A[w[N]]=N;return A}(g),p=Object.keys(f).sort(function(w,N){return w-N}),k=function(){var w,N,A;for(A=[],w=0,N=p.length;w<N;w++)o=p[w],A.push(f[o]);return A}(),s=this.font.glyf.encode(a,k,g),u=this.font.loca.encode(s.offsets,k),_={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},t}();We.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var o,l,u;for(u=[],o=0,l=n.length;o<l;o++)r=n[o],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e}();const Aj=t=>/[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/.test(t)?t.split(" ").reverse().join(" "):t,tf=t=>["ar","he","fa","ur"].includes(t),Pn=(t,e)=>tf(e)?Aj(t):t,Ej=(t,e,n,r)=>{const i=new We,s=tf(n),a=i.internal.pageSize.getWidth(),o=i.internal.pageSize.getHeight();let l=30;i.setFontSize(20);const u=Pn(t,n);s?i.text(u,a-20,l,{align:"right"}):i.text(u,20,l),l+=20,i.setFontSize(12);const f=Pn(`${r.generatedOn}: ${new Date().toLocaleDateString()}`,n),p=Pn(`${r.totalItems}: ${e.length}`,n);s?(i.text(f,a-20,l,{align:"right"}),l+=15,i.text(p,a-20,l,{align:"right"})):(i.text(f,20,l),l+=15,i.text(p,20,l)),l+=25,i.setFontSize(16);const m=Pn(r.itemsToBuyTitle,n);s?i.text(m,a-20,l,{align:"right"}):i.text(m,20,l),l+=20,i.setFontSize(11),e.forEach(b=>{l>o-30&&(i.addPage(),l=30);const k=Pn(`☐ ${b.name} - ${b.amount} ${b.unit}`,n);s?i.text(k,a-25,l,{align:"right"}):i.text(k,25,l),l+=12});const g=s?`${t.replace(/\s+/g,"-")}.pdf`:`${t.replace(/\s+/g,"-").toLowerCase()}.pdf`;i.save(g)},Y2=(t,e,n,r)=>{const i=new We,s=tf(n),a=i.internal.pageSize.getWidth(),o=i.internal.pageSize.getHeight();let l=30;i.setFontSize(20);const u=Pn(t.title,n);s?i.text(u,a-20,l,{align:"right"}):i.text(u,20,l),l+=20,i.setFontSize(12),[`${r.cookingTime}: ${t.cookingTime} min`,`${r.difficulty}: ${t.difficulty}`,`${r.servings}: ${e}`].forEach(k=>{const _=Pn(k,n);s?i.text(_,a-20,l,{align:"right"}):i.text(_,20,l),l+=12}),l+=15,l>o-50&&(i.addPage(),l=30),i.setFontSize(16);const p=Pn(r.ingredients,n);s?i.text(p,a-20,l,{align:"right"}):i.text(p,20,l),l+=20,i.setFontSize(11);const m=e/t.servings;t.ingredients.forEach(k=>{l>o-20&&(i.addPage(),l=30);const _=(parseFloat(k.amount)*m).toFixed(1).replace(/\.0$/,""),x=Pn(`• ${k.name} - ${_} ${k.unit}`,n);s?i.text(x,a-25,l,{align:"right"}):i.text(x,25,l),l+=12}),l+=15,l>o-50&&(i.addPage(),l=30),i.setFontSize(16);const g=Pn(r.instructions,n);s?i.text(g,a-20,l,{align:"right"}):i.text(g,20,l),l+=20,i.setFontSize(11),t.instructions.forEach((k,_)=>{l>o-30&&(i.addPage(),l=30);const x=Pn(`${_+1}. ${k}`,n),w=a-50;i.splitTextToSize(x,w).forEach(A=>{l>o-20&&(i.addPage(),l=30),s?i.text(A,a-25,l,{align:"right"}):i.text(A,25,l),l+=12}),l+=5});const b=`${t.title.replace(/\s+/g,"-").toLowerCase()}-recipe.pdf`;i.save(b)},Ij=(t,e,n,r,i)=>{const s=new We,a=tf(r),o=s.internal.pageSize.getWidth(),l=s.internal.pageSize.getHeight();let u=25;s.setFontSize(18);const f=Pn("Meal Calendar",r);a?s.text(f,o-20,u,{align:"right"}):s.text(f,20,u),u+=15,s.setFontSize(10);const p=Pn(`${i.dateRange}: ${new Date(t).toLocaleDateString()} - ${new Date(e).toLocaleDateString()} | ${i.generatedOn}: ${new Date().toLocaleDateString()}`,r);a?s.text(p,o-20,u,{align:"right"}):s.text(p,20,u),u+=20;const g=(()=>{const w=[],N=new Date(t),A=new Date(e);for(let E=new Date(N);E<=A;E.setDate(E.getDate()+1))w.push(new Date(E));return w})(),b=w=>{switch(w){case"breakfast":return`• ${i.breakfast}`;case"lunch":return`• ${i.lunch}`;case"dinner":return`• ${i.dinner}`;case"snack":return`• ${i.snack}`;default:return`• ${w}`}};(w=>{const N=[];let A=[];return w.forEach((E,B)=>{A.push(E),(E.getDay()===0||B===w.length-1)&&(N.push([...A]),A=[])}),N})(g).forEach((w,N)=>{const A=w.length*25;u+A>l-30&&(s.addPage(),u=25),N>0&&(u+=10,s.setDrawColor(200,200,200),s.line(20,u,o-20,u),u+=10),w.forEach(E=>{const B=E.toISOString().split("T")[0],F=n[B]||[],R=Math.max(20,F.length*8+15);u+R>l-20&&(s.addPage(),u=25),s.setFontSize(11),s.setFont("helvetica","bold");const J=Pn(E.toLocaleDateString(r,{weekday:"short",month:"short",day:"numeric"}),r);if(a?s.text(J,o-20,u,{align:"right"}):s.text(J,20,u),u+=12,s.setFont("helvetica","normal"),s.setFontSize(9),F.length>0){const ne=F.reduce((O,M)=>(O[M.mealType]||(O[M.mealType]=[]),O[M.mealType].push(M),O),{});Object.entries(ne).forEach(([O,M])=>{u>l-15&&(s.addPage(),u=25),M.forEach(G=>{const W=Pn(`  ${b(G.mealType)}: ${G.dish.title} (${G.servings}p, ${G.dish.cookingTime}m)`,r),de=o-50;if(s.splitTextToSize(W,de).forEach(pe=>{u>l-15&&(s.addPage(),u=25),a?s.text(pe,o-25,u,{align:"right"}):s.text(pe,25,u),u+=8}),G.notes){const pe=Pn(`    Note: ${G.notes}`,r);s.splitTextToSize(pe,de-20).forEach(ie=>{u>l-15&&(s.addPage(),u=25),s.setFontSize(8),a?s.text(ie,o-30,u,{align:"right"}):s.text(ie,30,u),u+=7,s.setFontSize(9)})}})})}else{const ne=Pn(`  ${i.noMeals}`,r);a?s.text(ne,o-25,u,{align:"right"}):s.text(ne,25,u),u+=8}u+=5})});const x=`meal-calendar-${t}-to-${e}.pdf`;s.save(x)},Gw=({dishes:t,selectedDish:e,setSelectedDish:n,servings:r,setServings:i,onPrint:s})=>{var A;const{t:a,i18n:o}=Lt(),[l,u]=Z.useState(!1),f=async E=>{u(!0);const B=await Wk(E.id,o.language);n({...E,ingredients:B}),i(E.servings),u(!1)},p=async()=>{var R;if(!e)return;const E=await Y2(e,r,o.language),B=URL.createObjectURL(E),F=document.createElement("a");F.href=B,F.download=`${((R=e.name)==null?void 0:R[o.language])||"recipe"}.pdf`,F.click(),URL.revokeObjectURL(B)},m=async()=>{var E,B;if(e)try{const F=await Y2(e,r,o.language),R=new File([F],`${((E=e.name)==null?void 0:E[o.language])||"recipe"}.pdf`,{type:"application/pdf"});navigator.canShare&&navigator.canShare({files:[R]})?await navigator.share({files:[R],title:((B=e.name)==null?void 0:B[o.language])||"Recipe",text:a("share_recipe")}):ft.error(a("share_not_supported"))}catch{ft.error(a("share_failed"))}};if(Z.useEffect(()=>{t.length>0&&f(t[0])},[t,o.language]),!e)return d.jsx("div",{className:"p-4",children:a("no_recipe_selected")});const{name:g,cookingTime:b,servings:k,difficulty:_,steps:x,ingredients:w}=e,N=(w||[]).map(E=>({...E,amount:(parseFloat(E.amount||"1")*r/k).toFixed(2)}));return d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-2xl font-bold",children:(g==null?void 0:g[o.language])||(g==null?void 0:g.en)||"Recipe"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:s,className:"btn btn-secondary",title:a("print"),children:d.jsx(xh,{className:"w-4 h-4"})}),d.jsx("button",{onClick:p,className:"btn btn-secondary",title:a("download"),children:d.jsx(vw,{className:"w-4 h-4"})}),d.jsx("button",{onClick:m,className:"btn btn-secondary",title:a("share"),children:d.jsx(xw,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(os,{className:"w-4 h-4"}),b," ",a("minutes")]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ls,{className:"w-4 h-4"}),r," ",a("servings")]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Fr,{className:"w-4 h-4"}),a(_)]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{children:[a("select_recipe"),":"]}),d.jsx("select",{value:e.id,onChange:E=>{const B=t.find(F=>F.id===Number(E.target.value));B&&f(B)},className:"border rounded px-2 py-1",children:t.map(E=>{var B,F;return d.jsx("option",{value:E.id,children:((B=E.name)==null?void 0:B[o.language])||((F=E.name)==null?void 0:F.en)||"Recipe"},E.id)})})]})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"servings",className:"block font-medium",children:[a("adjust_servings"),":"]}),d.jsx("input",{id:"servings",type:"number",value:r,min:1,onChange:E=>i(Number(E.target.value)),className:"mt-1 border px-2 py-1 rounded w-24"})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold",children:a("ingredients")}),l?d.jsxs("p",{children:[a("loading"),"..."]}):d.jsx("ul",{className:"list-disc list-inside",children:N.map(E=>d.jsxs("li",{children:[E.amount," ",E.unit," ",E.name]},E.id))})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold",children:a("instructions")}),d.jsx("ol",{className:"list-decimal list-inside space-y-1",children:((A=x==null?void 0:x[o.language])==null?void 0:A.map((E,B)=>d.jsx("li",{children:E},B)))||d.jsx("p",{children:a("no_steps")})})]})]})};function Tj(){const{state:t,dispatch:e}=En(),{t:n}=Lt(),[r,i]=Z.useState(!1),[s,a]=Z.useState(null),o=f=>{e({type:"REMOVE_DISH",payload:f}),ft.success(n("common.removed"))},l=t.selectedDishes.reduce((f,p)=>f+p.cookingTime,0),u=t.selectedDishes.reduce((f,p)=>f+p.servings,0);return t.selectedDishes.length===0?d.jsxs("div",{className:"bg-white rounded-3xl shadow-soft p-10 text-center",children:[d.jsxs("div",{className:"relative mb-8",children:[d.jsx("div",{className:"absolute -top-3 -left-3 w-5 h-5 bg-primary-200 rounded-full animate-float"}),d.jsx("div",{className:"absolute -top-2 -right-4 w-4 h-4 bg-secondary-200 rounded-full animate-float delay-300"}),d.jsx("div",{className:"absolute -bottom-3 -right-2 w-6 h-6 bg-warm-gray-200 rounded-full animate-float delay-700"}),d.jsx("div",{className:"absolute -bottom-2 -left-4 w-3 h-3 bg-primary-300 rounded-full animate-float delay-500"}),d.jsxs("div",{className:"relative w-24 h-24 mx-auto",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-200/30 via-secondary-200/30 to-warm-gray-200/30 rounded-full blur-md"}),d.jsx("div",{className:"relative w-full h-full bg-gradient-to-br from-white to-warm-gray-50 rounded-full flex items-center justify-center shadow-strong border border-warm-gray-100",children:d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2",children:d.jsx("span",{className:"text-xs font-heading font-bold text-primary-500 tracking-widest",children:"MENU"})}),d.jsx("div",{className:"text-4xl",children:"🍽️"}),d.jsx("div",{className:"absolute -top-1.5 -left-1.5 w-1.5 h-1.5 bg-primary-400 rounded-full"}),d.jsx("div",{className:"absolute -top-1.5 -right-1.5 w-1.5 h-1.5 bg-secondary-400 rounded-full"}),d.jsx("div",{className:"absolute -bottom-1.5 -left-1.5 w-1.5 h-1.5 bg-secondary-400 rounded-full"}),d.jsx("div",{className:"absolute -bottom-1.5 -right-1.5 w-1.5 h-1.5 bg-primary-400 rounded-full"})]})})]})]}),d.jsx("h3",{className:"text-2xl font-heading font-bold text-warm-gray-900 mb-3",children:n("selectedDishes.noDishesSelected")}),d.jsx("p",{className:"text-warm-gray-600 font-body leading-relaxed text-base",children:n("selectedDishes.startAdding")}),d.jsx("div",{className:"mt-6 flex justify-center",children:d.jsxs("div",{className:"flex space-x-1",children:[d.jsx("div",{className:"w-2 h-2 bg-primary-300 rounded-full animate-pulse"}),d.jsx("div",{className:"w-2 h-2 bg-secondary-300 rounded-full animate-pulse delay-150"}),d.jsx("div",{className:"w-2 h-2 bg-primary-300 rounded-full animate-pulse delay-300"})]})})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-3xl shadow-soft p-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h3",{className:"text-2xl font-heading font-bold text-warm-gray-900",children:[n("selectedDishes.title")," (",t.selectedDishes.length,")"]}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-warm-gray-600",children:[d.jsxs("div",{className:"flex items-center space-x-1.5",children:[d.jsx(os,{className:"h-5 w-5 text-primary-500"}),d.jsxs("span",{className:"font-semibold",children:[l,"m ",n("selectedDishes.totalTime")]})]}),d.jsxs("div",{className:"flex items-center space-x-1.5",children:[d.jsx(ls,{className:"h-5 w-5 text-secondary-500"}),d.jsxs("span",{className:"font-semibold",children:[u," ",n("dish.servings")]})]})]})]}),d.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:t.selectedDishes.map(f=>d.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-warm-gray-50 rounded-2xl hover:bg-warm-gray-100 transition-colors",children:[d.jsx("img",{src:f.image,alt:f.title,className:"w-16 h-16 object-cover rounded-2xl shadow-soft"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h4",{className:"font-heading font-bold text-warm-gray-900 truncate",children:f.title}),d.jsxs("p",{className:"text-sm text-warm-gray-600 font-semibold",children:[f.cuisine," • ",f.cookingTime,"m • ",f.servings," ",n("dish.servings")]})]}),d.jsx("button",{onClick:()=>a(f),className:"p-3 text-primary-500 hover:bg-primary-50 rounded-full transition-all",title:n("dish.cookMode"),children:d.jsx(Fr,{className:"h-5 w-5"})}),d.jsx("button",{onClick:()=>o(f.id),className:"p-3 text-warm-gray-400 hover:text-error hover:bg-red-50 rounded-full transition-all",children:d.jsx(aa,{className:"h-5 w-5"})})]},f.id))}),d.jsx("div",{className:"mt-6 pt-6 border-t border-warm-gray-200",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("p",{className:"text-sm text-warm-gray-600 font-semibold",children:[n("selectedDishes.totalIngredients"),": ",t.shoppingList.length]}),d.jsxs("button",{onClick:()=>i(!r),className:"flex items-center space-x-2 px-6 py-3 bg-primary-500 text-white rounded-full hover:bg-primary-600 transition-all shadow-medium font-semibold transform hover:scale-105",children:[d.jsx(Cc,{className:"h-5 w-5"}),d.jsx("span",{className:"font-body font-semibold",children:n(r?"common.hideRecipes":"common.viewRecipes")})]})]})})]}),r&&d.jsx(Gw,{dishes:t.selectedDishes,onEnterCookMode:f=>a(f)}),s&&d.jsx(cu,{dish:s,isOpen:!!s,onClose:()=>a(null)})]})}function Oj(){return d.jsx("div",{className:"min-h-screen bg-white",children:d.jsx("div",{className:"max-w-7xl mx-auto p-6 sm:p-8 lg:p-10",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10 w-full",children:[d.jsx("div",{className:"lg:col-span-2 space-y-10",children:d.jsx(I_,{})}),d.jsx("div",{className:"lg:col-span-1",children:d.jsx("div",{className:"sticky top-24",children:d.jsx(Tj,{})})})]})})})}const Dj=({onFindDishes:t})=>{const{t:e,i18n:n}=Lt(),{state:r,dispatch:i}=En();lu();const s=r.selectedIngredients??[],[a,o]=Z.useState([]),[l,u]=Z.useState(!0);Z.useEffect(()=>{(async()=>{u(!0);const{data:b,error:k}=await Jn.from("ingredients").select("*");k?console.error("Erreur de chargement des ingrédients:",k.message):b&&(console.log("Ingrédients chargés depuis Supabase:",b),o(b.map(_=>{var x;return{..._,id:((x=_.id)==null?void 0:x.toString())??Math.random().toString(),name:_.name??{en:"Unknown"},category:_.category??{en:"Other"}}}))),u(!1)})()},[]);const f=g=>e(`ingredientsSection.categories.${g.toLowerCase()}`,g),p=a.reduce((g,b)=>{const k=typeof b.category=="string"?b.category:b.category[n.language]??b.category.en??"Other";return g[k]||(g[k]=[]),g[k].push(b),g},{}),m=()=>{if(t){const g=s.map(b=>{var k,_,x;return{id:b.id,name:typeof b.name=="string"?b.name:((k=b.name)==null?void 0:k[n.language])??((_=b.name)==null?void 0:_.en)??"Unknown",quantity:1,unit:"piece",category:typeof b.category=="string"?b.category:((x=b.category)==null?void 0:x[n.language])??"other"}});console.log("Ingrédients envoyés à onFindDishes:",g),t(g)}};return d.jsxs("div",{className:"p-4",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:e("ingredientsSection.whatsInKitchen")}),d.jsx("p",{className:"text-gray-600 mb-6",children:e("ingredientsSection.whatsInKitchenDesc")}),l?d.jsx("p",{children:e("common.loading")}):a.length===0?d.jsx("p",{children:e("common.error")}):d.jsxs(d.Fragment,{children:[Object.entries(p).map(([g,b])=>d.jsxs("div",{className:"mb-6",children:[d.jsx("h3",{className:"text-lg font-medium mb-2",children:f(g.toLowerCase())}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:b.map(k=>{var _,x;return d.jsx("button",{onClick:()=>i({type:"TOGGLE_SELECTED_INGREDIENT",payload:k}),className:`px-3 py-2 border rounded-full text-sm transition ${s.some(w=>w.id===k.id)?"bg-green-200 border-green-400":"bg-white border-gray-300"}`,children:typeof k.name=="string"?k.name:((_=k.name)==null?void 0:_[n.language])??((x=k.name)==null?void 0:x.en)??e("common.unknown","Unknown")},k.id)})})]},g)),d.jsx("button",{onClick:m,className:"mt-4 px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition-all font-body font-medium",disabled:s.length===0,children:e("ingredientsSection.findDishes")})]})]})};function Mj({matches:t,ownedIngredients:e,onBack:n}){const{t:r,i18n:i}=Lt(),{dispatch:s}=En(),[a,o]=Z.useState("all"),[l,u]=Z.useState(null),[f,p]=Z.useState(null),[m,g]=Z.useState(!1);Z.useEffect(()=>{i.isInitialized&&g(!0)},[i]);const b=t.filter(E=>a==="all"?!0:E.matchType===a),k=E=>{switch(E){case"perfect":return r("matchType.perfect");case"near":return r("matchType.near");case"creative":return r("matchType.creative");default:return""}},_=E=>{switch(E){case"perfect":return"bg-green-100 text-green-800 border-green-200";case"near":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"creative":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},x=E=>{s({type:"ADD_DISH",payload:E}),ft.success(r("addedToMenu",{title:E.title}))},w=t.filter(E=>E.matchType==="perfect").length,N=t.filter(E=>E.matchType==="near").length,A=t.filter(E=>E.matchType==="creative").length;return m?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[d.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-all",children:d.jsx(e_,{className:"h-5 w-5 text-gray-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-heading font-bold text-gray-900",children:r("dishMatches")}),d.jsx("p",{className:"text-gray-600 font-body",children:r("basedOnIngredients",{count:e.length})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[d.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-heading font-bold text-gray-900",children:t.length}),d.jsx("div",{className:"text-sm text-gray-600 font-body",children:r("totalMatches")})]}),d.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-heading font-bold text-green-600",children:w}),d.jsx("div",{className:"text-sm text-gray-600 font-body",children:r("perfectMatches")})]}),d.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-heading font-bold text-yellow-600",children:N}),d.jsx("div",{className:"text-sm text-gray-600 font-body",children:r("nearMatches")})]}),d.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-heading font-bold text-blue-600",children:A}),d.jsx("div",{className:"text-sm text-gray-600 font-body",children:r("creativeMatches")})]})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"all",label:r("allResults")},{key:"perfect",label:r("perfectMatches")},{key:"near",label:r("nearMatches")},{key:"creative",label:r("creativeMatches")}].map(E=>d.jsx("button",{onClick:()=>o(E.key),className:`px-4 py-2 rounded-lg font-body font-medium transition-all ${a===E.key?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:E.label},E.key))})]}),b.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(E=>d.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-all",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:E.dish.image,alt:E.dish.title,className:"w-full h-48 object-cover"}),d.jsx("div",{className:"absolute top-3 left-3",children:d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-body font-medium border ${_(E.matchType)}`,children:k(E.matchType)})}),d.jsx("div",{className:"absolute top-3 right-3",children:d.jsx("div",{className:"bg-white/90 backdrop-blur-sm px-2 py-1 rounded-full",children:d.jsxs("span",{className:"text-xs font-body font-bold text-primary",children:[Math.round(E.compatibilityScore),"% match"]})})})]}),d.jsxs("div",{className:"p-4",children:[d.jsx("h3",{className:"font-heading font-semibold text-lg text-gray-900 mb-2",children:E.dish.title}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(os,{className:"h-4 w-4"}),d.jsxs("span",{children:[E.dish.cookingTime,"m"]})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(ls,{className:"h-4 w-4"}),d.jsx("span",{children:E.dish.servings})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(Sw,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),d.jsx("span",{children:E.dish.rating})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-body font-medium text-gray-700",children:r("ingredients")}),d.jsxs("span",{className:"text-xs text-gray-500",children:[E.availableIngredients.length,"/",E.dish.ingredients.length]})]}),d.jsxs("div",{className:"space-y-1",children:[E.availableIngredients.slice(0,3).map(B=>d.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[d.jsx(hl,{className:"h-3 w-3 text-green-500"}),d.jsx("span",{className:"text-gray-700",children:B.name})]},B.id)),E.missingIngredients.slice(0,2).map(B=>d.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[d.jsx(aa,{className:"h-3 w-3 text-red-500"}),d.jsx("span",{className:"text-gray-500",children:r("recipe.needIngredient",{name:B.name})})]},B.id)),E.missingIngredients.length>2&&d.jsx("div",{className:"text-xs text-gray-500",children:r("moreNeeded",{count:E.missingIngredients.length-2})})]})]}),d.jsxs("div",{className:"flex space-x-2 sm:space-x-3",children:[d.jsxs("div",{className:"flex sm:hidden justify-between items-center w-full px-2",children:[d.jsx("button",{onClick:()=>u(E.dish),className:"w-11 h-11 border-2 border-gray-300 text-gray-600 rounded-full hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 flex items-center justify-center shadow-sm",title:r("recipe.recipe"),children:d.jsx(Eye,{className:"h-4 w-4"})}),d.jsx("button",{onClick:()=>x(E.dish),className:"w-11 h-11 bg-gradient-to-br from-primary to-primary-dark text-white rounded-full hover:from-primary-dark hover:to-primary transition-all duration-200 flex items-center justify-center shadow-md transform hover:scale-105",title:r("recipe.addToMenu"),children:d.jsx(Plus,{className:"h-4 w-4"})})]}),d.jsxs("div",{className:"hidden sm:flex space-x-2 w-full",children:[d.jsx("button",{onClick:()=>u(E.dish),className:"flex-1 py-2 px-3 border border-gray-300 text-gray-700 rounded-lg font-body font-medium hover:bg-gray-50 transition-all",children:r("recipe.recipe")}),d.jsx("button",{onClick:()=>x(E.dish),className:"flex-1 py-2 px-3 bg-primary text-white rounded-lg font-body font-medium hover:bg-primary-dark transition-all",children:r("recipe.addToMenu")})]})]})]})]},E.dish.id))}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx(d0,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-heading font-semibold text-gray-900 mb-2",children:r("noMatches")}),d.jsx("p",{className:"text-gray-600 font-body",children:r("tryDifferentIngredients")})]})]}),l&&d.jsx(h0,{dish:l,isOpen:!!l,onClose:()=>u(null),onEnterCookMode:()=>{u(null),p(l)}}),f&&d.jsx(cu,{dish:f,isOpen:!!f,onClose:()=>p(null)})]}):d.jsx("div",{children:r("loading")})}function Rj(){const{t}=Lt(),{state:e}=En(),[n,r]=Z.useState("select"),[i,s]=Z.useState([]),{dishes:a,loading:o,error:l}=gw(),u=p=>{console.log("Calcul des correspondances pour les ingrédients:",p),console.log("Plats disponibles:",a.map(g=>({id:g.id,title:g.title,ingredients:g.ingredients.map(b=>({id:b.id,name:b.name}))})));const m=[];return a.forEach(g=>{console.log("Analyse du plat:",g.title,"avec ingrédients:",g.ingredients);const b=g.ingredients.filter(x=>{const w=typeof x.name=="string"?x.name:x.name.fr||x.name.en;return p.some(A=>{const E=typeof A.name=="string"?A.name:A.name.fr||A.name.en,B=E.toLowerCase()===w.toLowerCase();return console.log(`Comparaison: owned.name=${E}, dishIngredient.name=${w}, Match=${B}`),B})}),k=g.ingredients.filter(x=>{const w=typeof x.name=="string"?x.name:x.name.fr||x.name.en;return!p.some(N=>(typeof N.name=="string"?N.name:N.name.fr||N.name.en).toLowerCase()===w.toLowerCase())}),_=g.ingredients.length>0?b.length/g.ingredients.length*100:0;if(console.log(`Plat: ${g.title}, Score: ${_.toFixed(0)}%, Disponibles:`,b,"Manquants:",k),_>=30){let x;_===100?x="perfect":_>=70?x="near":x="creative",m.push({dish:{...g,compatibilityScore:_,availableIngredients:b,missingIngredients:k},compatibilityScore:_,matchType:x,availableIngredients:b,missingIngredients:k})}}),console.log("Correspondances finales:",m.map(g=>({title:g.dish.title,score:g.compatibilityScore,matchType:g.matchType,available:g.availableIngredients.map(b=>b.name),missing:g.missingIngredients.map(b=>b.name)}))),m.sort((g,b)=>b.compatibilityScore-g.compatibilityScore)},f=p=>{console.log("Ingrédients sélectionnés:",p);const m=u(p);s(m),r("results")};return l?d.jsx("div",{className:"max-w-6xl mx-auto p-6",children:d.jsxs("p",{className:"text-red-500",children:[t("errorLoadingDishes"),": ",l.message]})}):o?d.jsx("div",{className:"max-w-6xl mx-auto p-6",children:d.jsx("p",{children:t("loading")})}):d.jsx("div",{className:"max-w-6xl mx-auto p-6",children:n==="select"?d.jsx(Dj,{onFindDishes:f}):d.jsx(Mj,{matches:i,ownedIngredients:e.selectedIngredients.map(p=>({id:p.id,name:typeof p.name=="string"?p.name:p.name.fr||p.name.en})),onBack:()=>r("select")})})}function Fj(){var _,x;const{state:t,dispatch:e}=En(),{t:n,i18n:r}=Lt(),[i,s]=Z.useState([]),[a,o]=Z.useState(""),[l,u]=Z.useState([]),[f,p]=Z.useState(!1);Z.useEffect(()=>{if(!t.user)return;async function w(){try{const{data:N,error:A}=await Jn.from("ingredients").select("id, name");if(A)throw A;s(N||[]);const{data:E,error:B}=await Jn.from("user_preferences").select("disliked_ingredients").eq("user_id",t.user.id).single();if(B&&B.code!=="PGRST116")throw B;e({type:"SET_USER",payload:{...t.user,dislikedIngredients:(E==null?void 0:E.disliked_ingredients)??[]}})}catch(N){ft.error(n("errors.loadUserPreferences")),console.error("Error fetching user preferences:",N)}}w()},[t.user,e,n]),Z.useEffect(()=>{if(!a.trim()){u([]),p(!1);return}const w=a.toLowerCase(),N=r.language,A=i.filter(E=>{var F,R;return(((F=E.name)==null?void 0:F[N])||((R=E.name)==null?void 0:R.en)||"").toLowerCase().includes(w)});u(A),p(!0)},[a,i,r.language]);const m=async w=>{try{const{error:N}=await Jn.from("user_preferences").upsert({user_id:t.user.id,...w},{onConflict:"user_id"});if(N)throw N;return!0}catch(N){return ft.error(n("errors.updatePreferences")),console.error("Error saving preferences:",N),!1}},g=async()=>{const w=l.find(E=>(E.name[r.language]||E.name.en)===a);if(!w){ft.error(n("profile.invalidIngredient"));return}const N=[...t.user.dislikedIngredients||[],w.id];await m({disliked_ingredients:N})&&(e({type:"SET_USER",payload:{...t.user,dislikedIngredients:N}}),o(""),p(!1),ft.success(n("profile.ingredientAdded")))},b=async w=>{const N=(t.user.dislikedIngredients||[]).filter(E=>E!==w);await m({disliked_ingredients:N})&&(e({type:"SET_USER",payload:{...t.user,dislikedIngredients:N}}),ft.success(n("profile.ingredientRemoved")))},k=()=>!f||!l.length?null:d.jsx("ul",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-lg shadow-lg mt-1 max-h-60 overflow-auto",children:l.map(w=>d.jsx("li",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer font-body",onMouseDown:()=>{o(w.name[r.language]||w.name.en),p(!1)},children:w.name[r.language]||w.name.en},w.id))});return t.user?d.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsx("h2",{className:"text-2xl font-heading font-semibold text-gray-900 mb-4",children:n("profile.accountDetails")}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-body font-medium",children:n("profile.name")}),d.jsx("p",{className:"text-gray-900 font-body",children:t.user.name||n("profile.anonymous")})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-body font-medium",children:n("profile.email")}),d.jsx("p",{className:"text-gray-900 font-body",children:t.user.email})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsxs("h2",{className:"text-2xl font-heading font-semibold text-gray-900 mb-4",children:[n("profile.dislikedIngredients")," (",((_=t.user.dislikedIngredients)==null?void 0:_.length)||0,")"]}),d.jsxs("div",{className:"relative mb-6",children:[d.jsx("input",{type:"text",value:a,onChange:w=>o(w.target.value),placeholder:n("profile.addIngredientPlaceholder"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",autoComplete:"off",onFocus:()=>p(!0),onBlur:()=>setTimeout(()=>p(!1),200),"aria-label":n("profile.addIngredientPlaceholder")}),k()]}),d.jsx("button",{onClick:g,className:"w-full px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-all font-body font-medium",disabled:!a,children:n("profile.add")}),(x=t.user.dislikedIngredients)!=null&&x.length?d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 mt-6",children:t.user.dislikedIngredients.map(w=>{const N=i.find(A=>A.id===w);return d.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg",children:[d.jsx("span",{className:"font-body font-medium text-gray-900",children:N?N.name[r.language]||N.name.en:w}),d.jsx("button",{onClick:()=>b(w),className:"text-red-500 hover:text-red-700 transition-colors","aria-label":n("profile.removeIngredient",{name:N?N.name[r.language]||N.name.en:w}),children:d.jsx(aa,{className:"h-4 w-4"})})]},w)})}):d.jsx("p",{className:"text-gray-500 font-body text-center py-8",children:n("profile.noDislikedIngredients")})]})]}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx("h2",{className:"text-2xl font-heading font-semibold text-gray-900 mb-2",children:n("profile.pleaseLogin")}),d.jsx("p",{className:"text-gray-600 font-body",children:n("profile.loginPrompt")})]})}function $j(){return d.jsx("div",{className:"max-w-4xl mx-auto p-6",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(yw,{className:"h-8 w-8 text-gray-400"})}),d.jsx("h2",{className:"text-2xl font-heading font-bold text-gray-900 mb-2",children:"Favorites Coming Soon"}),d.jsx("p",{className:"text-gray-600 font-body mb-6",children:"We're working on adding the ability to save your favorite dishes and recipes."}),d.jsx("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition-all",children:"Browse Dishes"})]})})}function Bj(){const{state:t,dispatch:e}=En(),{t:n,i18n:r}=Lt(),[i,s]=Z.useState(!1),[a,o]=Z.useState(null),[l,u]=Z.useState(null),f=t.shoppingList.filter(w=>!w.isOwned),p=t.shoppingList.filter(w=>w.isOwned),m=w=>{e({type:"TOGGLE_INGREDIENT_OWNED",payload:w})},g=w=>t.selectedDishes.find(N=>N.ingredients.some(A=>A.name.toLowerCase()===w.toLowerCase()))||null,b=()=>{const w=n("shoppingList.title"),N={generatedOn:n("common.generatedOn"),totalItems:n("common.totalItems"),itemsToBuyTitle:n("shoppingList.itemsToBuyTitle")};Ej(w,f,r.language,N),ft.success(n("shoppingList.downloadedPDF"))},k=()=>{const w=`${n("shoppingList.title")}
${n("common.generatedOn")}: ${new Date().toLocaleDateString()}

`,N=f.map(A=>`☐ ${A.name} - ${A.amount||""} ${A.unit||""}`).join(`
`);return w+N},_=async()=>{try{await navigator.clipboard.writeText(k()),s(!0),ft.success(n("shoppingList.copied")),setTimeout(()=>s(!1),2e3)}catch{ft.error(n("common.error"))}},x=async()=>{if(navigator.share)try{await navigator.share({title:n("shoppingList.title"),text:k()})}catch{}else _()};return t.shoppingList.length===0?d.jsx("div",{className:"max-w-4xl mx-auto p-6",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx("span",{className:"text-2xl",children:"🛒"})}),d.jsx("h2",{className:"text-2xl font-heading font-bold text-gray-900 mb-2",children:n("shoppingList.noShoppingList")}),d.jsx("p",{className:"text-gray-600 font-body mb-6",children:n("shoppingList.noShoppingListDesc")}),d.jsx("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all",children:n("shoppingList.browseDishes")})]})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[d.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-heading font-bold text-gray-900 mb-2",children:n("shoppingList.title")}),d.jsx("p",{className:"text-gray-500 font-body mb-3",children:n("shoppingList.subtitle")}),d.jsxs("p",{className:"text-gray-600 font-body",children:[f.length," ",n("shoppingList.itemsToBuy")," •"," ",p.length," ",n("shoppingList.itemsYouHave")]})]}),d.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 md:mt-0",children:[d.jsxs("button",{onClick:b,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all",children:[d.jsx(vw,{className:"h-4 w-4"}),d.jsx("span",{className:"font-body font-medium",children:n("shoppingList.pdf")})]}),d.jsxs("button",{onClick:_,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all",children:[i?d.jsx(hl,{className:"h-4 w-4"}):d.jsx(t_,{className:"h-4 w-4"}),d.jsx("span",{className:"font-body font-medium",children:n(i?"shoppingList.copied":"shoppingList.copy")})]}),d.jsxs("button",{onClick:x,className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-all",children:[d.jsx(xw,{className:"h-4 w-4"}),d.jsx("span",{className:"font-body font-medium",children:n("shoppingList.share")})]})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsxs("h2",{className:"text-xl font-heading font-semibold text-gray-900 mb-4",children:[n("shoppingList.itemsToBuyTitle")," (",f.length,")"]}),f.length>0?d.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:f.map(w=>{const N=g(w.name);return d.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[d.jsx("button",{onClick:()=>m(w.id),className:"w-5 h-5 border-2 border-gray-300 rounded hover:border-blue-600 transition-colors"}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"font-body font-medium text-gray-900",children:w.name}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("span",{className:"text-sm text-gray-600",children:[w.amount," ",w.unit]}),N&&d.jsx("button",{onClick:()=>o(N),className:"p-1 text-blue-600 hover:bg-blue-50 rounded transition-all",title:`${n("common.from")} ${N.title}`,children:d.jsx(Fr,{className:"h-4 w-4"})})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-xs text-gray-500 capitalize",children:w.category}),N&&d.jsxs("span",{className:"text-xs text-gray-400",children:[n("common.from")," ",N.title]})]})]})]},w.id)})}):d.jsx("p",{className:"text-gray-500 font-body text-center py-8",children:n("shoppingList.allItemsOwned")})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsxs("h2",{className:"text-xl font-heading font-semibold text-gray-900 mb-4",children:[n("shoppingList.itemsYouHaveTitle")," (",p.length,")"]}),p.length>0?d.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:p.map(w=>{const N=g(w.name);return d.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[d.jsx("button",{onClick:()=>m(w.id),className:"w-5 h-5 bg-green-500 border-2 border-green-500 rounded flex items-center justify-center",children:d.jsx(hl,{className:"h-3 w-3 text-white"})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"font-body font-medium text-gray-900 line-through",children:w.name}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("span",{className:"text-sm text-gray-600",children:[w.amount," ",w.unit]}),N&&d.jsx("button",{onClick:()=>o(N),className:"p-1 text-blue-600 hover:bg-blue-50 rounded transition-all",title:`${n("common.from")} ${N.title}`,children:d.jsx(Fr,{className:"h-4 w-4"})})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-xs text-gray-500 capitalize",children:w.category}),N&&d.jsxs("span",{className:"text-xs text-gray-400",children:[n("common.from")," ",N.title]})]})]})]},w.id)})}):d.jsx("p",{className:"text-gray-500 font-body text-center py-8",children:n("shoppingList.noItemsOwned")})]})]}),t.selectedDishes.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsx("h2",{className:"text-xl font-heading font-semibold text-gray-900 mb-4",children:n("shoppingList.selectedDishes")}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.selectedDishes.map(w=>d.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[d.jsx("img",{src:w.image,alt:w.title,className:"w-12 h-12 object-cover rounded-lg"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h4",{className:"font-body font-medium text-gray-900 truncate",children:w.title}),d.jsxs("p",{className:"text-sm text-gray-600",children:[w.cuisine," • ",w.servings," ",n("dish.servings")]})]}),d.jsx("button",{onClick:()=>u(w),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:n("dish.cookMode"),children:d.jsx(Fr,{className:"h-4 w-4"})})]},w.id))})]})]}),a&&d.jsx(h0,{dish:a,isOpen:!!a,onClose:()=>o(null),onEnterCookMode:()=>{o(null),u(a)}}),l&&d.jsx(cu,{dish:l,isOpen:!!l,onClose:()=>u(null)})]})}function zj(){const{state:t}=En(),[e,n]=Z.useState(""),[r,i]=Z.useState(""),[s,a]=Z.useState(null),o=t.selectedDishes.filter(u=>{const f=u.title.toLowerCase().includes(e.toLowerCase())||u.cuisine.toLowerCase().includes(e.toLowerCase()),p=!r||u.cuisine===r;return f&&p}),l=[...new Set(t.selectedDishes.map(u=>u.cuisine))];return t.selectedDishes.length===0?d.jsx("div",{className:"max-w-4xl mx-auto p-6",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(Fr,{className:"h-8 w-8 text-gray-400"})}),d.jsx("h2",{className:"text-2xl font-heading font-bold text-gray-900 mb-2",children:"No Recipes Selected"}),d.jsx("p",{className:"text-gray-600 font-body mb-6",children:"Add some dishes to your menu to access their recipes here"}),d.jsx("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition-all",children:"Browse Dishes"})]})}):d.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-heading font-bold text-gray-900 mb-2",children:"My Recipes"}),d.jsxs("p",{className:"text-gray-600 font-body",children:[t.selectedDishes.length," recipes ready to cook"]})]}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-4 md:mt-0",children:[d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(os,{className:"h-4 w-4"}),d.jsxs("span",{className:"font-body",children:[t.selectedDishes.reduce((u,f)=>u+f.cookingTime,0),"m total"]})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(ls,{className:"h-4 w-4"}),d.jsxs("span",{className:"font-body",children:[t.selectedDishes.reduce((u,f)=>u+f.servings,0)," servings"]})]})]})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx(ww,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search your recipes...",value:e,onChange:u=>n(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),d.jsxs("select",{value:r,onChange:u=>i(u.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[d.jsx("option",{value:"",children:"All Cuisines"}),l.map(u=>d.jsx("option",{value:u,children:u},u))]})]})]}),o.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(u=>d.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-all",children:[d.jsx("img",{src:u.image,alt:u.title,className:"w-full h-48 object-cover"}),d.jsxs("div",{className:"p-4",children:[d.jsx("h3",{className:"font-heading font-semibold text-lg text-gray-900 mb-2",children:u.title}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-4",children:[d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(os,{className:"h-4 w-4"}),d.jsxs("span",{children:[u.cookingTime,"m"]})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(ls,{className:"h-4 w-4"}),d.jsxs("span",{children:[u.servings," servings"]})]}),d.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:u.difficulty})]}),d.jsxs("button",{onClick:()=>a(u),className:"w-full bg-primary text-white py-2 px-4 rounded-lg hover:bg-primary-dark transition-all flex items-center justify-center space-x-2",children:[d.jsx(Fr,{className:"h-4 w-4"}),d.jsx("span",{className:"font-body font-medium",children:"Start Cooking"})]})]})]},u.id))}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx(d0,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-heading font-semibold text-gray-900 mb-2",children:"No recipes found"}),d.jsx("p",{className:"text-gray-600 font-body",children:"Try adjusting your search terms or filters"})]}),d.jsx(Gw,{dishes:o,onEnterCookMode:u=>a(u)}),s&&d.jsx(cu,{dish:s,isOpen:!!s,onClose:()=>a(null)})]})}function Uj(){const{state:t,dispatch:e}=En(),{t:n}=Lt();lu();const[r,i]=Z.useState(new Date),[s,a]=Z.useState(null),[o,l]=Z.useState(!1),u=Z.useMemo(()=>{const x=r.getFullYear(),w=r.getMonth(),N=new Date,A=new Date(x,w,1),B=new Date(x,w+1,0).getDate(),F=A.getDay(),R=new Date(x,w-1,0),J=F,ne=[];for(let M=J-1;M>=0;M--){const W=new Date(x,w-1,R.getDate()-M).toISOString().split("T")[0];ne.push({date:W,meals:t.mealPlan.filter(de=>de.date===W),isToday:!1,isCurrentMonth:!1})}for(let M=1;M<=B;M++){const W=new Date(x,w,M).toISOString().split("T")[0],de=W===N.toISOString().split("T")[0];ne.push({date:W,meals:t.mealPlan.filter(ue=>ue.date===W),isToday:de,isCurrentMonth:!0})}const O=42-ne.length;for(let M=1;M<=O;M++){const W=new Date(x,w+1,M).toISOString().split("T")[0];ne.push({date:W,meals:t.mealPlan.filter(de=>de.date===W),isToday:!1,isCurrentMonth:!1})}return ne},[r,t.mealPlan]),f=x=>{i(w=>{const N=new Date(w);return x==="prev"?N.setMonth(w.getMonth()-1):N.setMonth(w.getMonth()+1),N})},p=x=>{if(t.selectedDishes.length===0){ft.error(n("mealPlan.noSelectedDishes"));return}const w=t.selectedDishes[0];a(w),l(!0)},m=x=>{e({type:"REMOVE_MEAL_PLAN",payload:x}),ft.success(n("mealPlan.mealRemoved"))},g=x=>{switch(x){case"breakfast":return"🌅";case"lunch":return"☀️";case"dinner":return"🌙";case"snack":return"🍎";default:return"🍽️"}},b=x=>{switch(x){case"breakfast":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"lunch":return"bg-blue-100 text-blue-800 border-blue-200";case"dinner":return"bg-purple-100 text-purple-800 border-purple-200";case"snack":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},k=[n("calendar.sunday"),n("calendar.monday"),n("calendar.tuesday"),n("calendar.wednesday"),n("calendar.thursday"),n("calendar.friday"),n("calendar.saturday")],_=[n("calendar.january"),n("calendar.february"),n("calendar.march"),n("calendar.april"),n("calendar.may"),n("calendar.june"),n("calendar.july"),n("calendar.august"),n("calendar.september"),n("calendar.october"),n("calendar.november"),n("calendar.december")];return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[d.jsx("div",{className:"bg-primary text-white p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(ts,{className:"h-6 w-6"}),d.jsx("h2",{className:"text-2xl font-heading font-bold",children:n("mealPlan.mealPlanCalendar")})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>f("prev"),className:"p-2 hover:bg-primary-dark rounded-lg transition-all",children:d.jsx(yh,{className:"h-5 w-5"})}),d.jsx("div",{className:"px-4 py-2 bg-primary-dark rounded-lg",children:d.jsxs("span",{className:"font-heading font-semibold",children:[_[r.getMonth()]," ",r.getFullYear()]})}),d.jsx("button",{onClick:()=>f("next"),className:"p-2 hover:bg-primary-dark rounded-lg transition-all",children:d.jsx(wh,{className:"h-5 w-5"})})]})]})}),d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:k.map(x=>d.jsx("div",{className:"p-3 text-center font-body font-semibold text-gray-600 bg-gray-50 rounded-lg",children:x},x))}),d.jsx("div",{className:"grid grid-cols-7 gap-1",children:u.map((x,w)=>d.jsxs("div",{className:`min-h-[120px] p-2 border rounded-lg transition-all hover:bg-gray-50 ${x.isCurrentMonth?"bg-white border-gray-200":"bg-gray-50 border-gray-100"} ${x.isToday?"ring-2 ring-primary bg-primary/5":""}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:`text-sm font-body font-medium ${x.isCurrentMonth?"text-gray-900":"text-gray-400"} ${x.isToday?"text-primary font-bold":""}`,children:new Date(x.date).getDate()}),x.isCurrentMonth&&d.jsx("button",{onClick:()=>p(x.date),className:"p-1 text-gray-400 hover:text-primary hover:bg-primary/10 rounded transition-all",title:n("mealPlan.addMeal"),children:d.jsx(Kg,{className:"h-3 w-3"})})]}),d.jsxs("div",{className:"space-y-1",children:[x.meals.slice(0,2).map(N=>d.jsxs("div",{className:`group relative p-1.5 rounded text-xs border ${b(N.mealType)}`,children:[d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("span",{children:g(N.mealType)}),d.jsx("span",{className:"font-medium truncate flex-1",children:N.dish.title}),d.jsx("button",{onClick:()=>m(N.id),className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-red-200 rounded transition-all",children:d.jsx(aa,{className:"h-3 w-3"})})]}),N.servings!==N.dish.servings&&d.jsxs("div",{className:"flex items-center space-x-1 mt-1 text-xs opacity-75",children:[d.jsx(ls,{className:"h-2.5 w-2.5"}),d.jsx("span",{children:N.servings})]})]},N.id)),x.meals.length>2&&d.jsxs("div",{className:"text-xs text-gray-500 text-center py-1",children:["+",x.meals.length-2," ",n("common.more")]})]})]},w))})]}),d.jsx("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:d.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-sm",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{children:"🌅"}),d.jsx("span",{className:"font-body",children:n("mealPlan.breakfast")})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{children:"☀️"}),d.jsx("span",{className:"font-body",children:n("mealPlan.lunch")})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{children:"🌙"}),d.jsx("span",{className:"font-body",children:n("mealPlan.dinner")})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{children:"🍎"}),d.jsx("span",{className:"font-body",children:n("mealPlan.snack")})]})]})})]}),s&&d.jsx(_w,{dish:s,isOpen:o,onClose:()=>{l(!1),a(null)}})]})}function qj({isOpen:t,onClose:e}){const{state:n}=En(),{t:r,i18n:i}=Lt(),s=Z.useRef(null),a=new Date,o=new Date(a.getFullYear(),a.getMonth()+1,a.getDate()),[l,u]=Z.useState(a.toISOString().split("T")[0]),[f,p]=Z.useState(o.toISOString().split("T")[0]),[m,g]=Z.useState(!1);if(!t)return null;const b=n.mealPlan.filter(B=>{const F=new Date(B.date),R=new Date(l),J=new Date(f);return F>=R&&F<=J}),k=b.reduce((B,F)=>(B[F.date]||(B[F.date]=[]),B[F.date].push(F),B),{}),_=()=>{const B=[],F=new Date(l),R=new Date(f);for(let J=new Date(F);J<=R;J.setDate(J.getDate()+1))B.push(new Date(J));return B},x=()=>{if(b.length===0){ft.error(r("mealPlan.print.noMealsInRange"));return}window.print()},w=()=>{if(b.length===0){ft.error(r("mealPlan.print.noMealsInRange"));return}const B={title:r("mealPlan.print.title"),dateRange:r("mealPlan.print.dateRange"),generatedOn:r("common.generatedOn"),totalMeals:r("mealPlan.totalMeals"),breakfast:r("mealPlan.breakfast"),lunch:r("mealPlan.lunch"),dinner:r("mealPlan.dinner"),snack:r("mealPlan.snack"),servings:r("dish.servings"),cookingTime:r("dish.cookingTime"),noMeals:r("mealPlan.print.noMealsForDay")};Ij(l,f,k,i.language,B),ft.success(r("mealPlan.print.downloadedPDF"))},N=B=>{switch(B){case"breakfast":return"🌅";case"lunch":return"☀️";case"dinner":return"🌙";case"snack":return"🍎";default:return"🍽️"}},A=B=>B.toLocaleDateString(i.language,{weekday:"long",year:"numeric",month:"long",day:"numeric"}),E=_();return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(xh,{className:"h-6 w-6 text-primary"}),d.jsx("h2",{className:"text-xl font-heading font-bold text-gray-900",children:r("mealPlan.print.title")})]}),d.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-all",children:d.jsx(aa,{className:"h-5 w-5 text-gray-500"})})]}),d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-body font-medium text-gray-700 mb-2",children:r("mealPlan.print.startDate")}),d.jsxs("div",{className:"relative",children:[d.jsx(ts,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),d.jsx("input",{type:"date",value:l,onChange:B=>u(B.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-body font-medium text-gray-700 mb-2",children:r("mealPlan.print.endDate")}),d.jsxs("div",{className:"relative",children:[d.jsx(ts,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),d.jsx("input",{type:"date",value:f,onChange:B=>p(B.target.value),min:l,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]})]}),d.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-heading font-bold text-primary",children:E.length}),d.jsx("div",{className:"text-sm text-gray-600 font-body",children:r("mealPlan.print.daysSelected")})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-heading font-bold text-green-600",children:b.length}),d.jsx("div",{className:"text-sm text-gray-600 font-body",children:r("mealPlan.totalMeals")})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-heading font-bold text-blue-600",children:Object.keys(k).length}),d.jsx("div",{className:"text-sm text-gray-600 font-body",children:r("mealPlan.print.daysWithMeals")})]})]})}),d.jsx("div",{className:"flex items-center justify-center",children:d.jsxs("button",{onClick:()=>g(!m),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all",children:[m?d.jsx(yh,{className:"h-4 w-4"}):d.jsx(wh,{className:"h-4 w-4"}),d.jsx("span",{className:"font-body font-medium",children:r(m?"mealPlan.print.hidePreview":"mealPlan.print.showPreview")})]})}),m&&d.jsx("div",{className:"border border-gray-200 rounded-lg p-4 max-h-96 overflow-y-auto bg-white",children:d.jsxs("div",{ref:s,className:"print-content",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h1",{className:"text-2xl font-heading font-bold text-gray-900 mb-2",children:r("mealPlan.print.title")}),d.jsxs("p",{className:"text-gray-600 font-body",children:[r("mealPlan.print.dateRange"),": ",new Date(l).toLocaleDateString()," - ",new Date(f).toLocaleDateString()]}),d.jsxs("p",{className:"text-sm text-gray-500 font-body",children:[r("common.generatedOn"),": ",new Date().toLocaleDateString()]})]}),d.jsx("div",{className:"space-y-4",children:E.map(B=>{const F=B.toISOString().split("T")[0],R=k[F]||[];return d.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[d.jsx("h3",{className:"text-lg font-heading font-semibold text-gray-900 mb-3",children:A(B)}),R.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:R.map(J=>d.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[d.jsx("span",{className:"text-lg",children:N(J.mealType)}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-body font-medium text-gray-900",children:J.dish.title}),d.jsxs("div",{className:"text-sm text-gray-600",children:[r(`mealPlan.${J.mealType}`)," • ",J.servings," ",r("dish.servings")," • ",J.dish.cookingTime,"m"]}),J.notes&&d.jsx("div",{className:"text-xs text-gray-500 mt-1",children:J.notes})]})]},J.id))}):d.jsx("p",{className:"text-gray-500 font-body text-sm italic",children:r("mealPlan.print.noMealsForDay")})]},F)})})]})}),d.jsxs("div",{className:"flex space-x-3 pt-4",children:[d.jsx("button",{onClick:e,className:"flex-1 py-3 px-4 border border-gray-300 text-gray-700 rounded-lg font-body font-medium hover:bg-gray-50 transition-all",children:r("common.cancel")}),d.jsxs("button",{onClick:w,disabled:b.length===0,className:"flex-1 py-3 px-4 bg-accent text-white rounded-lg font-body font-medium hover:bg-accent/90 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[d.jsx(ts,{className:"h-4 w-4"}),d.jsx("span",{children:r("mealPlan.print.downloadPDF")})]}),d.jsxs("button",{onClick:x,disabled:b.length===0,className:"flex-1 py-3 px-4 bg-primary text-white rounded-lg font-body font-medium hover:bg-primary-dark transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[d.jsx(xh,{className:"h-4 w-4"}),d.jsx("span",{children:r("mealPlan.print.print")})]})]})]})]})}),d.jsx("style",{jsx:!0,global:!0,children:`
        @media print {
          body * {
            visibility: hidden;
          }
          .print-content, .print-content * {
            visibility: visible;
          }
          .print-content {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            background: white;
            padding: 20px;
            font-size: 12px;
            line-height: 1.4;
          }
          .print-content h1 {
            font-size: 24px;
            margin-bottom: 10px;
          }
          .print-content h3 {
            font-size: 16px;
            margin-bottom: 8px;
            page-break-after: avoid;
          }
          .print-content .space-y-4 > div {
            page-break-inside: avoid;
            margin-bottom: 15px;
          }
        }
      `})]})}function Wj(){const{state:t}=En(),{t:e}=Lt(),[n,r]=Z.useState(!1),i=t.mealPlan.length,s=t.mealPlan.reduce((p,m)=>p+m.dish.cookingTime,0),a=t.mealPlan.reduce((p,m)=>p+m.servings,0),o=new Set(t.mealPlan.map(p=>p.dish.id)).size,l=new Date,u=new Date(l.getTime()+7*24*60*60*1e3),f=t.mealPlan.filter(p=>{const m=new Date(p.date);return m>=l&&m<=u}).sort((p,m)=>new Date(p.date).getTime()-new Date(m.date).getTime());return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center space-x-4 mb-4 md:mb-0",children:[d.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:d.jsx(ts,{className:"h-6 w-6 text-primary"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-heading font-bold text-gray-900",children:e("mealPlan.title")}),d.jsx("p",{className:"text-gray-600 font-body",children:e("mealPlan.description")})]})]}),d.jsxs("button",{onClick:()=>r(!0),disabled:i===0,className:"flex items-center space-x-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(xh,{className:"h-4 w-4"}),d.jsx("span",{className:"font-body font-medium",children:e("mealPlan.print.printCalendar")})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-heading font-bold text-blue-600 mb-1",children:i}),d.jsx("div",{className:"text-sm text-gray-600 font-body",children:e("mealPlan.totalMeals")})]}),d.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-heading font-bold text-green-600 mb-1",children:o}),d.jsx("div",{className:"text-sm text-gray-600 font-body",children:e("mealPlan.uniqueDishes")})]}),d.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[d.jsxs("div",{className:"text-2xl font-heading font-bold text-purple-600 mb-1",children:[s,"m"]}),d.jsx("div",{className:"text-sm text-gray-600 font-body",children:e("mealPlan.totalCookingTime")})]}),d.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-heading font-bold text-orange-600 mb-1",children:a}),d.jsx("div",{className:"text-sm text-gray-600 font-body",children:e("mealPlan.totalServings")})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[d.jsx("div",{className:"lg:col-span-3",children:d.jsx(Uj,{})}),d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[d.jsx(f_,{className:"h-5 w-5 text-primary"}),d.jsx("h3",{className:"text-lg font-heading font-semibold text-gray-900",children:e("mealPlan.upcomingMeals")})]}),f.length>0?d.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:f.slice(0,10).map(p=>d.jsx("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-all",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx("img",{src:p.dish.image,alt:p.dish.title,className:"w-12 h-12 object-cover rounded-lg"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h4",{className:"font-body font-medium text-gray-900 text-sm truncate",children:p.dish.title}),d.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500 mt-1",children:[d.jsx("span",{children:new Date(p.date).toLocaleDateString()}),d.jsx("span",{children:"•"}),d.jsx("span",{children:e(`mealPlan.${p.mealType}`)})]}),d.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-500 mt-1",children:[d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(os,{className:"h-3 w-3"}),d.jsxs("span",{children:[p.dish.cookingTime,"m"]})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(ls,{className:"h-3 w-3"}),d.jsx("span",{children:p.servings})]})]})]})]})},p.id))}):d.jsxs("div",{className:"text-center py-8",children:[d.jsx(Fr,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),d.jsx("p",{className:"text-gray-500 font-body text-sm",children:e("mealPlan.noUpcomingMeals")}),d.jsx("p",{className:"text-gray-400 font-body text-xs mt-1",children:e("mealPlan.startScheduling")})]})]})})]})]}),d.jsx(qj,{isOpen:n,onClose:()=>r(!1)})]})}function Hj(){return d.jsxs("div",{className:"max-w-4xl mx-auto p-6 text-gray-800",children:[d.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Privacy Policy"}),d.jsx("p",{className:"mb-6",children:"Last updated: October 2, 2025"}),d.jsx("h2",{className:"text-xl font-semibold mt-6",children:"1. Information We Collect"}),d.jsx("p",{children:"We may collect personal identifiers (name, email), usage data (IP address, browser type), and third-party authentication data (Google, Facebook)."}),d.jsx("h2",{className:"text-xl font-semibold mt-6",children:"2. How We Use Your Information"}),d.jsx("p",{children:"We use your data to provide and secure our services, authenticate users, personalize experience, and comply with legal obligations."}),d.jsx("h2",{className:"text-xl font-semibold mt-6",children:"3. Data Sharing"}),d.jsx("p",{children:"We do not sell your personal data. We may share limited data with service providers (Supabase, Netlify, Google, Facebook) or as required by law."}),d.jsx("h2",{className:"text-xl font-semibold mt-6",children:"4. GDPR Rights"}),d.jsx("p",{children:"EU users have rights to access, correct, delete, restrict, or transfer their data, and to file a complaint with a Data Protection Authority."}),d.jsx("h2",{className:"text-xl font-semibold mt-6",children:"5. CCPA Rights"}),d.jsx("p",{children:"California residents may request data access, deletion, and opt-out of data sale (we do not sell personal data). Contact us to exercise these rights."}),d.jsx("h2",{className:"text-xl font-semibold mt-6",children:"6. Cookies"}),d.jsx("p",{children:"We use cookies for authentication, security, and analytics. You may disable cookies in your browser settings."}),d.jsx("h2",{className:"text-xl font-semibold mt-6",children:"7. Security"}),d.jsx("p",{children:"We apply technical and organizational measures to protect your data against unauthorized access or misuse."}),d.jsx("h2",{className:"text-xl font-semibold mt-6",children:"8. Children’s Privacy"}),d.jsx("p",{children:"Our services are not intended for children under 13 (or under 16 in the EU). We do not knowingly collect personal data from children."}),d.jsx("h2",{className:"text-xl font-semibold mt-6",children:"9. Contact"}),d.jsxs("p",{children:["If you have questions about this Privacy Policy, contact us at:"," ",d.jsx("a",{href:"mailto:allogusto@gmail.com",className:"text-blue-600 underline",children:"allogusto@gmail.com"})]})]})}function Vj(){return d.jsxs("div",{className:"max-w-4xl mx-auto p-6 text-gray-800",children:[d.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Terms of Use"}),d.jsx("p",{className:"mb-6",children:"Last updated: October 2, 2025"}),d.jsx("h2",{className:"text-xl font-semibold mt-6",children:"1. Acceptance"}),d.jsx("p",{children:"By using our services, you agree to these Terms and confirm you are at least 13 years old (16 in the EU)."}),d.jsx("h2",{className:"text-xl font-semibold mt-6",children:"2. User Responsibilities"}),d.jsx("p",{children:"You agree to comply with laws, provide accurate information, avoid fraudulent or harmful activities, and keep your credentials secure."}),d.jsx("h2",{className:"text-xl font-semibold mt-6",children:"3. Intellectual Property"}),d.jsx("p",{children:"All content and software belong to us or our licensors. You may not copy, distribute, or modify content without permission."}),d.jsx("h2",{className:"text-xl font-semibold mt-6",children:"4. Third-Party Services"}),d.jsx("p",{children:"Our service integrates providers like Google, Facebook, Supabase, and Netlify. We are not responsible for their availability, accuracy, or privacy practices."}),d.jsx("h2",{className:"text-xl font-semibold mt-6",children:"5. Limitation of Liability"}),d.jsx("p",{children:"We are not liable for data loss, service interruptions, or indirect damages to the extent permitted by law."}),d.jsx("h2",{className:"text-xl font-semibold mt-6",children:"6. Termination"}),d.jsx("p",{children:"We may suspend or terminate accounts that violate these Terms or misuse the service."}),d.jsx("h2",{className:"text-xl font-semibold mt-6",children:"7. Changes"}),d.jsx("p",{children:"We may update these Terms. Continued use after changes means you accept the updated Terms."}),d.jsx("h2",{className:"text-xl font-semibold mt-6",children:"8. Governing Law"}),d.jsx("p",{children:"These Terms are governed by the applicable laws of the jurisdiction where our service is operated."}),d.jsx("h2",{className:"text-xl font-semibold mt-6",children:"9. Contact"}),d.jsxs("p",{children:["If you have questions about these Terms, contact us at:"," ",d.jsx("a",{href:"mailto:allogusto@gmail.com",className:"text-blue-600 underline",children:"allogusto@gmail.com"})]})]})}const Ye=t=>typeof t=="string",lc=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},Q2=t=>t==null?"":""+t,Gj=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},Kj=/###/g,X2=t=>t&&t.indexOf("###")>-1?t.replace(Kj,"."):t,Z2=t=>!t||Ye(t),Ec=(t,e,n)=>{const r=Ye(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(Z2(t))return{};const s=X2(r[i]);!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return Z2(t)?{}:{obj:t,k:X2(r[i])}},ev=(t,e,n)=>{const{obj:r,k:i}=Ec(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let s=e[e.length-1],a=e.slice(0,e.length-1),o=Ec(t,a,Object);for(;o.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),o=Ec(t,a,Object),o&&o.obj&&typeof o.obj[`${o.k}.${s}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=n},Jj=(t,e,n,r)=>{const{obj:i,k:s}=Ec(t,e,Object);i[s]=i[s]||[],i[s].push(n)},Nh=(t,e)=>{const{obj:n,k:r}=Ec(t,e);if(n)return n[r]},Yj=(t,e,n)=>{const r=Nh(t,n);return r!==void 0?r:Nh(e,n)},Kw=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?Ye(t[r])||t[r]instanceof String||Ye(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):Kw(t[r],e[r],n):t[r]=e[r]);return t},Co=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Qj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Xj=t=>Ye(t)?t.replace(/[&<>"'\/]/g,e=>Qj[e]):t;class Zj{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const eL=[" ",",","?","!",";"],tL=new Zj(20),nL=(t,e,n)=>{e=e||"",n=n||"";const r=eL.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const i=tL.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!i.test(t);if(!s){const a=t.indexOf(n);a>0&&!i.test(t.substring(0,a))&&(s=!0)}return s},am=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let i=t;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let a,o="";for(let l=s;l<r.length;++l)if(l!==s&&(o+=n),o+=r[l],a=i[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=a}return i},kh=t=>t&&t.replace("_","-"),rL={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class _h{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||rL,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(Ye(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new _h(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new _h(this.logger,e)}}var Ai=new _h;class nf{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o.apply(o,[e,...r])})}}class tv extends nf{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,n],r&&(Array.isArray(r)?o.push(...r):Ye(r)&&s?o.push(...r.split(s)):o.push(r)));const l=Nh(this.data,o);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=o[0],n=o[1],r=o.slice(2).join(".")),l||!a||!Ye(r)?l:am(this.data&&this.data[e]&&this.data[e][n],r,s)}addResource(e,n,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let o=[e,n];r&&(o=o.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(o=e.split("."),i=n,n=o[1]),this.addNamespaces(n),ev(this.data,o,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in r)(Ye(r[s])||Array.isArray(r[s]))&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),i=r,r=n,n=o[1]),this.addNamespaces(n);let l=Nh(this.data,o)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?Kw(l,r,s):l={...l,...r},ev(this.data,o,l),a.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var Jw={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,n,r,i))}),e}};const nv={};class jh extends nf{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Gj(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ai.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!nL(e,r,i);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:Ye(s)?[s]:s};const u=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(i)}return{key:e,namespaces:Ye(s)?[s]:s}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],n),l=o[o.length-1],u=n.lng||this.language,f=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(f){const A=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${A}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${A}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:a}const p=this.resolve(e,n);let m=p&&p.res;const g=p&&p.usedKey||a,b=p&&p.exactUsedKey||a,k=Object.prototype.toString.apply(m),_=["[object Number]","[object Function]","[object RegExp]"],x=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,N=!Ye(m)&&typeof m!="boolean"&&typeof m!="number";if(w&&m&&N&&_.indexOf(k)<0&&!(Ye(x)&&Array.isArray(m))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const A=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,m,{...n,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(p.res=A,p.usedParams=this.getUsedParamsDetails(n),p):A}if(s){const A=Array.isArray(m),E=A?[]:{},B=A?b:g;for(const F in m)if(Object.prototype.hasOwnProperty.call(m,F)){const R=`${B}${s}${F}`;E[F]=this.translate(R,{...n,joinArrays:!1,ns:o}),E[F]===R&&(E[F]=m[F])}m=E}}else if(w&&Ye(x)&&Array.isArray(m))m=m.join(x),m&&(m=this.extendTranslation(m,e,n,r));else{let A=!1,E=!1;const B=n.count!==void 0&&!Ye(n.count),F=jh.hasDefaultValue(n),R=B?this.pluralResolver.getSuffix(u,n.count,n):"",J=n.ordinal&&B?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",ne=B&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),O=ne&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${R}`]||n[`defaultValue${J}`]||n.defaultValue;!this.isValidLookup(m)&&F&&(A=!0,m=O),this.isValidLookup(m)||(E=!0,m=a);const G=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&E?void 0:m,W=F&&O!==m&&this.options.updateMissing;if(E||A||W){if(this.logger.log(W?"updateKey":"missingKey",u,l,a,W?O:m),s){const V=this.resolve(a,{...n,keySeparator:!1});V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let de=[];const ue=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ue&&ue[0])for(let V=0;V<ue.length;V++)de.push(ue[V]);else this.options.saveMissingTo==="all"?de=this.languageUtils.toResolveHierarchy(n.lng||this.language):de.push(n.lng||this.language);const pe=(V,ie,ae)=>{const Ne=F&&ae!==m?ae:G;this.options.missingKeyHandler?this.options.missingKeyHandler(V,l,ie,Ne,W,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(V,l,ie,Ne,W,n),this.emit("missingKey",V,l,ie,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&B?de.forEach(V=>{const ie=this.pluralResolver.getSuffixes(V,n);ne&&n[`defaultValue${this.options.pluralSeparator}zero`]&&ie.indexOf(`${this.options.pluralSeparator}zero`)<0&&ie.push(`${this.options.pluralSeparator}zero`),ie.forEach(ae=>{pe([V],a+ae,n[`defaultValue${ae}`]||O)})}):pe(de,a,O))}m=this.extendTranslation(m,e,n,p,r),E&&m===a&&this.options.appendNamespaceToMissingKey&&(m=`${l}:${a}`),(E||A)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,A?m:void 0):m=this.options.parseMissingKeyHandler(m))}return i?(p.res=m,p.usedParams=this.getUsedParamsDetails(n),p):m}extendTranslation(e,n,r,i,s){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=Ye(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(u){const m=e.match(this.interpolator.nestingRegexp);f=m&&m.length}let p=r.replace&&!Ye(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,r.lng||this.language||i.usedLng,r),u){const m=e.match(this.interpolator.nestingRegexp),g=m&&m.length;f<g&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var m=arguments.length,g=new Array(m),b=0;b<m;b++)g[b]=arguments[b];return s&&s[0]===g[0]&&!r.context?(a.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):a.translate(...g,n)},r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,l=Ye(o)?[o]:o;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=Jw.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,s,a,o;return Ye(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),f=u.key;i=f;let p=u.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const m=n.count!==void 0&&!Ye(n.count),g=m&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),b=n.context!==void 0&&(Ye(n.context)||typeof n.context=="number")&&n.context!=="",k=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);p.forEach(_=>{this.isValidLookup(r)||(o=_,!nv[`${k[0]}-${_}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(nv[`${k[0]}-${_}`]=!0,this.logger.warn(`key "${i}" for languages "${k.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),k.forEach(x=>{if(this.isValidLookup(r))return;a=x;const w=[f];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(w,f,x,_,n);else{let A;m&&(A=this.pluralResolver.getSuffix(x,n.count,n));const E=`${this.options.pluralSeparator}zero`,B=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(w.push(f+A),n.ordinal&&A.indexOf(B)===0&&w.push(f+A.replace(B,this.options.pluralSeparator)),g&&w.push(f+E)),b){const F=`${f}${this.options.contextSeparator}${n.context}`;w.push(F),m&&(w.push(F+A),n.ordinal&&A.indexOf(B)===0&&w.push(F+A.replace(B,this.options.pluralSeparator)),g&&w.push(F+E))}}let N;for(;N=w.pop();)this.isValidLookup(r)||(s=N,r=this.getResource(x,_,N,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Ye(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}const Mp=t=>t.charAt(0).toUpperCase()+t.slice(1);class rv{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ai.create("languageUtils")}getScriptPartFromCode(e){if(e=kh(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=kh(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Ye(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Mp(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Mp(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=Mp(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Ye(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),i=[],s=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Ye(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):Ye(e)&&s(this.formatLanguageCode(e)),r.forEach(a=>{i.indexOf(a)<0&&s(this.formatLanguageCode(a))}),i}}let iL=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],sL={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const aL=["v1","v2","v3"],oL=["v4"],iv={zero:0,one:1,two:2,few:3,many:4,other:5},lL=()=>{const t={};return iL.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:sL[e.fc]}})}),t};class cL{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=Ai.create("pluralResolver"),(!this.options.compatibilityJSON||oL.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=lL(),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=kh(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(r,{type:i})}catch{if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,n)}return this.pluralRulesCache[s]=a,a}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,s)=>iv[i]-iv[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(e,i,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let i=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!aL.includes(this.options.compatibilityJSON)}}const sv=function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=Yj(t,e,n);return!s&&i&&Ye(n)&&(s=am(t,n,r),s===void 0&&(s=am(e,n,r))),s},Rp=t=>t.replace(/\$/g,"$$$$");class uL{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ai.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:f,unescapePrefix:p,nestingPrefix:m,nestingPrefixEscaped:g,nestingSuffix:b,nestingSuffixEscaped:k,nestingOptionsSeparator:_,maxReplaces:x,alwaysFormat:w}=e.interpolation;this.escape=n!==void 0?n:Xj,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?Co(s):a||"{{",this.suffix=o?Co(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=f?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=m?Co(m):g||Co("$t("),this.nestingSuffix=b?Co(b):k||Co(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=x||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){let s,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const x=sv(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,r,{...i,...n,interpolationkey:g}):x}const b=g.split(this.formatSeparator),k=b.shift().trim(),_=b.join(this.formatSeparator).trim();return this.format(sv(n,l,k,this.options.keySeparator,this.options.ignoreJSONStructure),_,r,{...i,...n,interpolationkey:k})};this.resetRegExp();const f=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,p=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Rp(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Rp(this.escape(g)):Rp(g)}].forEach(g=>{for(o=0;s=g.regex.exec(e);){const b=s[1].trim();if(a=u(b),a===void 0)if(typeof f=="function"){const _=f(e,s,i);a=Ye(_)?_:""}else if(i&&Object.prototype.hasOwnProperty.call(i,b))a="";else if(p){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${b} for interpolating ${e}`),a="";else!Ye(a)&&!this.useRawValueToEscape&&(a=Q2(a));const k=g.safeValue(a);if(e=e.replace(s[0],k),p?(g.regex.lastIndex+=a.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,a;const o=(l,u)=>{const f=this.nestingOptionsSeparator;if(l.indexOf(f)<0)return l;const p=l.split(new RegExp(`${f}[ ]*{`));let m=`{${p[1]}`;l=p[0],m=this.interpolate(m,a);const g=m.match(/'/g),b=m.match(/"/g);(g&&g.length%2===0&&!b||b.length%2!==0)&&(m=m.replace(/'/g,'"'));try{a=JSON.parse(m),u&&(a={...u,...a})}catch(k){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,k),`${l}${f}${m}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];a={...r},a=a.replace&&!Ye(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const f=i[1].split(this.formatSeparator).map(p=>p.trim());i[1]=f.shift(),l=f,u=!0}if(s=n(o.call(this,i[1].trim(),a),a),s&&i[0]===e&&!Ye(s))return s;Ye(s)||(s=Q2(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),u&&(s=l.reduce((f,p)=>this.format(f,p,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const dL=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),f=o.trim();n[f]||(n[f]=u),u==="false"&&(n[f]=!1),u==="true"&&(n[f]=!0),isNaN(u)||(n[f]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},Ao=t=>{const e={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const a=r+JSON.stringify(s);let o=e[a];return o||(o=t(kh(r),i),e[a]=o),o(n)}};class hL{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ai.create("formatter"),this.options=e,this.formats={number:Ao((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return s=>i.format(s)}),currency:Ao((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return s=>i.format(s)}),datetime:Ao((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return s=>i.format(s)}),relativetime:Ao((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return s=>i.format(s,r.range||"day")}),list:Ao((n,r)=>{const i=new Intl.ListFormat(n,{...r});return s=>i.format(s)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Ao(n)}format(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(o=>o.indexOf(")")>-1)){const o=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,o)].join(this.formatSeparator)}return s.reduce((o,l)=>{const{formatName:u,formatOptions:f}=dL(l);if(this.formats[u]){let p=o;try{const m=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},g=m.locale||m.lng||i.locale||i.lng||r;p=this.formats[u](o,g,{...f,...i,...m})}catch(m){this.logger.warn(m)}return p}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const fL=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class pL extends nf{constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Ai.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,n,r,i){const s={},a={},o={},l={};return e.forEach(u=>{let f=!0;n.forEach(p=>{const m=`${u}|${p}`;!r.reload&&this.store.hasResourceBundle(u,p)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?a[m]===void 0&&(a[m]=!0):(this.state[m]=1,f=!1,a[m]===void 0&&(a[m]=!0),s[m]===void 0&&(s[m]=!0),l[p]===void 0&&(l[p]=!0)))}),f||(o[u]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),s=i[0],a=i[1];n&&this.emit("failedLoading",s,a,n),!n&&r&&this.store.addResourceBundle(s,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const o={};this.queue.forEach(l=>{Jj(l.loaded,[s],a),fL(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const f=l.loaded[u];f.length&&f.forEach(p=>{o[u][p]===void 0&&(o[u][p]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:a});return}this.readingCalls++;const o=(u,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(u&&f&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,a)},s);return}a(u,f)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(f=>o(null,f)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,n,o)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Ye(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ye(n)&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,a),!a&&o&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,o),this.loaded(e,a,o)})}saveMissing(e,n,r,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...a,isUpdate:s},u=this.backend.create.bind(this.backend);if(u.length<6)try{let f;u.length===5?f=u(e,n,r,i,l):f=u(e,n,r,i),f&&typeof f.then=="function"?f.then(p=>o(null,p)).catch(o):o(null,f)}catch(f){o(f)}else u(e,n,r,i,o,l)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const av=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Ye(t[1])&&(e.defaultValue=t[1]),Ye(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),ov=t=>(Ye(t.ns)&&(t.ns=[t.ns]),Ye(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Ye(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),jd=()=>{},gL=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Zc extends nf{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=ov(e),this.services={},this.logger=Ai,this.modules={external:[]},gL(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(Ye(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=av();this.options={...i,...this.options,...ov(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const s=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?Ai.init(s(this.modules.logger),this.options):Ai.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:typeof Intl<"u"&&(f=hL);const p=new rv(this.options);this.store=new tv(this.options.resources,this.options);const m=this.services;m.logger=Ai,m.resourceStore=this.store,m.languageUtils=p,m.pluralResolver=new cL(p,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(m.formatter=s(f),m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new uL(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new pL(s(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",function(g){for(var b=arguments.length,k=new Array(b>1?b-1:0),_=1;_<b;_++)k[_-1]=arguments[_];e.emit(g,...k)}),this.modules.languageDetector&&(m.languageDetector=s(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=s(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new jh(this.services,this.options),this.translator.on("*",function(g){for(var b=arguments.length,k=new Array(b>1?b-1:0),_=1;_<b;_++)k[_-1]=arguments[_];e.emit(g,...k)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,r||(r=jd),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=function(){return e.store[f](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=function(){return e.store[f](...arguments),e}});const l=lc(),u=()=>{const f=(p,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(m),r(p,m)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jd;const i=Ye(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const s=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload&&this.options.preload.forEach(o=>a(o)),this.services.backendConnector.load(s,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(o)})}else r(null)}reloadResources(e,n,r){const i=lc();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=jd),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Jw.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const i=lc();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,u)=>{u?(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},o=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=Ye(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,f=>{a(f,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),i}getFixedT(e,n,r){var i=this;const s=function(a,o){let l;if(typeof o!="object"){for(var u=arguments.length,f=new Array(u>2?u-2:0),p=2;p<u;p++)f[p-2]=arguments[p];l=i.options.overloadTranslationOptionHandler([a,o].concat(f))}else l={...o};l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||s.keyPrefix);const m=i.options.keySeparator||".";let g;return l.keyPrefix&&Array.isArray(a)?g=a.map(b=>`${l.keyPrefix}${m}${b}`):g=l.keyPrefix?`${l.keyPrefix}${m}${a}`:a,i.t(g,l)};return Ye(e)?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const o=n.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!i||a(s,e)))}loadNamespaces(e,n){const r=lc();return this.options.ns?(Ye(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=lc();Ye(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=i.concat(s),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new rv(av());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Zc(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jd;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new Zc(i);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(o=>{s[o]=this[o]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r&&(s.store=new tv(this.store.data,i),s.services.resourceStore=s.store),s.translator=new jh(s.services,i),s.translator.on("*",function(o){for(var l=arguments.length,u=new Array(l>1?l-1:0),f=1;f<l;f++)u[f-1]=arguments[f];s.emit(o,...u)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const dn=Zc.createInstance();dn.createInstance=Zc.createInstance;dn.createInstance;dn.dir;dn.init;dn.loadResources;dn.reloadResources;dn.use;dn.changeLanguage;dn.getFixedT;dn.t;dn.exists;dn.setDefaultNamespace;dn.hasLoadedNamespace;dn.loadNamespaces;dn.loadLanguages;function mL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vL(t,e){if(yt(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yt(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yL(t){var e=vL(t,"string");return yt(e)=="symbol"?e:e+""}function wL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yL(r.key),r)}}function xL(t,e,n){return e&&wL(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var Yw=[],bL=Yw.forEach,SL=Yw.slice;function NL(t){return bL.call(SL.call(arguments,1),function(e){if(e)for(var n in e)t[n]===void 0&&(t[n]=e[n])}),t}var lv=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,kL=function(e,n,r){var i=r||{};i.path=i.path||"/";var s=encodeURIComponent(n),a="".concat(e,"=").concat(s);if(i.maxAge>0){var o=i.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(o))}if(i.domain){if(!lv.test(i.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(i.domain)}if(i.path){if(!lv.test(i.path))throw new TypeError("option path is invalid");a+="; Path=".concat(i.path)}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.sameSite){var l=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(l){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},cv={create:function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+r*60*1e3)),i&&(s.domain=i),document.cookie=kL(e,encodeURIComponent(n),s)},read:function(e){for(var n="".concat(e,"="),r=document.cookie.split(";"),i=0;i<r.length;i++){for(var s=r[i];s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(n)===0)return s.substring(n.length,s.length)}return null},remove:function(e){this.create(e,"",-1)}},_L={name:"cookie",lookup:function(e){var n;if(e.lookupCookie&&typeof document<"u"){var r=cv.read(e.lookupCookie);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupCookie&&typeof document<"u"&&cv.create(n.lookupCookie,e,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},jL={name:"querystring",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=r.substring(1),s=i.split("&"),a=0;a<s.length;a++){var o=s[a].indexOf("=");if(o>0){var l=s[a].substring(0,o);l===e.lookupQuerystring&&(n=s[a].substring(o+1))}}}return n}},cc=null,uv=function(){if(cc!==null)return cc;try{cc=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{cc=!1}return cc},LL={name:"localStorage",lookup:function(e){var n;if(e.lookupLocalStorage&&uv()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupLocalStorage&&uv()&&window.localStorage.setItem(n.lookupLocalStorage,e)}},uc=null,dv=function(){if(uc!==null)return uc;try{uc=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{uc=!1}return uc},PL={name:"sessionStorage",lookup:function(e){var n;if(e.lookupSessionStorage&&dv()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupSessionStorage&&dv()&&window.sessionStorage.setItem(n.lookupSessionStorage,e)}},CL={name:"navigator",lookup:function(e){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)n.push(navigator.languages[r]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},AL={name:"htmlTag",lookup:function(e){var n,r=e.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},EL={name:"path",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof r[e.lookupFromPathIndex]!="string")return;n=r[e.lookupFromPathIndex].replace("/","")}else n=r[0].replace("/","")}return n}},IL={name:"subdomain",lookup:function(e){var n=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}},Qw=!1;try{document.cookie,Qw=!0}catch{}var Xw=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Qw||Xw.splice(1,1);function TL(){return{order:Xw,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var Zw=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};mL(this,t),this.type="languageDetector",this.detectors={},this.init(e,n)}return xL(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n||{languageUtils:{}},this.options=NL(r,this.options||{},TL()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(s){return s.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(_L),this.addDetector(jL),this.addDetector(LL),this.addDetector(PL),this.addDetector(CL),this.addDetector(AL),this.addDetector(EL),this.addDetector(IL)}},{key:"addDetector",value:function(n){return this.detectors[n.name]=n,this}},{key:"detect",value:function(n){var r=this;n||(n=this.options.order);var i=[];return n.forEach(function(s){if(r.detectors[s]){var a=r.detectors[s].lookup(r.options);a&&typeof a=="string"&&(a=[a]),a&&(i=i.concat(a))}}),i=i.map(function(s){return r.options.convertDetectedLanguage(s)}),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(n,r){var i=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||r.forEach(function(s){i.detectors[s]&&i.detectors[s].cacheUserLanguage(n,i.options)}))}}])}();Zw.type="languageDetector";const OL={name:"KingMenu",tagline:"Plan. Cook. Enjoy.",description:"AI-powered meal planning platform"},DL={home:"Home",useMyIngredients:"Use My Ingredients",mealPlan:"Meal Plan",profile:"Profile",favorites:"Favorites",myRecipes:"My Recipes",shoppingList:"Shopping List",logout:"Logout"},ML={title:"Welcome to King Menu",subtitle:"Discover a smarter way to plan your meals, explore recipes, and organize your kitchen.",featuresTitle:"King Menu allows you to:",featureRecipes:"Explore carefully curated and regularly updated recipes.",featureIngredients:"Find dishes based on ingredients you already have at home.",featurePlanner:"Plan your weekly meals with just a few clicks.",featureShoppingList:"Automatically generate your shopping list from your chosen menu.",loginButton:"Sign in to King Menu",footer:"Plan. Cook. Enjoy."},RL={welcomeTitle:"Welcome to King Menu!",login:"Login",signUp:"Sign Up",email:"Email",password:"Password",fullName:"Full Name",enterEmail:"Enter your email",enterPassword:"Enter your password",enterFullName:"Enter your full name",createAccount:"Create Account",orContinueWith:"Or continue with",google:"Google",facebook:"Facebook",locationDetection:"We'll detect your location for personalized recommendations",fullNameLabel:"Full name",fullNamePlaceholder:"Enter your full name",emailLabel:"Email address",emailPlaceholder:"Enter your email",passwordLabel:"Password",passwordPlaceholder:"Enter your password"},FL={recommendedDishes:"Recommended Dishes",dishesFound:"dishes found",searchPlaceholder:"Search dishes or cuisines...",allCuisines:"All Cuisines",allDifficulties:"All Levels",surpriseMe:"Surprise Me",surprise:"Surprise! Try",cookWithIngredients:"Cook with What You Have",cookWithIngredientsDesc:"Tell us what ingredients you have, and we'll suggest perfect dishes to make",startWithIngredients:"Start with Ingredients",noDishesFound:"No dishes found",adjustFilters:"Try adjusting your filters or search terms",allDishesSelected:"All dishes are already selected!"},$L={minutes:"min",calories:"cal",servings:"servings",cookingTime:"Cooking Time",difficulty:"Difficulty",previewRecipe:"Preview Recipe",recipe:"Recipe",add:"Add",added:"Added",cookMode:"Cook Mode"},BL="Recipe",zL={whatsInKitchen:"What's in Your Kitchen?",whatsInKitchenDesc:"Select the ingredients you have at home, and we'll suggest delicious dishes you can make with minimal additional shopping.",searchIngredients:"Search ingredients...",allCategories:"All Categories",selectedIngredients:"Selected Ingredients",clearAll:"Clear All",findDishes:"Find Dishes",findingDishes:"Finding Dishes...",selectAtLeastOne:"Please select at least one ingredient",dishesFound:"{{count}} dishes found with these ingredients!",categories:{proteins:"Proteins",vegetables:"Vegetables",dairy:"Dairy & Eggs",grains:"Grains & Starches",pantry:"Pantry Staples",fruits:"Fruits",condiments:"Condiments & Sauces",herbs:"Herbs & Spices"},ingredientsLabel:"Ingredients"},UL={ingredients:"Ingredients",instructions:"Instructions",adjustServings:"Adjust Servings:",addedToMenu:"{{title}} added to your menu!",enterCookMode:"Cook Mode",downloadPDF:"PDF",share:"Share",completedStep:"Step completed!",finishCooking:"Finish Cooking",completeStep:"Complete Step",previous:"Previous",next:"Next"},qL="Matching Dishes",WL="Based on your {{count}} selected ingredients",HL="Total Matches",VL="Perfect Matches",GL="Almost There",KL="Creative Options",JL="All Results",YL="Need: {{name}}",QL="No matches found",XL="Try selecting different ingredients or adjusting filters",ZL="+{{count}} more needed",eP={perfect:"Perfect Match",near:"Almost There",creative:"Creative Option"},tP={title:"Meal Plan",description:"Plan your meals and organize your cooking schedule",mealPlanCalendar:"Meal Plan Calendar",scheduleDish:"Schedule Dish",selectDate:"Select Date",mealType:"Meal Type",servings:"Servings",notes:"Notes",notesPlaceholder:"Add special notes or modifications...",schedule:"Schedule",breakfast:"Breakfast",lunch:"Lunch",dinner:"Dinner",snack:"Snack",addMeal:"Add Meal",dishScheduled:"{{title}} scheduled for {{date}}",mealRemoved:"Meal removed from calendar",noSelectedDishes:"Please select some dishes first",totalMeals:"Total Meals",uniqueDishes:"Unique Dishes",totalCookingTime:"Total Cooking Time",totalServings:"Total Servings",upcomingMeals:"Upcoming Meals",noUpcomingMeals:"No upcoming meals",startScheduling:"Start scheduling your meals",print:{title:"Meal Calendar",printCalendar:"Print Calendar",startDate:"Start Date",endDate:"End Date",dateRange:"Date Range",daysSelected:"Days Selected",daysWithMeals:"Days with Meals",noMealsInRange:"No meals scheduled in selected date range",showPreview:"Show Preview",hidePreview:"Hide Preview",print:"Print",downloadPDF:"Download PDF",downloadedPDF:"Meal calendar downloaded as PDF!",noMealsForDay:"No meals scheduled for this day"}},nP={sunday:"Sun",monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},rP={title:"Shopping List",subtitle:"Check the ingredients you already have at home to remove them from your shopping list.",itemsToBuy:"items to buy",itemsYouHave:"items you have",itemsToBuyTitle:"Items to Buy",itemsYouHaveTitle:"Items You Have",noShoppingList:"No Shopping List Yet",noShoppingListDesc:"Select dishes from the home page to generate your shopping list",browseDishes:"Browse Dishes",selectedDishes:"Selected Dishes",allItemsOwned:"All ingredients are marked as owned!",noItemsOwned:"No items marked as owned yet",copy:"Copy",copied:"Copied!",pdf:"PDF",share:"Share"},iP={culinaryPreferences:"Culinary Preferences",culinaryPreferencesDesc:"Select your favorite cuisines to get personalized dish recommendations",ingredientsToAvoid:"Ingredients to Avoid",ingredientsToAvoidDesc:"Add ingredients you don't like to get better recommendations",addIngredientPlaceholder:"Enter an ingredient you dislike...",myPantry:"My Pantry",pantryItems:"items",show:"Show",hide:"Hide",dishesSelected:"Dishes Selected",preferredCuisines:"Preferred Cuisines",pantryItemsCount:"Pantry Items",shoppingListItems:"Shopping List Items",ingredientAdded:"Ingredient added",preferencesUpdated:"Preferences updated",noDislikedIngredients:"No disliked ingredients added yet",ingredientRemoved:"Ingredient removed",noIngredientFound:"Not Found",add:"Add"},sP={metric:"Metric",imperial:"Imperial",temperature:{celsius:"°C",fahrenheit:"°F"},units:{g:"g",kg:"kg",ml:"ml",l:"l",cup:"cup",cups:"cups",tbsp:"tbsp",tsp:"tsp",piece:"piece",pieces:"pieces"}},aP={loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",close:"Close",back:"Back",next:"Next",previous:"Previous",search:"Search",filter:"Filter",all:"All",none:"None",yes:"Yes",no:"No",added:"added to selection",removed:"removed from selection",from:"from",generatedOn:"Generated on",totalItems:"Total items",viewRecipes:"View Recipes",hideRecipes:"Hide Recipes",more:"more",optional:"optional",unknown:"Unknown",no_recipe_selected:"No recipe selected"},oP={italian:"Italian",asian:"Asian",french:"French",mexican:"Mexican",indian:"Indian",mediterranean:"Mediterranean",american:"American",vegan:"Vegan"},lP={minutes:"minutes",hours:"hours",days:"days",weeks:"weeks",months:"months"},cP={yourLocation:"Your Location",detecting:"Detecting...",settings:"Settings"},uP={culinaryPreferences:"Culinary Preferences",selectFavorites:"Select your favorite cuisines to get personalized recommendations"},dP={title:"Selected Dishes",noDishesSelected:"No dishes selected",startAdding:"Start adding dishes to see your meal plan here",totalTime:"total time",totalServings:"servings",totalIngredients:"Total ingredients needed"},hP={privacy:"Privacy Policy",terms:"Terms of Use"},fP={pasta:"pasta",creamy:"creamy",classic:"classic",healthy:"healthy",rice:"rice",chicken:"chicken",spicy:"spicy",meat:"meat",quick:"quick",aromatic:"aromatic",comfort:"comfort",fresh:"fresh",light:"light",vegan:"vegan"},pP={brand:OL,navigation:DL,landing:ML,auth:RL,home:FL,dish:$L,recipe:BL,"recipe.step":"Step","recipe.addToMenu":"Add to Menu",ingredientsSection:zL,recipeDetails:UL,dishMatches:qL,basedOnIngredients:WL,totalMatches:HL,perfectMatches:VL,nearMatches:GL,creativeMatches:KL,allResults:JL,needIngredient:YL,noMatches:QL,tryDifferentIngredients:XL,moreNeeded:ZL,matchType:eP,mealPlan:tP,calendar:nP,shoppingList:rP,profile:iP,measurements:sP,common:aP,cuisines:oP,time:lP,location:cP,preferences:uP,selectedDishes:dP,footer:hP,tags:fP},gP={name:"KingMenu",tagline:"Planifiez. Cuisinez. Savourez.",description:"Plateforme de planification culinaire alimentée par l'IA"},mP={home:"Accueil",useMyIngredients:"Utiliser mes ingrédients",mealPlan:"Plan de repas",profile:"Profil",favorites:"Favoris",myRecipes:"Mes recettes",shoppingList:"Liste de courses",logout:"Déconnexion"},vP={title:"Bienvenue sur King Menu",subtitle:"Découvrez une nouvelle façon de planifier vos repas, d’explorer des recettes et d’organiser votre cuisine.",featuresTitle:"King Menu vous permet de :",featureRecipes:"Découvrir des recettes variées et soigneusement sélectionnées, régulièrement mises à jour.",featureIngredients:"Trouver des plats à partir des ingrédients que vous avez déjà à la maison.",featurePlanner:"Planifier vos repas de la semaine en quelques clics.",featureShoppingList:"Générer automatiquement votre liste de courses à partir du menu choisi.",loginButton:"Se connecter à King Menu",footer:"Planifiez. Cuisinez. Savourez."},yP={welcomeTitle:"Bienvenue sur King Menu!",login:"Connexion",signUp:"Inscription",email:"Adresse email",password:"Mot de passe",fullName:"Nom complet",enterEmail:"Entrez votre email",enterPassword:"Entrez votre mot de passe",enterFullName:"Entrez votre nom complet",createAccount:"Créer un compte",orContinueWith:"Ou continuer avec",google:"Google",facebook:"Facebook",locationDetection:"Nous détecterons votre position pour des recommandations personnalisées",fullNameLabel:"Nom complet",fullNamePlaceholder:"Entrez votre nom complet",emailLabel:"Adresse e-mail",emailPlaceholder:"Entrez votre e-mail",passwordLabel:"Mot de passe",passwordPlaceholder:"Entrez votre mot de passe"},wP={recommendedDishes:"Plats recommandés",dishesFound:"plats trouvés",searchPlaceholder:"Rechercher des plats ou cuisines...",allCuisines:"Toutes les cuisines",allDifficulties:"Tous les niveaux",surpriseMe:"Surprenez-moi",surprise:"Surprise ! Essayez",cookWithIngredients:"Cuisinez avec ce que vous avez",cookWithIngredientsDesc:"Dites-nous quels ingrédients vous avez, et nous vous suggérerons des plats parfaits à préparer",startWithIngredients:"Commencer avec des ingrédients",noDishesFound:"Aucun plat trouvé",adjustFilters:"Essayez d'ajuster vos filtres ou termes de recherche",allDishesSelected:"Tous les plats sont déjà sélectionnés !"},xP={minutes:"min",calories:"cal",servings:"portions",cookingTime:"Temps de cuisson",difficulty:"Difficulté",previewRecipe:"Aperçu de la recette",recipe:"Recette",add:"Ajouter",added:"Ajouté",cookMode:"Mode cuisson"},bP="Recette",SP={whatsInKitchen:"Qu'y a-t-il dans votre cuisine ?",whatsInKitchenDesc:"Sélectionnez les ingrédients que vous avez à la maison, et nous vous suggérerons des plats délicieux que vous pouvez préparer avec un minimum de courses supplémentaires.",searchIngredients:"Rechercher des ingrédients...",allCategories:"Toutes les catégories",selectedIngredients:"Ingrédients sélectionnés",clearAll:"Tout effacer",findDishes:"Trouver des plats",findingDishes:"Recherche de plats...",selectAtLeastOne:"Veuillez sélectionner au moins un ingrédient",dishesFound:"{{count}} plats trouvés avec ces ingrédients !",categories:{proteins:"Protéines",vegetables:"Légumes",dairy:"Produits laitiers & Œufs",grains:"Céréales & Féculents",pantry:"Épicerie de base",fruits:"Fruits",condiments:"Condiments & Sauces",herbs:"Herbes & Épices"},ingredientsLabel:"Ingrédients"},NP={ingredients:"Ingrédients",instructions:"Instructions",adjustServings:"Ajuster les portions :",addedToMenu:"{{title}} ajouté à votre menu !",enterCookMode:"Mode cuisson",downloadPDF:"PDF",share:"Partager",completedStep:"Étape terminée !",finishCooking:"Terminer la cuisson",completeStep:"Terminer l'étape",previous:"Précédent",next:"Suivant"},kP="Plats correspondants",_P="Basé sur vos {{count}} ingrédients sélectionnés",jP="Correspondances totales",LP="Correspondances parfaites",PP="Presque complets",CP="Options créatives",AP="Tous les résultats",EP="Besoin : {{name}}",IP="Aucune correspondance trouvée",TP="Essayez de sélectionner d'autres ingrédients ou d'ajuster les filtres",OP="+{{count}} autres nécessaires",DP={perfect:"Correspondance parfaite",near:"Presque complet",creative:"Option créative"},MP={title:"Plan de repas",description:"Planifiez vos repas et organisez votre emploi du temps culinaire",mealPlanCalendar:"Calendrier des repas",scheduleDish:"Planifier un plat",selectDate:"Sélectionner une date",mealType:"Type de repas",servings:"Portions",notes:"Notes",notesPlaceholder:"Ajoutez des notes spéciales ou des modifications...",schedule:"Planifier",breakfast:"Petit-déjeuner",lunch:"Déjeuner",dinner:"Dîner",snack:"Collation",addMeal:"Ajouter un repas",dishScheduled:"{{title}} planifié pour le {{date}}",mealRemoved:"Repas retiré du calendrier",noSelectedDishes:"Veuillez d'abord sélectionner des plats",totalMeals:"Repas totaux",uniqueDishes:"Plats uniques",totalCookingTime:"Temps de cuisson total",totalServings:"Portions totales",upcomingMeals:"Repas à venir",noUpcomingMeals:"Aucun repas à venir",startScheduling:"Commencez à planifier vos repas",print:{title:"Calendrier des repas",printCalendar:"Imprimer le calendrier",startDate:"Date de début",endDate:"Date de fin",dateRange:"Plage de dates",daysSelected:"Jours sélectionnés",daysWithMeals:"Jours avec repas",noMealsInRange:"Aucun repas planifié dans la plage de dates sélectionnée",showPreview:"Afficher l'aperçu",hidePreview:"Masquer l'aperçu",print:"Imprimer",downloadPDF:"Télécharger PDF",downloadedPDF:"Calendrier des repas téléchargé en PDF !",noMealsForDay:"Aucun repas prévu ce jour"}},RP={sunday:"Dim",monday:"Lun",tuesday:"Mar",wednesday:"Mer",thursday:"Jeu",friday:"Ven",saturday:"Sam",january:"Janvier",february:"Février",march:"Mars",april:"Avril",may:"Mai",june:"Juin",july:"Juillet",august:"Août",september:"Septembre",october:"Octobre",november:"Novembre",december:"Décembre"},FP={title:"Liste de courses",subtitle:"Cochez sur la liste ci-dessous les ingrédients dont vous disposez à la maison pour les supprimer de la liste des courses.",itemsToBuy:"articles à acheter",itemsYouHave:"articles que vous avez",itemsToBuyTitle:"Articles à acheter",itemsYouHaveTitle:"Articles que vous avez",noShoppingList:"Pas encore de liste de courses",noShoppingListDesc:"Sélectionnez des plats depuis la page d'accueil pour générer votre liste de courses",browseDishes:"Parcourir les plats",selectedDishes:"Plats sélectionnés",allItemsOwned:"Tous les ingrédients sont marqués comme possédés !",noItemsOwned:"Aucun article marqué comme possédé pour l'instant",copy:"Copier",copied:"Copié !",pdf:"PDF",share:"Partager"},$P={culinaryPreferences:"Préférences culinaires",culinaryPreferencesDesc:"Sélectionnez vos cuisines préférées pour obtenir des recommandations de plats personnalisées",ingredientsToAvoid:"Ingrédients à éviter",ingredientsToAvoidDesc:"Ajoutez les ingrédients que vous n'aimez pas pour obtenir de meilleures recommandations",addIngredientPlaceholder:"Entrez un ingrédient que vous n'aimez pas...",myPantry:"Mon garde-manger",pantryItems:"articles",show:"Afficher",hide:"Masquer",dishesSelected:"Plats sélectionnés",preferredCuisines:"Cuisines préférées",pantryItemsCount:"Articles dans le garde-manger",shoppingListItems:"Articles de la liste de courses",preferencesUpdated:"Préférences mises à jour",noDislikedIngredients:"Aucun ingrédient désapprouvé ajouté pour l'instant",ingredientAdded:"Ingrédient ajouté",noIngredientFound:"Non trouvé",ingredientRemoved:"Ingrédient supprimé",add:"Ajouter"},BP={metric:"Métrique",imperial:"Impérial",temperature:{celsius:"°C",fahrenheit:"°F"},units:{g:"g",kg:"kg",ml:"ml",l:"l",cup:"tasse",cups:"tasses",tbsp:"c. à soupe",tsp:"c. à café",piece:"pièce",pieces:"pièces"}},zP={loading:"Chargement...",error:"Erreur",success:"Succès",cancel:"Annuler",save:"Enregistrer",delete:"Supprimer",edit:"Modifier",close:"Fermer",back:"Retour",next:"Suivant",previous:"Précédent",search:"Rechercher",filter:"Filtrer",all:"Tous",none:"Aucun",yes:"Oui",no:"Non",added:"ajouté à la sélection",removed:"retiré de la sélection",from:"de",generatedOn:"Généré le",totalItems:"Total d'articles",viewRecipes:"Voir les recettes",hideRecipes:"Masquer les recettes",more:"plus",optional:"optionnel",unknown:"Inconnu",no_recipe_selected:"Aucune recette sélectionnée"},UP={italian:"Italien",asian:"Asiatique",french:"Français",mexican:"Mexicain",indian:"Indien",mediterranean:"Méditerranéen",american:"Américain",vegan:"Végétalien"},qP={minutes:"minutes",hours:"heures",days:"jours",weeks:"semaines",months:"mois"},WP={yourLocation:"Votre position",detecting:"Détection en cours...",settings:"Paramètres"},HP={culinaryPreferences:"Préférences culinaires",selectFavorites:"Sélectionnez vos cuisines préférées pour obtenir des recommandations personnalisées"},VP={title:"Plats sélectionnés",noDishesSelected:"Aucun plat sélectionné",startAdding:"Commencez à ajouter des plats pour voir votre plan de repas ici",totalTime:"temps total",totalServings:"portions",totalIngredients:"Total d'ingrédients nécessaires"},GP={privacy:"Privacy Policy",terms:"Terms of Use"},KP={pasta:"pâtes",creamy:"crémeux",classic:"classique",healthy:"sain",rice:"riz",chicken:"poulet",spicy:"épicé",meat:"viande",quick:"rapide",aromatic:"aromatique",comfort:"réconfortant",fresh:"frais",light:"léger",vegan:"végétalien"},JP={brand:gP,navigation:mP,landing:vP,auth:yP,home:wP,dish:xP,recipe:bP,"recipe.step":"Étape","recipe.addToMenu":"Ajouter au menu",ingredientsSection:SP,recipeDetails:NP,dishMatches:kP,basedOnIngredients:_P,totalMatches:jP,perfectMatches:LP,nearMatches:PP,creativeMatches:CP,allResults:AP,needIngredient:EP,noMatches:IP,tryDifferentIngredients:TP,moreNeeded:OP,matchType:DP,mealPlan:MP,calendar:RP,shoppingList:FP,profile:$P,measurements:BP,common:zP,cuisines:UP,time:qP,location:WP,preferences:HP,selectedDishes:VP,footer:GP,tags:KP},YP={name:"KingMenu",tagline:"خطط. اطبخ. استمتع.",description:"منصة تخطيط الطعام مدعومة بالذكاء الاصطناعي"},QP={home:"الرئيسية",useMyIngredients:"استخدام مكوناتي",mealPlan:"خطة الوجبات",profile:"الملف الشخصي",favorites:"المفضلة",myRecipes:"وصفاتي",shoppingList:"قائمة التسوق",logout:"تسجيل الخروج"},XP={title:"مرحبًا بك في كينغ منيو",subtitle:"اكتشف طريقة ذكية لتخطيط وجباتك، واستكشاف الوصفات، وتنظيم مطبخك.",featuresTitle:"يتيح لك كينغ منيو:",featureRecipes:"استكشاف وصفات مختارة بعناية ومحدثة بانتظام.",featureIngredients:"العثور على أطباق بناءً على المكونات المتوفرة لديك في المنزل.",featurePlanner:"تخطيط وجبات الأسبوع بسهولة وبضع نقرات.",featureShoppingList:"إنشاء قائمة التسوق تلقائيًا بناءً على قائمتك المختارة.",loginButton:"تسجيل الدخول إلى كينغ منيو",footer:"خطط. اطبخ. استمتع."},ZP={welcomeTitle:"مرحبًا بك في King Menu!",login:"تسجيل الدخول",signUp:"التسجيل",email:"عنوان البريد الإلكتروني",password:"كلمة المرور",fullName:"الاسم الكامل",enterEmail:"أدخل بريدك الإلكتروني",enterPassword:"أدخل كلمة المرور",enterFullName:"أدخل اسمك الكامل",createAccount:"إنشاء حساب",orContinueWith:"أو استمرار مع",google:"جوجل",facebook:"فيسبوك",locationDetection:"سنكتشف موقعك لتوصيات مخصصة",fullNameLabel:"الاسم الكامل",fullNamePlaceholder:"أدخل اسمك الكامل",emailLabel:"البريد الإلكتروني",emailPlaceholder:"أدخل بريدك الإلكتروني",passwordLabel:"كلمة المرور",passwordPlaceholder:"أدخل كلمة المرور الخاصة بك"},e8={recommendedDishes:"الأطباق الموصى بها",dishesFound:"أطباق تم العثور عليها",searchPlaceholder:"ابحث عن الأطباق أو المأكولات...",allCuisines:"جميع المأكولات",allDifficulties:"جميع المستويات",surpriseMe:"أفاجئني",surprise:"مفاجأة! جرب",cookWithIngredients:"اطبخ بما لديك",cookWithIngredientsDesc:"أخبرنا بما لديك من مكونات، وسنقترح أطباقًا مثالية لتحضيرها",startWithIngredients:"ابدأ بالمكونات",noDishesFound:"لم يتم العثور على أطباق",adjustFilters:"حاول تعديل الفلاتر أو مصطلحات البحث",allDishesSelected:"جميع الأطباق تم اختيارها بالفعل!"},t8={minutes:"دقيقة",calories:"سعرة حرارية",servings:"حصص",cookingTime:"وقت الطهي",difficulty:"الصعوبة",previewRecipe:"معاينة الوصفة",recipe:"وصفة",add:"أضف",added:"تم الإضافة",cookMode:"وضع الطهي"},n8={whatsInKitchen:"ما الذي لديك في مطبخك؟",whatsInKitchenDesc:"اختر المكونات التي لديك في المنزل، وسنقترح أطباقًا لذيذة يمكنك تحضيرها بأقل تكلفة إضافية.",searchIngredients:"ابحث عن المكونات...",allCategories:"جميع الفئات",selectedIngredients:"المكونات المختارة",clearAll:"مسح الكل",findDishes:"ابحث عن الأطباق",findingDishes:"جاري البحث عن الأطباق...",ingredients:"مكونات",selectAtLeastOne:"يرجى اختيار مكون واحد على الأقل",dishesFound:"تم العثور على أطباق باستخدام {{count}} مكونات!",categories:{proteins:"البروتينات",vegetables:"الخضروات",dairy:"المنتجات اللبنية والبيض",grains:"الحبوب والنشويات",pantry:"المواد الأساسية",fruits:"الفواكه",condiments:"التتبيلات والصلصات",herbs:"الأعشاب والتوابل"}},r8={ingredients:"المكونات",instructions:"التعليمات",step:"الخطوة",adjustServings:"تعديل الحصص:",addToMenu:"أضف إلى القائمة",addedToMenu:"{{title}} تمت إضافته إلى قائمتك!",enterCookMode:"أدخل وضع الطهي",downloadPDF:"PDF",share:"مشاركة",completedStep:"تمت الخطوة!",finishCooking:"أكمل الطهي",completeStep:"أكمل الخطوة",previous:"السابق",next:"التالي",needIngredient:"تحتاج إلى: {{name}}",moreNeeded:"+{{count}} أخرى مطلوبة",dishMatches:"الأطباق المطابقة",basedOnIngredients:"بناءً على {{count}} مكونات مختارة",totalMatches:"إجمالي المطابقات",perfectMatches:"مطابقات مثالية",nearMatches:"مطابقات قريبة",creativeMatches:"خيارات إبداعية",allResults:"جميع النتائج",matchType:{perfect:"مطابقة مثالية",near:"مطابقة قريبة",creative:"خيار إبداعي"},noMatches:"لم يتم العثور على مطابقات",tryDifferentIngredients:"حاول اختيار مكونات مختلفة أو تعديل الفلاتر",dishAdded:"{{title}} تمت إضافته إلى قائمتك!"},i8={ingredients:"المكونات",instructions:"طريقة التحضير",adjustServings:"ضبط الحصص :",addedToMenu:"تمت إضافة {{title}} إلى قائمتك !",enterCookMode:"وضع الطهي",downloadPDF:"PDF",share:"مشاركة",completedStep:"تم إكمال الخطوة !",finishCooking:"إنهاء الطهي",completeStep:"أكمل الخطوة",previous:"السابق",next:"التالي"},s8={title:"خطة الوجبات",description:"خطط لوجباتك ونظم جدولك الطهي",mealPlanCalendar:"تقويم خطة الوجبات",scheduleDish:"جدولة طبق",selectDate:"اختر التاريخ",mealType:"نوع الوجبة",servings:"الحصص",notes:"ملاحظات",notesPlaceholder:"أضف أي ملاحظات خاصة أو تعديلات...",schedule:"جدولة",breakfast:"إفطار",lunch:"غداء",dinner:"عشاء",snack:"وجبة خفيفة",addMeal:"أضف وجبة",dishScheduled:"{{title}} تمت جدولته لـ {{date}}",mealRemoved:"تمت إزالة الوجبة من التقويم",noSelectedDishes:"يرجى اختيار بعض الأطباق أولاً",totalMeals:"إجمالي الوجبات",uniqueDishes:"أطباق فريدة",totalCookingTime:"إجمالي وقت الطهي",totalServings:"إجمالي الحصص",upcomingMeals:"الوجبات القادمة",noUpcomingMeals:"لا توجد وجبات قادمة",startScheduling:"ابدأ بجدولة وجباتك",print:{title:"تقويم الوجبات",printCalendar:"اطبع التقويم",startDate:"تاريخ البداية",endDate:"تاريخ النهاية",dateRange:"نطاق التاريخ",daysSelected:"الأيام المختارة",daysWithMeals:"الأيام التي تحتوي على وجبات",noMealsInRange:"لا توجد وجبات مجدولة في النطاق المحدد",showPreview:"عرض المعاينة",hidePreview:"إخفاء المعاينة",print:"اطبع",downloadPDF:"تحميل PDF",downloadedPDF:"تم تحميل تقويم الوجبات كملف PDF!",noMealsForDay:"لا توجد وجبات مجدولة لهذا اليوم"}},a8={sunday:"أحد",monday:"إثنين",tuesday:"ثلاثاء",wednesday:"أربعاء",thursday:"خميس",friday:"جمعة",saturday:"سبت",january:"يناير",february:"فبراير",march:"مارس",april:"أبريل",may:"مايو",june:"يونيو",july:"يوليو",august:"أغسطس",september:"سبتمبر",october:"أكتوبر",november:"نوفمبر",december:"ديسمبر"},o8={title:"قائمة التسوق",subtitle:"حدد المكونات المتوفرة لديك في المنزل لإزالتها من قائمة التسوق.",itemsToBuy:"عناصر للشراء",itemsYouHave:"عناصر لديك",itemsToBuyTitle:"العناصر للشراء",itemsYouHaveTitle:"العناصر التي لديك",noShoppingList:"لا يوجد قائمة تسوق بعد",noShoppingListDesc:"اختر بعض الأطباق من الصفحة الرئيسية لتوليد قائمة التسوق",browseDishes:"تصفح الأطباق",selectedDishes:"الأطباق المختارة",allItemsOwned:"جميع المكونات تم وضع علامة كملكية!",noItemsOwned:"لا توجد عناصر تم وضع علامة كملكية بعد",copy:"نسخ",copied:"تم النسخ!",pdf:"PDF",share:"مشاركة"},l8={culinaryPreferences:"التفضيلات الطهوية",culinaryPreferencesDesc:"اختر المأكولات المفضلة لديك للحصول على توصيات مخصصة",ingredientsToAvoid:"المكونات لتجنبها",ingredientsToAvoidDesc:"أضف المكونات التي لا تحبها للحصول على توصيات أفضل",addIngredientPlaceholder:"أدخل مكونًا لا تحبه...",myPantry:"مخزني",pantryItems:"عناصر",show:"عرض",hide:"إخفاء",dishesSelected:"الأطباق المختارة",preferredCuisines:"المأكولات المفضلة",preferencesUpdated:"تم تحديث التفضيلات",pantryItemsCount:"عناصر المخزن",shoppingListItems:"عناصر قائمة التسوق",noDislikedIngredients:"لم يتم إضافة مكونات غير مرغوب فيها بعد",ingredientAdded:"تمت إضافة المكون",noIngredientFound:"غير موجود",ingredientRemoved:"تمت إزالة المكون",add:"أضف"},c8={metric:"متري",imperial:"إمبراطوري",temperature:{celsius:"°س",fahrenheit:"°ف"},units:{g:"غ",kg:"كغ",ml:"مل",l:"ل",cup:"كوب",cups:"أكواب",tbsp:"م.ع",tsp:"م.ص",piece:"قطعة",pieces:"قطع"}},u8={loading:"جاري التحميل...",error:"خطأ",success:"نجاح",cancel:"إلغاء",save:"حفظ",delete:"حذف",edit:"تعديل",close:"إغلاق",back:"رجوع",next:"التالي",previous:"السابق",search:"بحث",filter:"تصفية",all:"الكل",none:"لا شيء",yes:"نعم",no:"لا",added:"تم الإضافة إلى الاختيار",removed:"تمت إزالته من الاختيار",from:"من",generatedOn:"تم التوليد في",totalItems:"إجمالي العناصر",viewRecipes:"عرض الوصفات",hideRecipes:"إخفاء الوصفات",more:"أكثر",optional:"اختياري"},d8={italian:"إيطالية",asian:"آسيوية",french:"فرنسية",mexican:"مكسيكية",indian:"هندية",mediterranean:"متوسطية",american:"أمريكية",vegan:"نباتية"},h8={minutes:"دقائق",hours:"ساعات",days:"أيام",weeks:"أسابيع",months:"أشهر"},f8={yourLocation:"موقعك",detecting:"جاري الكشف...",settings:"الإعدادات"},p8={culinaryPreferences:"التفضيلات الطهوية",selectFavorites:"اختر المأكولات المفضلة لديك للحصول على توصيات مخصصة"},g8={title:"الأطباق المختارة",noDishesSelected:"لم يتم اختيار أطباق",startAdding:"ابدأ بإضافة أطباق لترى خطة وجباتك هنا",totalTime:"الوقت الإجمالي",totalServings:"الحصص",totalIngredients:"إجمالي المكونات المطلوبة"},m8={privacy:"Privacy Policy",terms:"Terms of Use"},v8={pasta:"معكرونة",creamy:"كريمي",classic:"كلاسيكي",healthy:"صحي",rice:"أرز",chicken:"دجاج",spicy:"حار",meat:"لحم",quick:"سريع",aromatic:"عطري",comfort:"مريح",fresh:"طازج",light:"خفيف",vegan:"نباتي"},y8={brand:YP,navigation:QP,landing:XP,auth:ZP,home:e8,dish:t8,ingredients:n8,recipe:r8,recipeDetails:i8,mealPlan:s8,calendar:a8,shoppingList:o8,profile:l8,measurements:c8,common:u8,cuisines:d8,time:h8,location:f8,preferences:p8,selectedDishes:g8,footer:m8,tags:v8},w8={name:"KingMenu",tagline:"Planifica. Cocina. Disfruta.",description:"Plataforma de planificación de alimentos impulsada por IA"},x8={home:"Inicio",useMyIngredients:"Usar Mis Ingredientes",mealPlan:"Plan de Comidas",profile:"Perfil",favorites:"Favoritos",myRecipes:"Mis Recetas",shoppingList:"Lista de Compras",logout:"Cerrar Sesión"},b8={title:"Bienvenido a King Menu",subtitle:"Descubre una nueva forma de planificar tus comidas, explorar recetas y organizar tu cocina.",featuresTitle:"King Menu te permite:",featureRecipes:"Descubrir recetas variadas y cuidadosamente seleccionadas, actualizadas regularmente.",featureIngredients:"Encontrar platos según los ingredientes que ya tienes en casa.",featurePlanner:"Planificar tus comidas semanales con unos pocos clics.",featureShoppingList:"Generar automáticamente tu lista de compras a partir del menú elegido.",loginButton:"Inicia sesión en King Menu",footer:"Planifica. Cocina. Disfruta."},S8={privacy:"Privacy Policy",terms:"Terms of Use"},N8={welcomeTitle:"Bienvenido a King Menu!",login:"Iniciar Sesión",signUp:"Registrarse",email:"Correo Electrónico",password:"Contraseña",fullName:"Nombre Completo",enterEmail:"Ingresa tu correo",enterPassword:"Ingresa tu contraseña",enterFullName:"Ingresa tu nombre completo",createAccount:"Crear Cuenta",orContinueWith:"O continúa con",google:"Google",facebook:"Facebook",locationDetection:"Detectaremos tu ubicación para recomendaciones personalizadas",fullNameLabel:"Nombre completo",fullNamePlaceholder:"Ingrese su nombre completo",emailLabel:"Dirección de correo electrónico",emailPlaceholder:"Ingrese su correo electrónico",passwordLabel:"Contraseña",passwordPlaceholder:"Ingrese su contraseña"},k8={recommendedDishes:"Platos Recomendados",dishesFound:"platos encontrados",searchPlaceholder:"Buscar platos o cocinas...",allCuisines:"Todas las Cocinas",allDifficulties:"Todas las Dificultades",surpriseMe:"Sorpréndeme",surprise:"¡Sorpresa! Prueba",cookWithIngredients:"Cocina con lo que Tienes",cookWithIngredientsDesc:"Dinos qué ingredientes tienes, y te sugeriremos platos perfectos para preparar",startWithIngredients:"Comenzar con Ingredientes",noDishesFound:"No se encontraron platos",adjustFilters:"Intenta ajustar los filtros o los términos de búsqueda",allDishesSelected:"¡Todos los platos ya están seleccionados!"},_8={minutes:"min",calories:"cal",servings:"porciones",cookingTime:"Tiempo de Cocción",difficulty:"Dificultad",previewRecipe:"Vista Previa de la Receta",recipe:"Receta",add:"Añadir",added:"Añadido",cookMode:"Modo de Cocina"},j8={whatsInKitchen:"¿Qué tienes en la Cocina?",whatsInKitchenDesc:"Selecciona los ingredientes que tienes en casa, y te sugeriremos platos deliciosos que puedes preparar con un mínimo de compras adicionales.",searchIngredients:"Buscar ingredientes...",allCategories:"Todas las Categorías",selectedIngredients:"Ingredientes Seleccionados",clearAll:"Borrar Todo",findDishes:"Encontrar Platos",findingDishes:"Buscando Platos...",ingredients:"ingredientes",selectAtLeastOne:"Por favor, selecciona al menos un ingrediente",dishesFound:"¡Platos encontrados usando {{count}} ingredientes!",categories:{proteins:"Proteínas",vegetables:"Verduras",dairy:"Lácteos y Huevos",grains:"Cereales y Almidones",pantry:"Alimentos Básicos",fruits:"Frutas",condiments:"Condimentos y Salsas",herbs:"Hierbas y Especias"}},L8={ingredients:"Ingredientes",instructions:"Instrucciones",step:"Paso",adjustServings:"Ajustar Porciones:",addToMenu:"Añadir al Menú",addedToMenu:"{{title}} añadido a tu menú!",enterCookMode:"Entrar en Modo de Cocina",downloadPDF:"PDF",share:"Compartir",completedStep:"¡Paso completado!",finishCooking:"Terminar de Cocinar",completeStep:"Completar Paso",previous:"Anterior",next:"Siguiente",needIngredient:"Necesitas: {{name}}",moreNeeded:"+{{count}} más necesarios",dishMatches:"Platos Correspondientes",basedOnIngredients:"Basado en {{count}} ingredientes seleccionados",totalMatches:"Total de Correspondencias",perfectMatches:"Correspondencias Perfectas",nearMatches:"Correspondencias Cercanas",creativeMatches:"Opciones Creativas",allResults:"Todos los Resultados",matchType:{perfect:"Correspondencia Perfecta",near:"Correspondencia Cercana",creative:"Opción Creativa"},recipeDetails:{ingredients:"Ingredientes",instructions:"Instrucciones",adjustServings:"Ajustar porciones :",addedToMenu:"¡ {{title}} agregado a tu menú !",enterCookMode:"Modo cocción",downloadPDF:"PDF",share:"Compartir",completedStep:"¡ Paso completado !",finishCooking:"Terminar de cocinar",completeStep:"Completar paso",previous:"Anterior",next:"Siguiente"},noMatches:"No se encontraron correspondencias",tryDifferentIngredients:"Prueba a seleccionar diferentes ingredientes o ajustar los filtros",dishAdded:"{{title}} añadido a tu menú!"},P8={title:"Plan de Comidas",description:"Planifica tus comidas y organiza tu horario de cocina",mealPlanCalendar:"Calendario de Comidas",scheduleDish:"Programar Plato",selectDate:"Seleccionar Fecha",mealType:"Tipo de Comida",servings:"Porciones",notes:"Notas",notesPlaceholder:"Añade notas especiales o modificaciones...",schedule:"Programar",breakfast:"Desayuno",lunch:"Almuerzo",dinner:"Cena",snack:"Merienda",addMeal:"Añadir Comida",dishScheduled:"{{title}} programado para el {{date}}",mealRemoved:"Comida eliminada del calendario",noSelectedDishes:"Por favor, selecciona algunos platos primero",totalMeals:"Total de Comidas",uniqueDishes:"Platos Únicos",totalCookingTime:"Tiempo de Cocción Total",totalServings:"Total de Porciones",upcomingMeals:"Comidas Próximas",noUpcomingMeals:"No hay comidas próximas",startScheduling:"Comienza a programar tus comidas",print:{title:"Calendario de Comidas",printCalendar:"Imprimir Calendario",startDate:"Fecha de Inicio",endDate:"Fecha de Fin",dateRange:"Rango de Fechas",daysSelected:"Días Seleccionados",daysWithMeals:"Días con Comidas",noMealsInRange:"No hay comidas programadas en el rango seleccionado",showPreview:"Mostrar Vista Previa",hidePreview:"Ocultar Vista Previa",print:"Imprimir",downloadPDF:"Descargar PDF",downloadedPDF:"¡Calendario de comidas descargado como PDF!",noMealsForDay:"No hay comidas programadas para este día"}},C8={sunday:"Dom",monday:"Lun",tuesday:"Mar",wednesday:"Mié",thursday:"Jue",friday:"Vie",saturday:"Sáb",january:"Enero",february:"Febrero",march:"Marzo",april:"Abril",may:"Mayo",june:"Junio",july:"Julio",august:"Agosto",september:"Septiembre",october:"Octubre",november:"Noviembre",december:"Diciembre"},A8={title:"Lista de Compras",subtitle:"Marca los ingredientes que ya tienes en casa para eliminarlos de la lista de compras.",itemsToBuy:"artículos para comprar",itemsYouHave:"artículos que tienes",itemsToBuyTitle:"Artículos para Comprar",itemsYouHaveTitle:"Artículos que Tienes",noShoppingList:"Aún No Hay Lista de Compras",noShoppingListDesc:"Selecciona algunos platos desde la página principal para generar tu lista de compras",browseDishes:"Explorar Platos",selectedDishes:"Platos Seleccionados",allItemsOwned:"¡Todos los ingredientes están marcados como poseídos!",noItemsOwned:"Aún no hay artículos marcados como poseídos",copy:"Copiar",copied:"¡Copiado!",pdf:"PDF",share:"Compartir"},E8={culinaryPreferences:"Preferencias Culinarias",culinaryPreferencesDesc:"Selecciona tus cocinas favoritas para obtener recomendaciones personalizadas",ingredientsToAvoid:"Ingredientes a Evitar",ingredientsToAvoidDesc:"Añade ingredientes que no te gustan para obtener mejores recomendaciones",addIngredientPlaceholder:"Ingresa un ingrediente que no te gusta...",myPantry:"Mi Despensa",pantryItems:"artículos",show:"Mostrar",hide:"Ocultar",dishesSelected:"Platos Seleccionados",preferredCuisines:"Cocinas Favoritas",pantryItemsCount:"Artículos de la Despensa",shoppingListItems:"Artículos de la Lista de Compras",preferencesUpdated:"Preferencias actualizadas",noDislikedIngredients:"Aún no se han añadido ingredientes no deseados",ingredientAdded:"Ingrediente añadido",noIngredientFound:"No encontrado",ingredientRemoved:"Ingrediente eliminado",add:"Añadir"},I8={metric:"Métrico",imperial:"Imperial",temperature:{celsius:"°C",fahrenheit:"°F"},units:{g:"g",kg:"kg",ml:"ml",l:"l",cup:"taza",cups:"tazas",tbsp:"cucharada",tsp:"cucharadita",piece:"pieza",pieces:"piezas"}},T8={loading:"Cargando...",error:"Error",success:"Éxito",cancel:"Cancelar",save:"Guardar",delete:"Eliminar",edit:"Editar",close:"Cerrar",back:"Atrás",next:"Siguiente",previous:"Anterior",search:"Buscar",filter:"Filtrar",all:"Todos",none:"Ninguno",yes:"Sí",no:"No",added:"añadido a la selección",removed:"eliminado de la selección",from:"de",generatedOn:"Generado el",totalItems:"Total de Artículos",viewRecipes:"Ver Recetas",hideRecipes:"Ocultar Recetas",more:"más",optional:"opcional"},O8={italian:"Italiana",asian:"Asiática",french:"Francesa",mexican:"Mexicana",indian:"India",mediterranean:"Mediterránea",american:"Americana",vegan:"Vegana"},D8={minutes:"minutos",hours:"horas",days:"días",weeks:"semanas",months:"meses"},M8={yourLocation:"Tu Ubicación",detecting:"Detectando...",settings:"Configuraciones"},R8={culinaryPreferences:"Preferencias Culinarias",selectFavorites:"Selecciona tus cocinas favoritas para obtener recomendaciones personalizadas"},F8={title:"Platos Seleccionados",noDishesSelected:"No hay platos seleccionados",startAdding:"Comienza a añadir platos para ver tu plan de comidas aquí",totalTime:"tiempo total",totalServings:"porciones",totalIngredients:"Total de ingredientes necesarios"},$8={pasta:"pasta",creamy:"cremoso",classic:"clásico",healthy:"saludable",rice:"arroz",chicken:"pollo",spicy:"picante",meat:"carne",quick:"rápido",aromatic:"aromático",comfort:"confortante",fresh:"fresco",light:"ligero",vegan:"vegano"},B8={brand:w8,navigation:x8,landing:b8,footer:S8,auth:N8,home:k8,dish:_8,ingredients:j8,recipe:L8,mealPlan:P8,calendar:C8,shoppingList:A8,profile:E8,measurements:I8,common:T8,cuisines:O8,time:D8,location:M8,preferences:R8,selectedDishes:F8,tags:$8},z8={name:"KingMenu",tagline:"Pianifica. Cuoci. Gusta.",description:"Piattaforma di pianificazione alimentare alimentata dall'IA"},U8={home:"Home",useMyIngredients:"Usa i Miei Ingredienti",mealPlan:"Piano dei Pasti",profile:"Profilo",favorites:"Preferiti",myRecipes:"Le Mie Ricette",shoppingList:"Lista della Spesa",logout:"Disconnessione"},q8={title:"Benvenuto su King Menu",subtitle:"Scopri un nuovo modo per pianificare i pasti, esplorare ricette e organizzare la tua cucina.",featuresTitle:"King Menu ti consente di:",featureRecipes:"Scoprire ricette selezionate e aggiornate regolarmente.",featureIngredients:"Trovare piatti in base agli ingredienti che hai già a casa.",featurePlanner:"Pianificare i tuoi pasti settimanali in pochi clic.",featureShoppingList:"Generare automaticamente la lista della spesa dal menu scelto.",loginButton:"Accedi a King Menu",footer:"Pianifica. Cucina. Gusta."},W8={welcomeTitle:"Benvenuto su King Menu!",login:"Accedi",signUp:"Registrati",email:"Indirizzo Email",password:"Password",fullName:"Nome Completo",enterEmail:"Inserisci la tua email",enterPassword:"Inserisci la tua password",enterFullName:"Inserisci il tuo nome completo",createAccount:"Crea Account",orContinueWith:"O continua con",google:"Google",facebook:"Facebook",locationDetection:"Rileveremo la tua posizione per raccomandazioni personalizzate",fullNameLabel:"Nome completo",fullNamePlaceholder:"Inserisci il tuo nome completo",emailLabel:"Indirizzo e-mail",emailPlaceholder:"Inserisci la tua e-mail",passwordLabel:"Password",passwordPlaceholder:"Inserisci la tua password"},H8={recommendedDishes:"Piatti Raccomandati",dishesFound:"piatti trovati",searchPlaceholder:"Cerca piatti o cucine...",allCuisines:"Tutte le Cucine",allDifficulties:"Tutte le Difficoltà",surpriseMe:"Sorprendimi",surprise:"Sorpresa! Prova",cookWithIngredients:"Cuoci con Quello che Hai",cookWithIngredientsDesc:"Dicci quali ingredienti hai, e ti suggeriremo piatti perfetti da preparare",startWithIngredients:"Inizia con gli Ingredienti",noDishesFound:"Nessun piatto trovato",adjustFilters:"Prova ad aggiustare i filtri o i termini di ricerca",allDishesSelected:"Tutti i piatti sono già selezionati!"},V8={minutes:"min",calories:"cal",servings:"porzioni",cookingTime:"Tempo di Cottura",difficulty:"Difficoltà",previewRecipe:"Anteprima Ricetta",recipe:"Ricetta",add:"Aggiungi",added:"Aggiunto",cookMode:"Modalità Cottura"},G8={whatsInKitchen:"Cosa hai in Cucina?",whatsInKitchenDesc:"Seleziona gli ingredienti che hai a casa, e ti suggeriremo piatti deliziosi che puoi preparare con un minimo di spese extra.",searchIngredients:"Cerca ingredienti...",allCategories:"Tutte le Categorie",selectedIngredients:"Ingredienti Selezionati",clearAll:"Cancella Tutto",findDishes:"Trova Piatti",findingDishes:"Ricerca dei Piatti in Corso...",ingredients:"ingredienti",selectAtLeastOne:"Seleziona almeno un ingrediente",dishesFound:"Piatti trovati utilizzando {{count}} ingredienti!",categories:{proteins:"Proteine",vegetables:"Verdure",dairy:"Latticini e Uova",grains:"Cereali e Amidi",pantry:"Dispensa",fruits:"Frutta",condiments:"Condimenti e Salse",herbs:"Erbe e Spezie"}},K8={ingredients:"Ingredienti",instructions:"Istruzioni",step:"Passo",adjustServings:"Regola le Porzioni:",addToMenu:"Aggiungi al Menu",addedToMenu:"{{title}} aggiunto al tuo menu!",enterCookMode:"Entra in Modalità Cottura",downloadPDF:"PDF",share:"Condividi",completedStep:"Passo completato!",finishCooking:"Termina la Cottura",completeStep:"Completa il Passo",previous:"Precedente",next:"Successivo",needIngredient:"Necessario: {{name}}",moreNeeded:"+{{count}} altri necessari",dishMatches:"Piatti Corrispondenti",basedOnIngredients:"Basato su {{count}} ingredienti selezionati",totalMatches:"Totale delle Corrispondenze",perfectMatches:"Corrispondenze Perfette",nearMatches:"Corrispondenze Quasi Perfette",creativeMatches:"Opzioni Creative",allResults:"Tutti i Risultati",matchType:{perfect:"Corrispondenza Perfetta",near:"Corrispondenza Quasi Perfetta",creative:"Opzione Creativa"},recipeDetails:{ingredients:"Ingredienti",instructions:"Istruzioni",adjustServings:"Regola le porzioni :",addedToMenu:"{{title}} aggiunto al tuo menu !",enterCookMode:"Modalità cottura",downloadPDF:"PDF",share:"Condividi",completedStep:"Passaggio completato !",finishCooking:"Termina la cottura",completeStep:"Completa il passaggio",previous:"Precedente",next:"Successivo"},noMatches:"Nessuna corrispondenza trovata",tryDifferentIngredients:"Prova a selezionare ingredienti diversi o ad aggiustare i filtri",dishAdded:"{{title}} aggiunto al tuo menu!"},J8={title:"Piano dei Pasti",description:"Pianifica i tuoi pasti e organizza il tuo programma di cucina",mealPlanCalendar:"Calendario dei Pasti",scheduleDish:"Programma un Piatto",selectDate:"Seleziona la Data",mealType:"Tipo di Piatto",servings:"Porzioni",notes:"Note",notesPlaceholder:"Aggiungi note speciali o modifiche...",schedule:"Programma",breakfast:"Colazione",lunch:"Pranzo",dinner:"Cena",snack:"Spuntino",addMeal:"Aggiungi Piatto",dishScheduled:"{{title}} programmato per il {{date}}",mealRemoved:"Piatto rimosso dal calendario",noSelectedDishes:"Per favore, seleziona prima alcuni piatti",totalMeals:"Totale dei Pasti",uniqueDishes:"Piatti Unici",totalCookingTime:"Tempo di Cottura Totale",totalServings:"Totale delle Porzioni",upcomingMeals:"Pasti Imminenti",noUpcomingMeals:"Nessun pasto imminente",startScheduling:"Inizia a programmare i tuoi pasti",print:{title:"Calendario dei Pasti",printCalendar:"Stampa il Calendario",startDate:"Data di Inizio",endDate:"Data di Fine",dateRange:"Intervallo di Date",daysSelected:"Giorni Selezionati",daysWithMeals:"Giorni con Pasti",noMealsInRange:"Nessun pasto programmato nell'intervallo selezionato",showPreview:"Mostra Anteprima",hidePreview:"Nascondi Anteprima",print:"Stampa",downloadPDF:"Scarica PDF",downloadedPDF:"Calendario dei pasti scaricato come PDF!",noMealsForDay:"Nessun pasto programmato per questo giorno"}},Y8={sunday:"Dom",monday:"Lun",tuesday:"Mar",wednesday:"Mer",thursday:"Gio",friday:"Ven",saturday:"Sab",january:"Gennaio",february:"Febbraio",march:"Marzo",april:"Aprile",may:"Maggio",june:"Giugno",july:"Luglio",august:"Agosto",september:"Settembre",october:"Ottobre",november:"Novembre",december:"Dicembre"},Q8={title:"Lista della Spesa",subtitle:"Seleziona gli ingredienti che hai già a casa per rimuoverli dalla lista della spesa.",itemsToBuy:"articoli da comprare",itemsYouHave:"articoli che hai",itemsToBuyTitle:"Articoli da Comprare",itemsYouHaveTitle:"Articoli che Hai",noShoppingList:"Nessuna Lista della Spesa",noShoppingListDesc:"Seleziona alcuni piatti dalla pagina principale per generare la tua lista della spesa",browseDishes:"Sfoglia i Piatti",selectedDishes:"Piatti Selezionati",allItemsOwned:"Tutti gli ingredienti sono contrassegnati come posseduti!",noItemsOwned:"Nessun articolo contrassegnato come posseduto",copy:"Copia",copied:"Copiato!",pdf:"PDF",share:"Condividi"},X8={culinaryPreferences:"Preferenze Culinarie",culinaryPreferencesDesc:"Seleziona le tue cucine preferite per ottenere raccomandazioni personalizzate",ingredientsToAvoid:"Ingredienti da Evitare",ingredientsToAvoidDesc:"Aggiungi gli ingredienti che non ti piacciono per ottenere migliori raccomandazioni",addIngredientPlaceholder:"Inserisci un ingrediente che non ti piace...",myPantry:"La Mia Dispensa",pantryItems:"articoli",show:"Mostra",hide:"Nascondi",dishesSelected:"Piatti Selezionati",preferredCuisines:"Cucine Preferite",pantryItemsCount:"Articoli della Dispensa",shoppingListItems:"Articoli della Lista della Spesa",noDislikedIngredients:"Nessun ingrediente non gradito aggiunto",preferencesUpdated:"Preferenze aggiornate",ingredientAdded:"Ingrediente aggiunto",noIngredientFound:"Non trovato",ingredientRemoved:"Ingrediente rimosso",add:"Aggiungi"},Z8={metric:"Metrico",imperial:"Imperiale",temperature:{celsius:"°C",fahrenheit:"°F"},units:{g:"g",kg:"kg",ml:"ml",l:"l",cup:"tazza",cups:"tazze",tbsp:"cucchiaio",tsp:"cucchiaino",piece:"pezzo",pieces:"pezzi"}},eC={loading:"Caricamento...",error:"Errore",success:"Successo",cancel:"Annulla",save:"Salva",delete:"Elimina",edit:"Modifica",close:"Chiudi",back:"Indietro",next:"Successivo",previous:"Precedente",search:"Cerca",filter:"Filtra",all:"Tutti",none:"Nessuno",yes:"Sì",no:"No",added:"aggiunto alla selezione",removed:"rimosso dalla selezione",from:"da",generatedOn:"Generato il",totalItems:"Totale degli Articoli",viewRecipes:"Vedi Ricette",hideRecipes:"Nascondi Ricette",more:"altro",optional:"opzionale"},tC={italian:"Italiana",asian:"Asiatica",french:"Francese",mexican:"Messicana",indian:"Indiana",mediterranean:"Mediterranea",american:"Americana",vegan:"Vegana"},nC={minutes:"minuti",hours:"ore",days:"giorni",weeks:"settimane",months:"mesi"},rC={yourLocation:"La Tua Posizione",detecting:"Rilevamento in Corso...",settings:"Impostazioni"},iC={culinaryPreferences:"Preferenze Culinarie",selectFavorites:"Seleziona le tue cucine preferite per ottenere raccomandazioni personalizzate"},sC={title:"Piatti Selezionati",noDishesSelected:"Nessun piatto selezionato",startAdding:"Inizia ad aggiungere piatti per vedere il tuo piano dei pasti qui",totalTime:"tempo totale",totalServings:"porzioni",totalIngredients:"Totale degli ingredienti necessari"},aC={privacy:"Privacy Policy",terms:"Terms of Use"},oC={pasta:"pasta",creamy:"cremoso",classic:"classico",healthy:"sano",rice:"riso",chicken:"pollo",spicy:"piccante",meat:"carne",quick:"veloce",aromatic:"aromatico",comfort:"confortante",fresh:"fresco",light:"leggero",vegan:"vegano"},lC={brand:z8,navigation:U8,landing:q8,auth:W8,home:H8,dish:V8,ingredients:G8,recipe:K8,mealPlan:J8,calendar:Y8,shoppingList:Q8,profile:X8,measurements:Z8,common:eC,cuisines:tC,time:nC,location:rC,preferences:iC,selectedDishes:sC,footer:aC,tags:oC},cC={title:"Cook Mode",stepCount:"Step {{current}} of {{total}}",stepCompleted:"Step completed!",completeStep:"Complete Step",finishCooking:"Finish Cooking",mute:"Mute voice guidance",unmute:"Enable voice guidance",noVoices:"No voices available in your browser",voiceError:"Voice guidance failed. Please try again.",voiceUnsupported:"Text-to-speech is not supported in your browser",selectVoice:"Select voice"},uC={cookMode:cC},dC={title:"Mode Cuisson",stepCount:"Étape {{current}} sur {{total}}",stepCompleted:"Étape terminée !",completeStep:"Valider l'étape",finishCooking:"Terminer la cuisson",mute:"Couper le guidage vocal",unmute:"Activer le guidage vocal",noVoices:"Aucune voix disponible dans votre navigateur",voiceError:"Échec du guidage vocal. Veuillez réessayer.",voiceUnsupported:"La synthèse vocale n'est pas supportée par votre navigateur",selectVoice:"Choisir une voix"},hC={cookMode:dC},fC={title:"وضع الطهي",stepCount:"الخطوة {{current}} من {{total}}",stepCompleted:"تم إكمال الخطوة!",completeStep:"إكمال الخطوة",finishCooking:"إنهاء الطهي",mute:"كتم الصوت",unmute:"تشغيل التوجيه الصوتي",noVoices:"لا توجد أصوات متاحة في متصفحك",voiceError:"فشل التوجيه الصوتي. يرجى المحاولة مرة أخرى.",voiceUnsupported:"ميزة تحويل النص إلى كلام غير مدعومة في متصفحك",selectVoice:"اختر الصوت"},pC={cookMode:fC},gC={title:"Modo Cocina",stepCount:"Paso {{current}} de {{total}}",stepCompleted:"¡Paso completado!",completeStep:"Completar paso",finishCooking:"Terminar cocción",mute:"Silenciar guía vocal",unmute:"Activar guía vocal",noVoices:"No hay voces disponibles en tu navegador",voiceError:"Error en la guía vocal. Por favor inténtalo de nuevo.",voiceUnsupported:"Texto a voz no compatible con tu navegador",selectVoice:"Seleccionar voz"},mC={cookMode:gC},vC={title:"Modalità Cottura",stepCount:"Passo {{current}} di {{total}}",stepCompleted:"Passo completato!",completeStep:"Completa passo",finishCooking:"Termina cottura",mute:"Disattiva guida vocale",unmute:"Attiva guida vocale",noVoices:"Nessuna voce disponibile nel tuo browser",voiceError:"Guida vocale fallita. Per favore riprova.",voiceUnsupported:"Sintesi vocale non supportata dal tuo browser",selectVoice:"Seleziona voce"},yC={cookMode:vC},wC={en:{translation:pP,cookMode:uC},fr:{translation:JP,cookMode:hC},ar:{translation:y8,cookMode:pC},es:{translation:B8,cookMode:mC},it:{translation:lC,cookMode:yC}};dn.use(Zw).use(fN).init({resources:wC,fallbackLng:"fr",debug:!0,ns:["translation","cookMode"],defaultNS:"translation",detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]},interpolation:{escapeValue:!1},react:{useSuspense:!1}}).then(()=>{console.log("i18next initialized with language:",dn.language),console.log("Resources for fr:",dn.getResourceBundle("fr","translation")),console.log("CookMode resources for fr:",dn.getResourceBundle("fr","cookMode")),typeof window<"u"&&(window.i18n=dn,console.log("i18n exposed to window object"))}).catch(t=>{console.error("i18next initialization failed:",t)});function xC(){const{state:t}=En(),{i18n:e,t:n}=Lt(),{isRTL:r}=Qk(),i=Wh(),s=Ua(),[a,o]=Z.useState(!1);return Z.useEffect(()=>{const l=localStorage.getItem("gusto-language"),u=localStorage.getItem("gusto-direction");l&&l!==e.language&&e.changeLanguage(l),u&&(document.documentElement.dir=u,document.documentElement.classList.toggle("rtl",u==="rtl"))},[e]),Z.useEffect(()=>{t.user&&!a&&(s.pathname==="/login"||s.pathname==="/welcome")&&(i("/"),o(!0))},[t.user,a,s.pathname,i]),d.jsxs("div",{className:`min-h-screen bg-gray-50 ${r?"rtl":"ltr"}`,children:[t.user&&d.jsx(y_,{}),d.jsx("main",{children:d.jsxs(rS,{children:[d.jsx(vr,{path:"/welcome",element:t.user?d.jsx(Vi,{to:"/"}):d.jsx(x_,{})}),d.jsx(vr,{path:"/",element:t.user?d.jsx(Oj,{}):d.jsx(Vi,{to:"/welcome"})}),d.jsx(vr,{path:"/use-my-ingredients",element:t.user?d.jsx(Rj,{}):d.jsx(Vi,{to:"/welcome"})}),d.jsx(vr,{path:"/meal-plan",element:t.user?d.jsx(Wj,{}):d.jsx(Vi,{to:"/welcome"})}),d.jsx(vr,{path:"/profile",element:t.user?d.jsx(Fj,{}):d.jsx(Vi,{to:"/welcome"})}),d.jsx(vr,{path:"/favorites",element:t.user?d.jsx($j,{}):d.jsx(Vi,{to:"/welcome"})}),d.jsx(vr,{path:"/my-recipes",element:t.user?d.jsx(zj,{}):d.jsx(Vi,{to:"/welcome"})}),d.jsx(vr,{path:"/shopping-list",element:t.user?d.jsx(Bj,{}):d.jsx(Vi,{to:"/welcome"})}),d.jsx(vr,{path:"/login",element:d.jsx(w_,{})}),d.jsx(vr,{path:"/privacy-policy",element:d.jsx(Hj,{})}),d.jsx(vr,{path:"/terms-of-use",element:d.jsx(Vj,{})}),d.jsx(vr,{path:"*",element:d.jsx(Vi,{to:t.user?"/":"/welcome"})})]})}),d.jsxs("footer",{className:"p-4 text-center text-gray-500 border-t",children:[d.jsx("a",{href:"/privacy-policy",className:"mx-2 hover:underline",children:n("footer.privacy")}),d.jsx("a",{href:"/terms-of-use",className:"mx-2 hover:underline",children:n("footer.terms")})]})]})}function bC(){return d.jsxs(Jk,{children:[d.jsx(uS,{children:d.jsx(xC,{})}),d.jsx(tN,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff"},success:{style:{background:"#22C55E"}},error:{style:{background:"#EF4444"}}}})]})}_5(document.getElementById("root")).render(d.jsx(Z.StrictMode,{children:d.jsx(bC,{})}));export{$r as c,Fx as g,yL as t};
